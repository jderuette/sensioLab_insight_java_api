<?xml version="1.0" encoding="UTF-8"?>
<analysis>
	<link
		href="https://insight.sensiolabs.com/api/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7"
		rel="self" type="application/vnd.com.sensiolabs.insight+xml" />
	<link
		href="https://insight.sensiolabs.com/api/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7/status"
		rel="status" type="application/vnd.com.sensiolabs.insight+xml" />
	<link
		href="https://insight.sensiolabs.com/api/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7"
		rel="project" type="application/vnd.com.sensiolabs.insight+xml" />
	<link
		href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7"
		rel="self" type="text/html" />
	<status><![CDATA[finished]]></status>
	<violations>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>0</line>
			<title>Version of dependencies should be fixed</title>
			<message><![CDATA[Package willdurand/oauth-server-bundle#dev-master is not fixed.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819558"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="true">
			<line>229</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MessageHelper.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $leadEmail may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="224" end-line="234"><![CDATA[
                    return false;
                }
            } else {
                $leadEmail = $message->fromAddress;
                $this->logger->debug('From address used: '.$leadEmail);
            }

            // Search by first part and domain of email to find cases like me+mautic@domain.com
            list($email, $domain) = explode('@', strtolower($leadEmail));
            $email                = $email.'%';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=ignored#516819008"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>116</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $data['Contact']['Email'] may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="111" end-line="121"><![CDATA[        $queryUrl            = $this->integration->getQueryUrl();
        $sfRecord['records'] = [];
        //try searching for lead as this has been changed before in updated done to the plugin
        if (isset($config['objects']) && array_search('Contact', $config['objects']) && isset($data['Contact']['Email'])) {
            $sfObject    = 'Contact';
            $findContact = 'select Id from Contact where email = \''.$data['Contact']['Email'].'\'';
            $sfRecord    = $this->request('query', ['q' => $findContact], 'GET', false, null, $queryUrl);
        }

        if (empty($sfRecord['records']) && isset($data['Lead']['Email'])) {
            $sfObject = 'Lead';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819222"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>122</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $data['Lead']['Email'] may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="117" end-line="127"><![CDATA[            $sfRecord    = $this->request('query', ['q' => $findContact], 'GET', false, null, $queryUrl);
        }

        if (empty($sfRecord['records']) && isset($data['Lead']['Email'])) {
            $sfObject = 'Lead';
            $findLead = 'select Id, ConvertedContactId from Lead where email = \''.$data['Lead']['Email'].'\'';
            $sfRecord = $this->request('query', ['q' => $findLead], 'GET', false, null, $queryUrl);
        }
        $sfLeadRecords = $sfRecord['records'];

        if (!empty($sfLeadRecords)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819234"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>221</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $object may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="216" end-line="226"><![CDATA[                        if ($result['errors'][0]['statusCode'] == 'CANNOT_UPDATE_CONVERTED_LEAD') {
                            $references   = explode('-', $result['referenceId']);
                            $SF_leadIds[] = $references[1];

                            $leadIds = implode("','", $SF_leadIds);
                            $query   = 'select Id, ConvertedContactId from '.$object." where id in ('".$leadIds."')";

                            $contacts = $this->request('query', ['q' => $query], 'GET', false, null, $queryUrl);

                            foreach ($contacts['records'] as $contact) {
                                foreach ($activityData['records'] as $key => $record) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819389"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>302</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $fields may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="297" end-line="307"><![CDATA[            $config = $this->integration->mergeConfigToFeatureSettings([]);
            if (isset($config['updateOwner']) && isset($config['updateOwner'][0]) && $config['updateOwner'][0] == 'updateOwner') {
                $fields = 'Owner.Name, Owner.Email, '.$fields;
            }

            $getLeadsQuery = 'SELECT '.$fields.' from '.$object.' where LastModifiedDate>='.$query['start'].' and LastModifiedDate<='.$query['end'];
            $result        = $this->request('query', ['q' => $getLeadsQuery], 'GET', false, null, $queryUrl);
        } elseif (isset($query['nextUrl'])) {
            $query  = str_replace('/services/data/v34.0/query', '', $query['nextUrl']);
            $result = $this->request('query'.$query, [], 'GET', false, null, $queryUrl);
        } else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819441"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>343</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of trim($campaignId) may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="338" end-line="348"><![CDATA[        return $result;
    }

    public function getCampaignMembers($campaignId)
    {
        $campaignMembersQuery = "Select CampaignId, ContactId, LeadId, isDeleted from CampaignMember where CampaignId = '".trim($campaignId)."'";
        $queryUrl             = $this->integration->getQueryUrl();
        $result               = $this->request('query', ['q' => $campaignMembersQuery], 'GET', false, null, $queryUrl);

        return $result;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818873"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>352</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $campaignId may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="347" end-line="357"><![CDATA[        return $result;
    }

    public function getCampaignMemberStatus($campaignId)
    {
        $campaignQuery = "Select Id, Label from CampaignMemberStatus where isDeleted = false and CampaignId='".$campaignId."'";
        $queryUrl      = $this->integration->getQueryUrl();

        $result = $this->request('query', ['q' => $campaignQuery], 'GET', false, null, $queryUrl);

        return $result;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819045"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1028</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of implode("','", array_keys($checkEmailsInSF)) may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1023" end-line="1033"><![CDATA[        }

        $deletedSFLeads      = [];
        $salesforceIdMapping = [];
        if ($checkEmailsInSF) {
            $findLead = 'select Id, ConvertedContactId, Email, IsDeleted from Lead where isDeleted = false and Email in (\''.implode("','", array_keys($checkEmailsInSF))
                .'\')';
            $queryUrl = $this->getQueryUrl();

            if (isset($config['objects']) && array_search('Contact', $config['objects'])) {
                $findContact = 'select Id, Email, IsDeleted from Contact where isDeleted = false and Email in (\''.implode("','", array_keys($checkEmailsInSF))]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819387"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1033</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of implode("','", array_keys($checkEmailsInSF)) may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1028" end-line="1038"><![CDATA[            $findLead = 'select Id, ConvertedContactId, Email, IsDeleted from Lead where isDeleted = false and Email in (\''.implode("','", array_keys($checkEmailsInSF))
                .'\')';
            $queryUrl = $this->getQueryUrl();

            if (isset($config['objects']) && array_search('Contact', $config['objects'])) {
                $findContact = 'select Id, Email, IsDeleted from Contact where isDeleted = false and Email in (\''.implode("','", array_keys($checkEmailsInSF))
                    .'\')';
                $sfContact = $this->getApiHelper()->request('query', ['q' => $findContact], 'GET', false, null, $queryUrl);
            }

            $sfLead = $this->getApiHelper()->request('query', ['q' => $findLead], 'GET', false, null, $queryUrl);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819244"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1422</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $fields may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1417" end-line="1427"><![CDATA[                $listOfLeadsToFetch = "'".$listOfLeadsToFetch."'";

                $fields    = $this->getMixedLeadFields($mixedFields, 'Lead');
                $fields[]  = 'Id';
                $fields    = implode(', ', array_unique($fields));
                $leadQuery = 'SELECT '.$fields.' from Lead where Id in ('.$listOfLeadsToFetch.')';

                $this->getLeads([], $leadQuery, $executed, [], 'Lead');

                $allCampaignMembers = array_merge($allCampaignMembers, array_keys($leadsToFetch));
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818720"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1436</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $fields may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1431" end-line="1441"><![CDATA[                $listOfContactsToFetch = implode("','", array_keys($contactsToFetch));
                $listOfContactsToFetch = "'".$listOfContactsToFetch."'";
                $fields                = $this->getMixedLeadFields($mixedFields, 'Contact');
                $fields[]              = 'Id';
                $fields                = implode(', ', array_unique($fields));
                $contactQuery          = 'SELECT '.$fields.' from Contact where Id in ('.$listOfContactsToFetch.')';
                $this->getLeads([], $contactQuery, $executed, [], 'Contact');
                $allCampaignMembers = array_merge($allCampaignMembers, array_keys($contactsToFetch));
            }
            if (!empty($allCampaignMembers)) {
                $internalLeadIds = implode('", "', $allCampaignMembers);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819156"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1562</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $lead->getEmail() may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1557" end-line="1567"><![CDATA[        $leadIds       = [];

        if (!empty($lead->getEmail())) {
            if (isset($config['objects']) && array_search('Contact', $config['objects'])) {
                $sfObject        = 'Contact';
                $findContact     = 'select Id from Contact where email = \''.$lead->getEmail().'\'';
                $sfRecordContact = $this->getApiHelper()->request('query', ['q' => $findContact], 'GET', false, null, $queryUrl);
                if (!empty($sfRecordContact['records'])) {
                    $sfLeadRecords = $sfRecordContact['records'];
                }
                foreach ($sfRecordContact['records'] as $sfLeadRecord) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819333"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1576</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $lead->getEmail() may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1571" end-line="1581"><![CDATA[                    $existingBody[$type] = $sfLeadId;
                    $all[]               = array_merge($body, $existingBody);
                }
            }

            $findLead     = 'select Id, ConvertedContactId from Lead where email = \''.$lead->getEmail().'\'';
            $sfRecordLead = $this->getApiHelper()->request('query', ['q' => $findLead], 'GET', false, null, $queryUrl);
            $existingBody = [];
            if (!empty($sfRecordLead['records'])) {
                $sfLeadRecords = array_merge($sfLeadRecords, $sfRecordLead['records']);
                foreach ($sfRecordLead['records'] as $sfLeadRecord) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819074"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1600</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $integrationCampaignId may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1595" end-line="1605"><![CDATA[                    $all[]               = array_merge($body, $existingBody);
                }
            }

            if (!empty($sfLeadRecords)) {
                $findCampaignMembers         = "Select Id, ContactId, LeadId from CampaignMember where CampaignId = '".$integrationCampaignId."' and ContactId in ('".implode("','", $allIds)."')";
                $findCampaignLeadMembers     = "Select Id, ContactId, LeadId from CampaignMember where CampaignId = '".$integrationCampaignId."' and LeadId in ('".implode("','", $allIds)."')";
                $existingCampaignMemberLeads = $this->getApiHelper()->request('query', ['q' => $findCampaignLeadMembers], 'GET', false, null, $queryUrl);
                $existingCampaignMember      = $this->getApiHelper()->request('query', ['q' => $findCampaignMembers], 'GET', false, null, $queryUrl);
                $existingFoundRecords        = array_merge($existingCampaignMember['records'], $existingCampaignMemberLeads['records']);
                if (!empty($existingFoundRecords)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818986"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>1601</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Database queries should use parameter binding</title>
			<message><![CDATA[If provided by the user, the value of $integrationCampaignId may allow an SQL injection attack. Avoid concatenating parameters to SQL query strings, and use parameter binding instead.]]></message>
			<context start-line="1596" end-line="1606"><![CDATA[                }
            }

            if (!empty($sfLeadRecords)) {
                $findCampaignMembers         = "Select Id, ContactId, LeadId from CampaignMember where CampaignId = '".$integrationCampaignId."' and ContactId in ('".implode("','", $allIds)."')";
                $findCampaignLeadMembers     = "Select Id, ContactId, LeadId from CampaignMember where CampaignId = '".$integrationCampaignId."' and LeadId in ('".implode("','", $allIds)."')";
                $existingCampaignMemberLeads = $this->getApiHelper()->request('query', ['q' => $findCampaignLeadMembers], 'GET', false, null, $queryUrl);
                $existingCampaignMember      = $this->getApiHelper()->request('query', ['q' => $findCampaignMembers], 'GET', false, null, $queryUrl);
                $existingFoundRecords        = array_merge($existingCampaignMember['records'], $existingCampaignMemberLeads['records']);
                if (!empty($existingFoundRecords)) {
                    foreach ($existingFoundRecords as $campaignMember) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819448"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>0</line>
			<title>The Doctrine schema should be valid.</title>
			<message><![CDATA[A Doctrine schema validation problem has been detected: The field 'Bazinga\OAuthServerBundle\Model\RequestToken#expiresAt' uses a non-existant type 'int'.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819059"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>0</line>
			<title>The Doctrine schema should be valid.</title>
			<message><![CDATA[A Doctrine schema validation problem has been detected: The association Mautic\DynamicContentBundle\Entity\DynamicContentLeadData#dynamicContent refers to the inverse side field Mautic\DynamicContentBundle\Entity\DynamicContent#id which is not defined as association.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819297"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>0</line>
			<title>The Doctrine schema should be valid.</title>
			<message><![CDATA[A Doctrine schema validation problem has been detected: The association Mautic\DynamicContentBundle\Entity\DynamicContentLeadData#dynamicContent refers to the inverse side field Mautic\DynamicContentBundle\Entity\DynamicContent#id which does not exist.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818706"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>0</line>
			<title>The Doctrine schema should be valid.</title>
			<message><![CDATA[A Doctrine schema validation problem has been detected: The field 'Bazinga\OAuthServerBundle\Model\AccessToken#expiresAt' uses a non-existant type 'int'.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818796"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>173</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/CommonRepository.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="168" end-line="178"><![CDATA[        $batchSize = 20;
        foreach ($entities as $k => $entity) {
            $this->deleteEntity($entity, false);

            if ((($k + 1) % $batchSize) === 0) {
                $this->_em->flush();
            }
        }
        $this->_em->flush();
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819177"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>726</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/CommonRepository.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="721" end-line="731"><![CDATA[        $batchSize = 20;
        foreach ($entities as $k => $entity) {
            $this->saveEntity($entity, false);

            if ((($k + 1) % $batchSize) === 0) {
                $this->getEntityManager()->flush();
            }
        }
        $this->getEntityManager()->flush();
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819575"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>126</line>
			<resource><![CDATA[app/bundles/CoreBundle/Model/FormModel.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="121" end-line="131"><![CDATA[
            $event = $this->dispatchEvent('pre_save', $entity, $isNew);
            $this->getRepository()->saveEntity($entity, false);

            if ((($k + 1) % $batchSize) === 0) {
                $this->em->flush();
            }
        }

        $this->em->flush();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819446"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>280</line>
			<resource><![CDATA[app/bundles/CoreBundle/Model/FormModel.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="275" end-line="285"><![CDATA[                //set the id for use in events
                $entity->deletedId = $id;
                $this->dispatchEvent('post_delete', $entity, false, $event);
            }
            if ((($k + 1) % $batchSize) === 0) {
                $this->em->flush();
            }
        }
        $this->em->flush();
        //retrieving the entities while here so may as well return them so they can be used if needed
        return $entities;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819535"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>289</line>
			<resource><![CDATA[app/bundles/EmailBundle/Model/EmailModel.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="284" end-line="294"><![CDATA[            if ($dispatchEvent) {
                $this->dispatchEvent('post_save', $entity, $isNew, $event);
            }

            if ((($k + 1) % $batchSize) === 0) {
                $this->em->flush();
            }
        }
        $this->em->flush();
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819490"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>81</line>
			<resource><![CDATA[app/bundles/InstallBundle/InstallFixtures/ORM/LeadFieldData.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="76" end-line="86"><![CDATA[                $entity->setIsFixed(!empty($field['fixed']));
                $entity->setIsListable(!empty($field['listable']));
                $entity->setIsShortVisible(!empty($field['short']));

                $manager->persist($entity);
                $manager->flush();

                try {
                    $schema->addColumn(
                        FieldModel::getSchemaDefinition($alias, $type, $entity->getIsUniqueIdentifier())
                    );]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819430"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>104</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Model/NotificationModel.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="99" end-line="109"><![CDATA[            if ($dispatchEvent) {
                $this->dispatchEvent('post_save', $entity, $isNew, $event);
            }

            if ((($k + 1) % $batchSize) === 0) {
                $this->em->flush();
            }
        }
        $this->em->flush();
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818737"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>133</line>
			<resource><![CDATA[app/bundles/SmsBundle/Model/SmsModel.php]]></resource>
			<title>The EntityManager should not be flushed within a loop</title>
			<message><![CDATA[Calling flush is a resource intensive operation, especially when a lot of entities are managed by Doctrine. You should pass the entity you want to flush as parameter, or avoid flushing inside a loop.]]></message>
			<context start-line="128" end-line="138"><![CDATA[            if ($dispatchEvent) {
                $this->dispatchEvent('post_save', $entity, $isNew, $event);
            }

            if ((($k + 1) % $batchSize) === 0) {
                $this->em->flush();
            }
        }
        $this->em->flush();
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819207"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>1</line>
			<resource><![CDATA[.gitignore]]></resource>
			<title>User specific files should not appear in .gitignore</title>
			<message><![CDATA[.* is user-specific and should not appear in a project .gitignore. Consider adding it to the user global .gitignore instead.]]></message>
			<context start-line="1" end-line="6"><![CDATA[.*
!.gitignore
!.htaccess
!.gitkeep
/composer.phar
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819587"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>293</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/LeadEventLog.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="288" end-line="298"><![CDATA[    }

    /**
     * @return bool
     */
    public function getIsScheduled()
    {
        return $this->isScheduled;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819070"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>303</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/LeadEventLog.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="298" end-line="308"><![CDATA[    /**
     * @param $isScheduled
     *
     * @return $this
     */
    public function setIsScheduled($isScheduled)
    {
        if (null === $this->previousScheduledState) {
            $this->previousScheduledState = $this->isScheduled;
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818931"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>234</line>
			<resource><![CDATA[app/bundles/ChannelBundle/Entity/Channel.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="229" end-line="239"><![CDATA[    /**
     * @param bool $isEnabled
     *
     * @return Channel
     */
    public function setIsEnabled($isEnabled)
    {
        $this->isEnabled = $isEnabled;

        return $this;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818772"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>387</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="382" end-line="392"><![CDATA[     *
     * @param bool $isPublished
     *
     * @return $this
     */
    public function setIsPublished($isPublished)
    {
        $this->isChanged('isPublished', $isPublished);

        $this->isPublished = $isPublished;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819528"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>401</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="396" end-line="406"><![CDATA[    /**
     * Get isPublished.
     *
     * @return bool
     */
    public function getIsPublished()
    {
        return $this->isPublished;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819610"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>194</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/Notification.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="189" end-line="199"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsRead()
    {
        return $this->isRead;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818955"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>202</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/Notification.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="197" end-line="207"><![CDATA[    }

    /**
     * @param mixed $isRead
     */
    public function setIsRead($isRead)
    {
        $this->isRead = (bool) $isRead;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819054"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>323</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/Stat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="318" end-line="328"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsRead()
    {
        return $this->isRead;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819606"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>339</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/Stat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="334" end-line="344"><![CDATA[    }

    /**
     * @param mixed $isRead
     */
    public function setIsRead($isRead)
    {
        $this->isRead = $isRead;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819171"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>419</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/Stat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="414" end-line="424"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsFailed()
    {
        return $this->isFailed;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819410"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>427</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/Stat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="422" end-line="432"><![CDATA[    }

    /**
     * @param mixed $isFailed
     */
    public function setIsFailed($isFailed)
    {
        $this->isFailed = $isFailed;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819175"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>404</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="399" end-line="409"><![CDATA[     *
     * @param bool $isRequired
     *
     * @return Field
     */
    public function setIsRequired($isRequired)
    {
        $this->isChanged('isRequired', $isRequired);
        $this->isRequired = $isRequired;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819424"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>417</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="412" end-line="422"><![CDATA[    /**
     * Get isRequired.
     *
     * @return bool
     */
    public function getIsRequired()
    {
        return $this->isRequired;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819390"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>676</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="671" end-line="681"><![CDATA[     *
     * @param bool $isCustom
     *
     * @return Field
     */
    public function setIsCustom($isCustom)
    {
        $this->isCustom = $isCustom;

        return $this;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818878"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>688</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="683" end-line="693"><![CDATA[    /**
     * Get isCustom.
     *
     * @return bool
     */
    public function getIsCustom()
    {
        return $this->isCustom;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818799"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>778</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="773" end-line="783"><![CDATA[    }

    /**
     * @return bool
     */
    public function getIsAutoFill()
    {
        return $this->isAutoFill;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819085"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>786</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="781" end-line="791"><![CDATA[    }

    /**
     * @param mixed $isAutoFill
     */
    public function setIsAutoFill($isAutoFill)
    {
        $this->isAutoFill = $isAutoFill;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819092"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>353</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="348" end-line="358"><![CDATA[     *
     * @param bool $isRequired
     *
     * @return LeadField
     */
    public function setIsRequired($isRequired)
    {
        $this->isChanged('isRequired', $isRequired);
        $this->isRequired = $isRequired;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819579"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>366</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="361" end-line="371"><![CDATA[    /**
     * Get isRequired.
     *
     * @return bool
     */
    public function getIsRequired()
    {
        return $this->isRequired;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818820"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>388</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="383" end-line="393"><![CDATA[     *
     * @param bool $isFixed
     *
     * @return LeadField
     */
    public function setIsFixed($isFixed)
    {
        $this->isFixed = $isFixed;

        return $this;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819492"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>400</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="395" end-line="405"><![CDATA[    /**
     * Get isFixed.
     *
     * @return bool
     */
    public function getIsFixed()
    {
        return $this->isFixed;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819126"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>495</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="490" end-line="500"><![CDATA[     *
     * @param bool $isVisible
     *
     * @return LeadField
     */
    public function setIsVisible($isVisible)
    {
        $this->isChanged('isVisible', $isVisible);
        $this->isVisible = $isVisible;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819328"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>508</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="503" end-line="513"><![CDATA[    /**
     * Get isVisible.
     *
     * @return bool
     */
    public function getIsVisible()
    {
        return $this->isVisible;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818950"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>530</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="525" end-line="535"><![CDATA[     *
     * @param bool $isShortVisible
     *
     * @return LeadField
     */
    public function setIsShortVisible($isShortVisible)
    {
        $this->isChanged('isShortVisible', $isShortVisible);
        $this->isShortVisible = $isShortVisible;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819466"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>543</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="538" end-line="548"><![CDATA[    /**
     * Get isShortVisible.
     *
     * @return bool
     */
    public function getIsShortVisible()
    {
        return $this->isShortVisible;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818803"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>563</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="558" end-line="568"><![CDATA[    /**
     * Get the unique identifer state of the field.
     *
     * @return bool
     */
    public function getIsUniqueIdentifer()
    {
        return $this->isUniqueIdentifer;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819542"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>575</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="570" end-line="580"><![CDATA[     *
     * @param mixed $isUniqueIdentifer
     *
     * @return LeadField
     */
    public function setIsUniqueIdentifer($isUniqueIdentifer)
    {
        $this->isUniqueIdentifer = $this->isUniqueIdentifier = $isUniqueIdentifer;

        return $this;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818777"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>587</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="582" end-line="592"><![CDATA[    /**
     * Wrapper for incorrectly spelled setIsUniqueIdentifer.
     *
     * @return bool
     */
    public function getIsUniqueIdentifier()
    {
        return $this->getIsUniqueIdentifer();
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818755"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>599</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="594" end-line="604"><![CDATA[     *
     * @param mixed $isUniqueIdentifier
     *
     * @return LeadField
     */
    public function setIsUniqueIdentifier($isUniqueIdentifier)
    {
        return $this->setIsUniqueIdentifer($isUniqueIdentifier);
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819043"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>636</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="631" end-line="641"><![CDATA[     *
     * @param bool $isListable
     *
     * @return LeadField
     */
    public function setIsListable($isListable)
    {
        $this->isChanged('isListable', $isListable);
        $this->isListable = $isListable;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819144"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>649</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="644" end-line="654"><![CDATA[    /**
     * Get isListable.
     *
     * @return bool
     */
    public function getIsListable()
    {
        return $this->isListable;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818855"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>683</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="678" end-line="688"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsPubliclyUpdatable()
    {
        return $this->isPubliclyUpdatable;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818767"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>691</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="686" end-line="696"><![CDATA[    }

    /**
     * @param mixed $isPubliclyUpdatable
     */
    public function setIsPubliclyUpdatable($isPubliclyUpdatable)
    {
        $this->isPubliclyUpdatable = (bool) $isPubliclyUpdatable;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819224"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>230</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadList.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="225" end-line="235"><![CDATA[     *
     * @param bool $isGlobal
     *
     * @return LeadList
     */
    public function setIsGlobal($isGlobal)
    {
        $this->isChanged('isGlobal', $isGlobal);
        $this->isGlobal = $isGlobal;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819180"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>243</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadList.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="238" end-line="248"><![CDATA[    /**
     * Get isGlobal.
     *
     * @return bool
     */
    public function getIsGlobal()
    {
        return $this->isGlobal;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818660"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>280</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Entity/Stat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="275" end-line="285"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsClicked()
    {
        return $this->isClicked;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819071"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>288</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Entity/Stat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="283" end-line="293"><![CDATA[    }

    /**
     * @param mixed $isClicked
     */
    public function setIsClicked($isClicked)
    {
        $this->isClicked = $isClicked;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818896"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>152</line>
			<resource><![CDATA[app/bundles/PluginBundle/Entity/Integration.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="147" end-line="157"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsPublished()
    {
        return $this->isPublished;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818701"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>162</line>
			<resource><![CDATA[app/bundles/PluginBundle/Entity/Integration.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="157" end-line="167"><![CDATA[    /**
     * @param mixed $isPublished
     *
     * @return Integration
     */
    public function setIsPublished($isPublished)
    {
        $this->isChanged('isPublished', $isPublished);

        $this->isPublished = $isPublished;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819238"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>209</line>
			<resource><![CDATA[app/bundles/PluginBundle/Entity/Plugin.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="204" end-line="214"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsMissing()
    {
        return $this->isMissing;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819621"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>217</line>
			<resource><![CDATA[app/bundles/PluginBundle/Entity/Plugin.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="212" end-line="222"><![CDATA[    }

    /**
     * @param mixed $isMissing
     */
    public function setIsMissing($isMissing)
    {
        $this->isMissing = $isMissing;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818768"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>238</line>
			<resource><![CDATA[app/bundles/UserBundle/Entity/Role.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="233" end-line="243"><![CDATA[     *
     * @param bool $isAdmin
     *
     * @return Role
     */
    public function setIsAdmin($isAdmin)
    {
        $this->isChanged('isAdmin', $isAdmin);
        $this->isAdmin = $isAdmin;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819053"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>251</line>
			<resource><![CDATA[app/bundles/UserBundle/Entity/Role.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="246" end-line="256"><![CDATA[    /**
     * Get isAdmin.
     *
     * @return bool
     */
    public function getIsAdmin()
    {
        return $this->isAdmin;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819261"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>211</line>
			<resource><![CDATA[app/bundles/UserBundle/Event/AuthenticationEvent.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="206" end-line="216"><![CDATA[     *
     * @param string    $service           Service that authenticated the user; if using a Integration, it should match that of AbstractIntegration::getName();
     * @param User|null $user
     * @param bool|true $createIfNotExists
     */
    public function setIsAuthenticated($service, User $user = null, $createIfNotExists = true)
    {
        $this->authenticatingService = $service;
        $this->isAuthenticated       = true;

        if (null !== $user) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819468"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>238</line>
			<resource><![CDATA[app/bundles/UserBundle/Event/AuthenticationEvent.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="233" end-line="243"><![CDATA[
    /**
     * Prevent any other authentication method from authorizing the user.
     * Mainly used to prevent a form login from trying to auth with the given password for a local user (think two-factor requirements).
     */
    public function setIsFailedAuthentication()
    {
        $this->forceFailedAuthentication = true;

        // Authenticated so stop propagation
        $this->stopPropagation();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819164"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>326</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Entity/TweetStat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="321" end-line="331"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getIsFailed()
    {
        return $this->isFailed;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819292"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>334</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Entity/TweetStat.php]]></resource>
			<title>Boolean property should not be prefixed by "is"</title>
			<message><![CDATA[Boolean property accessor should not be setIsXXX nor getIsXXX but setXXX and isXXX.]]></message>
			<context start-line="329" end-line="339"><![CDATA[    }

    /**
     * @param mixed $isFailed
     */
    public function setIsFailed($isFailed)
    {
        $this->isFailed = $isFailed;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819332"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>154</line>
			<resource><![CDATA[app/bundles/CampaignBundle/EventListener/ReportSubscriber.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="149" end-line="159"><![CDATA[                'columns'      => $columns,
            ];
            $event->addTable('campaign_lead_event_log', $data);

            // Register graphs
            //$event->addGraph($context, 'line', 'mautic.page.graph.line.hits');
        }
    }

    /**
     * Initialize the QueryBuilder object to generate reports from.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818663"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>246</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="241" end-line="251"><![CDATA[        if (!$systemTriggered) {
            defined('MAUTIC_CAMPAIGN_NOT_SYSTEM_TRIGGERED') or define('MAUTIC_CAMPAIGN_NOT_SYSTEM_TRIGGERED', 1);
        }

        //only trigger events for anonymous users (to prevent populating full of user/company data)
        /*if (!$systemTriggered && !$this->security->isAnonymous()) {
            $this->logger->debug('CAMPAIGN: contact not anonymous; abort');

            return false;
        }*/
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819151"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>205</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="200" end-line="210"><![CDATA[        $translator  = $this->get('translator');
        $dataArray   = [];
        $dupChecker  = [];
        foreach ($allCommands as $header => $commands) {
            //@todo if/when figure out a way for typeahead dynamic headers
            //$header = $translator->trans($header);
            //$dataArray[$header] = array();
            foreach ($commands as $k => $c) {
                if (is_array($c)) {
                    $command = $translator->trans($k);
                    $command = (strpos($command, ':') === false) ? $command.':' : $command;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818669"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>206</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="201" end-line="211"><![CDATA[        $dataArray   = [];
        $dupChecker  = [];
        foreach ($allCommands as $header => $commands) {
            //@todo if/when figure out a way for typeahead dynamic headers
            //$header = $translator->trans($header);
            //$dataArray[$header] = array();
            foreach ($commands as $k => $c) {
                if (is_array($c)) {
                    $command = $translator->trans($k);
                    $command = (strpos($command, ':') === false) ? $command.':' : $command;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818841"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>229</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="224" end-line="234"><![CDATA[                        $dataArray[]  = ['value' => $command];
                        $dupChecker[] = $command;
                    }
                }
            }
            //sort($dataArray[$header]);
        }
        //ksort($dataArray);
        sort($dataArray);

        return $this->sendJsonResponse($dataArray);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819373"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>231</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="226" end-line="236"><![CDATA[                    }
                }
            }
            //sort($dataArray[$header]);
        }
        //ksort($dataArray);
        sort($dataArray);

        return $this->sendJsonResponse($dataArray);
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818932"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>45</line>
			<resource><![CDATA[app/bundles/CoreBundle/IpLookup/IP2LocationAPILookup.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="40" end-line="50"><![CDATA[                $this->country   = $record->country_name;
                $this->region    = $record->region_name;
                $this->city      = $record->city_name;
                $this->latitude  = $record->latitude;
                $this->longitude = $record->longitude;
                //$this->timezone  = $record->location->timeZone;
                $this->zipcode = $record->zip_code;
            }
        } catch (\Exception $exception) {
            if ($this->logger) {
                $this->logger->warn('IP LOOKUP: '.$exception->getMessage());]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819595"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>136</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="131" end-line="141"><![CDATA[                        //ensure the permission still exists
                        if ($this->isSupported($permName)) {
                            $levels = $this->permissions[$permName];
                            //ensure that at least keys exist
                            $permissionLevels[$bundle][$permName] = [];
                            //$permissionLevels[$bundle][$permName]["$bundle:$permName"] = $permId;
                            foreach ($levels as $levelName => $levelBit) {
                                //compare bit against levels to see if it is a match
                                if ($levelBit & $permBitwise) {
                                    //bitwise compares so add the level
                                    $permissionLevels[$bundle][$permName][] = $levelName;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818682"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>17</line>
			<resource><![CDATA[app/bundles/CoreBundle/Test/MauticWebTestCase.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="12" end-line="22"><![CDATA[namespace Mautic\CoreBundle\Test;

//@TODO - fix entity detachment issue that is leading to failed tests

use Liip\FunctionalTestBundle\Test\WebTestCase;
//use Symfony\Bundle\FrameworkBundle\Test\WebTestCase;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\RequestStack;

define('MAUTIC_TEST_ENV', 1);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819608"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>103</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/AjaxController.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="98" end-line="108"><![CDATA[        $objectId  = $request->request->get('widget');
        $dataArray = ['success' => 0];

        // @todo: build permissions
        // if (!$this->get('mautic.security')->isGranted('dashobard:widgets:delete')) {
        //     return $this->accessDenied();
        // }

        /** @var \Mautic\DashboardBundle\Model\DashboardModel $model */
        $model  = $this->getModel('dashboard');
        $entity = $model->getEntity($objectId);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819093"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>90</line>
			<resource><![CDATA[app/bundles/LeadBundle/EventListener/CalendarSubscriber.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="85" end-line="95"><![CDATA[                    break;
            }

            $object['iconClass'] = 'fa fa-fw '.$icon;
            $object['title']     = $leadName;
            //$object['title'] .= ' (' . $this->translator->trans('mautic.lead.note.type.' . $object['type']) . ')';
        }

        $event->addEvents($results);
    }
}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818998"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>41</line>
			<resource><![CDATA[app/bundles/PageBundle/Form/Type/PointActionUrlHitType.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="36" end-line="46"><![CDATA[                'tooltip'     => 'mautic.page.point.action.form.page.url.descr',
                'placeholder' => 'http://',
            ],
        ]);

        // $default = (isset($options['data']) && isset($options['data']['first_time'])) ? $options['data']['first_time'] : false;
        // $builder->add('first_time', 'yesno_button_group', array(
        //     'label'       => 'mautic.page.point.action.form.first.time.only',
        //     'attr'        => array(
        //         'tooltip' => 'mautic.page.point.action.form.first.time.only.descr'
        //     ),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819310"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>991</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/PageModel.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="986" end-line="996"><![CDATA[        }

        foreach ($results as $result) {
            $label = empty($result['device']) ? $this->translator->trans('mautic.core.no.info') : $result['device'];

            // $data['backgroundColor'][]='rgba(220,220,220,0.5)';
            $chart->setDataset($label,  $result['count']);
        }

        return $chart->render();
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818671"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>96</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/VideoModel.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="91" end-line="101"><![CDATA[     */
    public function hitVideo($request, $code = '200')
    {
        //don't skew results with in-house hits
        if (!$this->security->isAnonymous()) {
            //return;
        }

        $lead = $this->leadModel->getCurrentLead();
        $guid = $request->get('guid');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819143"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/PageBundle/Views/FormTheme/Point/pointaction_urlhit_widget.html.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="25" end-line="35"><![CDATA[<div class="row">
    <div class="col-xs-12">
        <?php echo $view['form']->row($form['page_hits']); ?>
    </div>
    <!-- <div class="col-xs-6">
        <?php //echo $view['form']->row($form['first_time']);?>
    </div> -->
</div>

<div class="row">
    <div class="col-xs-12 form-group ">]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819391"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>87</line>
			<resource><![CDATA[app/bundles/PluginBundle/Bundle/PluginBundleBase.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="82" end-line="92"><![CDATA[     * @throws \Exception
     */
    public static function onPluginUpdate(Plugin $plugin, MauticFactory $factory, $metadata = null, Schema $installedSchema = null)
    {
        // Not recommended although availalbe for simple schema changes - see updatePluginSchema docblock
        //self::updatePluginSchema($metadata, $installedSchema, $factory);
    }

    /**
     * Update plugin schema based on Doctrine metadata.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819614"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>11</line>
			<resource><![CDATA[app/config/config_prod.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="6" end-line="16"><![CDATA[    $loader->import('security_local.php');
} else {
    $loader->import('security.php');
}

/*
$container->loadFromExtension("framework", array(
    "validation" => array(
        "cache" => "apc"
    )
));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819228"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>21</line>
			<resource><![CDATA[index_dev.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="16" end-line="26"><![CDATA[
/*
 * If you don't want to setup permissions the proper way, just uncomment the following PHP line
 * read http://symfony.com/doc/current/book/installation.html#configuration-and-setup for more information
 */
//umask(0000);

\Mautic\CoreBundle\ErrorHandler\ErrorHandler::register('dev');

$kernel = new AppKernel('dev', true);
$kernel->loadClassCache();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819118"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>25</line>
			<resource><![CDATA[index.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="20" end-line="30"><![CDATA[
/*
 * Use APC for autoloading to improve performance. Change 'sf2' to a unique prefix
 * in order to prevent cache key conflicts with other applications also using APC.
 */
//$apcLoader = new ApcClassLoader('sf2', $loader);
//$loader->unregister();
//$apcLoader->register(true);

\Mautic\CoreBundle\ErrorHandler\ErrorHandler::register('prod');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818925"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>26</line>
			<resource><![CDATA[index.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="21" end-line="31"><![CDATA[/*
 * Use APC for autoloading to improve performance. Change 'sf2' to a unique prefix
 * in order to prevent cache key conflicts with other applications also using APC.
 */
//$apcLoader = new ApcClassLoader('sf2', $loader);
//$loader->unregister();
//$apcLoader->register(true);

\Mautic\CoreBundle\ErrorHandler\ErrorHandler::register('prod');

$kernel = new AppKernel('prod', false);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818972"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[index.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="22" end-line="32"><![CDATA[ * Use APC for autoloading to improve performance. Change 'sf2' to a unique prefix
 * in order to prevent cache key conflicts with other applications also using APC.
 */
//$apcLoader = new ApcClassLoader('sf2', $loader);
//$loader->unregister();
//$apcLoader->register(true);

\Mautic\CoreBundle\ErrorHandler\ErrorHandler::register('prod');

$kernel = new AppKernel('prod', false);
$kernel->loadClassCache();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819221"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>241</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/EventListener/FormSubscriber.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="236" end-line="246"><![CDATA[     * @param PluginIntegrationRequestEvent $event
     */
    public function onResponse(PluginIntegrationRequestEvent $event)
    {
        //        /** @var Response $response */
//        $response = $event->getResponse();
//        CitrixHelper::log(
//            PHP_EOL. //$response->getStatusCode() . ' ' .
//            print_r($response, true)
//        );
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818656"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>176</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/ZohoIntegration.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="171" end-line="181"><![CDATA[                    return [];
                }

                $zohoFields = [];
                foreach ($leadObject['Leads']['section'] as $optgroup) {
                    //$zohoFields[$optgroup['dv']] = array();
                    if (!array_key_exists(0, $optgroup['FL'])) {
                        $optgroup['FL'] = [$optgroup['FL']];
                    }
                    foreach ($optgroup['FL'] as $field) {
                        if (!(bool) $field['isreadonly'] || in_array($field['type'], ['Lookup', 'OwnerLookup', 'Boolean'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819091"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1574</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="1569" end-line="1579"><![CDATA[            $r = $this->toRGB_helper($H + 1 / 3, $temp1, $temp2);
            $g = $this->toRGB_helper($H, $temp1, $temp2);
            $b = $this->toRGB_helper($H - 1 / 3, $temp1, $temp2);
        }

        // $out = array('color', round($r*255), round($g*255), round($b*255));
        $out = ['color', $r * 255, $g * 255, $b * 255];
        if (count($color) > 4) {
            $out[] = $color[4];
        } // copy alpha
        return $out;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819531"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>2679</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="2674" end-line="2684"><![CDATA[        $this->eatWhiteDefault = true;
        $this->seenComments    = [];

        // trim whitespace on head
        // if (preg_match('/^\s+/', $this->buffer, $m)) {
        // 	$this->line += substr_count($m[0], "\n");
        // 	$this->buffer = ltrim($this->buffer);
        // }
        $this->whitespace();

        // parse the entire file]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818711"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>2680</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="2675" end-line="2685"><![CDATA[        $this->seenComments    = [];

        // trim whitespace on head
        // if (preg_match('/^\s+/', $this->buffer, $m)) {
        // 	$this->line += substr_count($m[0], "\n");
        // 	$this->buffer = ltrim($this->buffer);
        // }
        $this->whitespace();

        // parse the entire file
        while (false !== $this->parseChunk()) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819024"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>2902</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="2897" end-line="2907"><![CDATA[            return true;
        } else {
            $this->seek($s);
        }

        // spare ;
        if ($this->literal(';')) {
            return true;
        }

        return false; // got nothing, throw error]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818652"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>3272</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="3267" end-line="3277"><![CDATA[        $oldWhite              = $this->eatWhiteDefault;
        $this->eatWhiteDefault = false;

        $stop = ["'", '"', '@{', $end];
        $stop = array_map(['lessc', 'preg_quote'], $stop);
        // $stop[] = self::$commentMulti;

        if (!is_null($rejectStrs)) {
            $stop = array_merge($stop, $rejectStrs);
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819465"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>90</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Form/Type/TweetSendType.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="85" end-line="95"><![CDATA[                    ],
                    'label' => 'mautic.integration.Twitter.new.tweet',
                ]
            );

            // $tweet = $options['data']['channelId'];

            // create button edit tweet
            // @todo: this button requires a JS to be injected to the campaign builder
            // $windowUrlEdit = $this->router->generate(
            //     'mautic_tweet_action',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819546"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>26</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Form/Type/TwitterAbstractType.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="21" end-line="31"><![CDATA[     * {@inheritdoc}
     */
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        // Disabled due to Twitter restrictions
        /*
        $builder->add('tweet_action', 'choice', array(
            'empty_value' => 'mautic.social.monitoring.list.choose',
            'choice_list' => new ChoiceList(
                array('retweet','favorite'),
                array(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819183"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>175</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Integration/LinkedInIntegration.php]]></resource>
			<title>Commented code should not be committed</title>
			<message><![CDATA[Commented out code reduces readability and lowers the code confidence for other developers. If it's common usage for debug, it should not be committed. Using a version control system, such code can be safely removed.]]></message>
			<context start-line="170" end-line="180"><![CDATA[     * {@inheritdoc}
     */
    public function getAvailableLeadFields($settings = [])
    {
        // Until lead profile support is restored
        //return array();

        return [
            'firstName'     => ['type' => 'string', 'fieldName' => 'first-name'],
            'lastName'      => ['type' => 'string', 'fieldName' => 'last-name'],
            'maidenName'    => ['type' => 'string', 'fieldName' => 'maiden-name'],]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818870"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/oAuth1/SecurityController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 34 lines appear both in app/bundles/ApiBundle/Controller/oAuth1/SecurityController.php:14 and app/bundles/ApiBundle/Controller/oAuth2/SecurityController.php:14.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\ApiBundle\Controller\oAuth1;

use Mautic\CoreBundle\Controller\CommonController;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Security\Core\Exception as Exception;
use Symfony\Component\Security\Core\SecurityContext;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818944"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>92</line>
			<resource><![CDATA[app/bundles/ApiBundle/Entity/oAuth1/AccessToken.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 117 lines appear both in app/bundles/ApiBundle/Entity/oAuth1/AccessToken.php:92 and app/bundles/ApiBundle/Entity/oAuth1/RequestToken.php:97.]]></message>
			<context start-line="87" end-line="97"><![CDATA[    }

    /**
     * {@inheritdoc}
     */
    public function getId()
    {
        return $this->id;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818735"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>65</line>
			<resource><![CDATA[app/bundles/ApiBundle/Entity/oAuth2/AccessToken.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 83 lines appear both in app/bundles/ApiBundle/Entity/oAuth2/AccessToken.php:65 and app/bundles/ApiBundle/Entity/oAuth2/RefreshToken.php:65.]]></message>
			<context start-line="60" end-line="70"><![CDATA[        $builder = new ClassMetadataBuilder($metadata);

        $builder->setTable('oauth2_accesstokens')
            ->addIndex(['token'], 'oauth2_access_token_search');

        $builder->createField('id', 'integer')
            ->isPrimaryKey()
            ->generatedValue()
            ->build();

        $builder->createManyToOne('client', 'Client')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819016"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>24</line>
			<resource><![CDATA[app/bundles/ApiBundle/Serializer/Exclusion/FieldExclusionStrategy.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 62 lines appear both in app/bundles/ApiBundle/Serializer/Exclusion/FieldExclusionStrategy.php:24 and app/bundles/ApiBundle/Serializer/Exclusion/FieldInclusionStrategy.php:24.]]></message>
			<context start-line="19" end-line="29"><![CDATA[/**
 * Class FieldExclusionStrategy.
 *
 * Exclude specific fields at a specific level
 */
class FieldExclusionStrategy implements ExclusionStrategyInterface
{
    /**
     * @var array
     */
    private $fields = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819473"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>384</line>
			<resource><![CDATA[app/bundles/AssetBundle/Controller/AssetController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 23 lines appear both in app/bundles/AssetBundle/Controller/AssetController.php:384 and app/bundles/AssetBundle/Controller/AssetController.php:547.]]></message>
			<context start-line="379" end-line="389"><![CDATA[            }
        }

        // Check for integrations to cloud providers
        /** @var \Mautic\PluginBundle\Helper\IntegrationHelper $integrationHelper */
        $integrationHelper = $this->factory->getHelper('integration');

        $integrations = $integrationHelper->getIntegrationObjects(null, ['cloud_storage']);

        return $this->delegateView([
            'viewParameters' => []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819134"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>130</line>
			<resource><![CDATA[app/bundles/AssetBundle/Form/Type/AssetType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 40 lines appear both in app/bundles/AssetBundle/Form/Type/AssetType.php:130 and app/bundles/NotificationBundle/Form/Type/NotificationType.php:117.]]></message>
			<context start-line="125" end-line="135"><![CDATA[            'label_attr' => ['class' => 'control-label'],
            'attr'       => [
                'class'   => 'form-control',
                'tooltip' => 'mautic.asset.asset.form.language.help',
            ],
            'required' => false,
        ]);

        $builder->add('isPublished', 'yesno_button_group');

        $builder->add('publishUp', 'datetime', []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819014"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>130</line>
			<resource><![CDATA[app/bundles/AssetBundle/Form/Type/AssetType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 30 lines appear both in app/bundles/AssetBundle/Form/Type/AssetType.php:130 and plugins/MauticSocialBundle/Form/Type/MonitoringType.php:35.]]></message>
			<context start-line="125" end-line="135"><![CDATA[            'label_attr' => ['class' => 'control-label'],
            'attr'       => [
                'class'   => 'form-control',
                'tooltip' => 'mautic.asset.asset.form.language.help',
            ],
            'required' => false,
        ]);

        $builder->add('isPublished', 'yesno_button_group');

        $builder->add('publishUp', 'datetime', []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818686"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>105</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/EventController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 34 lines appear both in app/bundles/CampaignBundle/Controller/EventController.php:105 and app/bundles/CampaignBundle/Controller/EventController.php:297.]]></message>
			<context start-line="100" end-line="110"><![CDATA[                    $event['id']    = $event['tempId']    = $keyId;
                    if (empty($event['name'])) {
                        //set it to the event default
                        $event['name'] = $this->get('translator')->trans($event['settings']['label']);
                    }
                    $modifiedEvents[$keyId] = $event;
                    $session->set('mautic.campaign.'.$campaignId.'.events.modified', $modifiedEvents);
                } else {
                    $success = 0;
                }
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818723"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>412</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/EventController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 28 lines appear both in app/bundles/CampaignBundle/Controller/EventController.php:412 and app/bundles/CampaignBundle/Controller/EventController.php:468.]]></message>
			<context start-line="407" end-line="417"><![CDATA[     *
     * @param   $objectId
     *
     * @return \Symfony\Component\HttpFoundation\JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function deleteAction($objectId)
    {
        $campaignId     = $this->request->query->get('campaignId');
        $session        = $this->get('session');
        $modifiedEvents = $session->get('mautic.campaign.'.$campaignId.'.events.modified', []);
        $deletedEvents  = $session->get('mautic.campaign.'.$campaignId.'.events.deleted', []);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819431"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>359</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/Event.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 83 lines appear both in app/bundles/CampaignBundle/Entity/Event.php:359 and app/bundles/FormBundle/Entity/Action.php:141.]]></message>
			<context start-line="354" end-line="364"><![CDATA[            $currentId = ($current) ? $current->getId() : '';
            $newId     = ($val) ? $val->getId() : null;
            if ($currentId != $newId) {
                $this->changes[$prop] = [$currentId, $newId];
            }
        } elseif ($this->$prop != $val) {
            $this->changes[$prop] = [$this->$prop, $val];
        }
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819444"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>465</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/Event.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 84 lines appear in app/bundles/CampaignBundle/Entity/Event.php:465, app/bundles/PointBundle/Entity/Point.php:214 and app/bundles/PointBundle/Entity/TriggerEvent.php:246.]]></message>
			<context start-line="460" end-line="470"><![CDATA[     *
     * @param string $type
     *
     * @return Event
     */
    public function setType($type)
    {
        $this->isChanged('type', $type);
        $this->type = $type;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818849"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>465</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/Event.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 74 lines appear both in app/bundles/CampaignBundle/Entity/Event.php:465 and app/bundles/FormBundle/Entity/Action.php:247.]]></message>
			<context start-line="460" end-line="470"><![CDATA[     *
     * @param string $type
     *
     * @return Event
     */
    public function setType($type)
    {
        $this->isChanged('type', $type);
        $this->type = $type;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819322"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>70</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Form/Type/CampaignType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 49 lines appear both in app/bundles/CampaignBundle/Form/Type/CampaignType.php:70 and plugins/MauticFocusBundle/Form/Type/FocusType.php:95.]]></message>
			<context start-line="65" end-line="75"><![CDATA[
        if (!empty($options['data']) && $options['data']->getId()) {
            $readonly = !$this->security->isGranted('campaign:campaigns:publish');
            $data     = $options['data']->isPublished(false);
        } elseif (!$this->security->isGranted('campaign:campaigns:publish')) {
            $readonly = true;
            $data     = false;
        } else {
            $readonly = false;
            $data     = false;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819193"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>70</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Form/Type/CampaignType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 53 lines appear both in app/bundles/CampaignBundle/Form/Type/CampaignType.php:70 and app/bundles/PointBundle/Form/Type/TriggerType.php:128.]]></message>
			<context start-line="65" end-line="75"><![CDATA[
        if (!empty($options['data']) && $options['data']->getId()) {
            $readonly = !$this->security->isGranted('campaign:campaigns:publish');
            $data     = $options['data']->isPublished(false);
        } elseif (!$this->security->isGranted('campaign:campaigns:publish')) {
            $readonly = true;
            $data     = false;
        } else {
            $readonly = false;
            $data     = false;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818951"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>77</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Form/Type/CampaignType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 31 lines appear both in app/bundles/CampaignBundle/Form/Type/CampaignType.php:77 and app/bundles/PointBundle/Form/Type/PointType.php:115.]]></message>
			<context start-line="72" end-line="82"><![CDATA[        } else {
            $readonly = false;
            $data     = false;
        }

        $builder->add('isPublished', 'yesno_button_group', [
            'read_only' => $readonly,
            'data'      => $data,
        ]);

        $builder->add('publishUp', 'datetime', []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818839"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>139</line>
			<resource><![CDATA[app/bundles/CoreBundle/Command/PullTransifexCommand.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 87 lines appear both in app/bundles/CoreBundle/Command/PullTransifexCommand.php:139 and app/bundles/CoreBundle/Command/PushTransifexCommand.php:89.]]></message>
			<context start-line="134" end-line="144"><![CDATA[
                            $output->writeln($translator->trans('mautic.core.command.transifex_resource_downloaded'));
                        }
                    }
                } catch (\Exception $exception) {
                    $output->writeln($translator->trans('mautic.core.command.transifex_error_pulling_data', ['%message%' => $exception->getMessage()]));
                }
            }
        }

        return 0;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818789"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>43</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/Type/SlotImageCaptionType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 29 lines appear both in app/bundles/CoreBundle/Form/Type/SlotImageCaptionType.php:43 and app/bundles/CoreBundle/Form/Type/SlotImageCardType.php:43.]]></message>
			<context start-line="38" end-line="48"><![CDATA[                    'data-slot-param' => 'caption',
                ],
            ]
        );

        $builder->add('align', 'button_group', [
            'label'      => 'mautic.core.image.position',
            'label_attr' => ['class' => 'control-label'],
            'required'   => false,
            'attr'       => [
                'class'           => 'form-control',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818801"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>20</line>
			<resource><![CDATA[app/bundles/CoreBundle/Views/Menu/extra.html.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 29 lines appear both in app/bundles/CoreBundle/Views/Menu/extra.html.php:20 and app/bundles/CoreBundle/Views/Menu/profile_inline.html.php:12.]]></message>
			<context start-line="15" end-line="25"><![CDATA[    }
    $childrenAttributes['class'] .= ' dropdown-menu';

    echo "<ul{$view['menu']->parseAttributes($childrenAttributes)}>\n";

    foreach ($item->getChildren() as $child) {
        if (!$child->isDisplayed()) {
            continue;
        }

        //builds the class attributes based on options]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819006"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>101</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/DashboardController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 58 lines appear both in app/bundles/DashboardBundle/Controller/DashboardController.php:101 and app/bundles/DashboardBundle/Controller/DashboardController.php:166.]]></message>
			<context start-line="96" end-line="106"><![CDATA[
        $model  = $this->getModel('dashboard');
        $action = $this->generateUrl('mautic_dashboard_action', ['objectAction' => 'new']);

        //get the user form factory
        $form       = $model->createForm($widget, $this->get('form.factory'), $action);
        $closeModal = false;
        $valid      = false;

        ///Check for a submitted form and process it
        if ($this->request->getMethod() == 'POST') {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819356"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>254</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Entity/DynamicContent.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 73 lines appear both in app/bundles/DynamicContentBundle/Entity/DynamicContent.php:254 and plugins/MauticFocusBundle/Entity/Focus.php:204.]]></message>
			<context start-line="249" end-line="259"><![CDATA[     */
    public function setDescription($description)
    {
        $this->description = $description;

        return $this;
    }

    /**
     * @return \Mautic\CategoryBundle\Entity\Category
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818771"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>79</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Entity/DynamicContentRepository.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 59 lines appear both in app/bundles/DynamicContentBundle/Entity/DynamicContentRepository.php:79 and app/bundles/EmailBundle/Entity/EmailRepository.php:438.]]></message>
			<context start-line="74" end-line="84"><![CDATA[                ];
                $expr = $q->expr()->orX(
                    $q->expr()->eq('e.language', ":$unique"),
                    $q->expr()->like('e.language', ":$langUnique")
                );
                break;
        }

        if ($expr && $filter->not) {
            $expr = $q->expr()->not($expr);
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818997"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>160</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Entity/DynamicContentRepository.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 20 lines appear both in app/bundles/DynamicContentBundle/Entity/DynamicContentRepository.php:160 and app/bundles/NotificationBundle/Entity/NotificationRepository.php:183.]]></message>
			<context start-line="155" end-line="165"><![CDATA[     *
     * @return array
     */
    public function getDynamicContentList($search = '', $limit = 10, $start = 0, $viewOther = false, $topLevel = false, $ignoreIds = [])
    {
        $q = $this->createQueryBuilder('e');
        $q->select('partial e.{id, name, language}');

        if (!empty($search)) {
            if (is_array($search)) {
                $search = array_map('intval', $search);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818753"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>298</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/EmailController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 35 lines appear both in app/bundles/EmailBundle/Controller/EmailController.php:298 and app/bundles/PageBundle/Controller/PageController.php:186.]]></message>
			<context start-line="293" end-line="303"><![CDATA[        ) {
            return $this->accessDenied();
        }

        //get A/B test information
        list($parent, $children) = $email->getVariants();
        $properties              = [];
        $variantError            = false;
        $weight                  = 0;
        if (count($children)) {
            foreach ($children as $c) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818717"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>340</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/EmailController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 25 lines appear both in app/bundles/EmailBundle/Controller/EmailController.php:340 and app/bundles/PageBundle/Controller/PageController.php:229.]]></message>
			<context start-line="335" end-line="345"><![CDATA[                $testSettings = $criteria['criteria'][$lastCriteria];

                $args = [
                    'factory'    => $this->factory,
                    'email'      => $email,
                    'parent'     => $parent,
                    'children'   => $children,
                    'properties' => $properties,
                ];

                //execute the callback]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818905"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>414</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/EmailRepository.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 89 lines appear both in app/bundles/EmailBundle/Entity/EmailRepository.php:414 and app/bundles/SmsBundle/Entity/SmsRepository.php:71.]]></message>
			<context start-line="409" end-line="419"><![CDATA[     * @param \Doctrine\ORM\QueryBuilder $q
     * @param                            $filter
     *
     * @return array
     */
    protected function addSearchCommandWhereClause(&$q, $filter)
    {
        list($expr, $parameters) = $this->addStandardSearchCommandWhereClause($q, $filter);
        if ($expr) {
            return [$expr, $parameters];
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818741"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>427</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/EmailRepository.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 71 lines appear both in app/bundles/EmailBundle/Entity/EmailRepository.php:427 and app/bundles/NotificationBundle/Entity/NotificationRepository.php:87.]]></message>
			<context start-line="422" end-line="432"><![CDATA[        $unique          = $this->generateRandomParameterName();
        $returnParameter = false; //returning a parameter that is not used will lead to a Doctrine error

        switch ($command) {
            case $this->translator->trans('mautic.core.searchcommand.lang'):
                $langUnique      = $this->generateRandomParameterName();
                $langValue       = $filter->string.'_%';
                $forceParameters = [
                    $langUnique => $langValue,
                    $unique     => $filter->string,
                ];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819562"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>347</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/Stat.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 70 lines appear both in app/bundles/EmailBundle/Entity/Stat.php:347 and app/bundles/NotificationBundle/Entity/Stat.php:296.]]></message>
			<context start-line="342" end-line="352"><![CDATA[    }

    /**
     * @return Lead
     */
    public function getLead()
    {
        return $this->lead;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819632"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>171</line>
			<resource><![CDATA[app/bundles/EmailBundle/Form/Type/EmailType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 39 lines appear both in app/bundles/EmailBundle/Form/Type/EmailType.php:171 and app/bundles/PageBundle/Form/Type/PageType.php:120.]]></message>
			<context start-line="166" end-line="176"><![CDATA[                'feature' => 'email',
                'attr'    => [
                    'class'   => 'form-control not-chosen hidden',
                    'tooltip' => 'mautic.email.form.template.help',
                ],
                'data' => $options['data']->getTemplate() ? $options['data']->getTemplate() : 'blank',
            ]
        );

        $builder->add('isPublished', 'yesno_button_group');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819502"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>12</line>
			<resource><![CDATA[app/bundles/EmailBundle/Form/Type/VariantType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 42 lines appear both in app/bundles/EmailBundle/Form/Type/VariantType.php:12 and app/bundles/PageBundle/Form/Type/VariantType.php:12.]]></message>
			<context start-line="7" end-line="17"><![CDATA[ * @link        http://mautic.org
 *
 * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\EmailBundle\Form\Type;

use Mautic\CoreBundle\Factory\MauticFactory;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\Form\FormEvent;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819604"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>66</line>
			<resource><![CDATA[app/bundles/EmailBundle/Form/Type/VariantType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 36 lines appear both in app/bundles/EmailBundle/Form/Type/VariantType.php:66 and app/bundles/PageBundle/Form/Type/VariantType.php:71.]]></message>
			<context start-line="61" end-line="71"><![CDATA[                'label_attr' => ['class' => 'control-label'],
                'attr'       => [
                    'class'    => 'form-control',
                    'onchange' => 'Mautic.getAbTestWinnerForm(\'email\', \'emailform\', this);',
                ],
                'expanded'    => false,
                'multiple'    => false,
                'choices'     => $choices,
                'empty_value' => 'mautic.core.form.chooseone',
                'constraints' => [
                    new NotBlank(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818992"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1481</line>
			<resource><![CDATA[app/bundles/EmailBundle/Model/EmailModel.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 53 lines appear both in app/bundles/EmailBundle/Model/EmailModel.php:1481 and app/bundles/EmailBundle/Model/EmailModel.php:2123.]]></message>
			<context start-line="1476" end-line="1486"><![CDATA[        if (empty($users)) {
            return false;
        }

        $mailer = $this->mailHelper->getMailer();
        $mailer->setLead($lead, true);
        $mailer->setTokens($tokens);
        $mailer->setEmail($email, false, $emailSettings[$emailId]['slots'], $assetAttachments, (!$saveStat));

        $errors = [];
        foreach ($users as $user) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818938"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>218</line>
			<resource><![CDATA[app/bundles/EmailBundle/Views/Email/form.html.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 23 lines appear both in app/bundles/EmailBundle/Views/Email/form.html.php:218 and app/bundles/LeadBundle/Views/List/form.html.php:136.]]></message>
			<context start-line="213" end-line="223"><![CDATA[<div id="dynamicContentPrototype" data-prototype="<?php echo $view->escape($view['form']->widget($dynamicContentPrototype)); ?>"></div>
<div id="filterBlockPrototype" data-prototype="<?php echo $view->escape($view['form']->widget($filterBlockPrototype)); ?>"></div>
<div id="filterSelectPrototype" data-prototype="<?php echo $view->escape($view['form']->widget($filterSelectPrototype)); ?>"></div>

<div class="hide" id="templates">
    <?php foreach ($templates as $dataKey => $template): ?>
        <?php $attr = ($dataKey == 'tags') ? ' data-placeholder="'.$view['translator']->trans('mautic.lead.tags.select_or_create').'" data-no-results-text="'.$view['translator']->trans('mautic.lead.tags.enter_to_create').'" data-allow-add="true" onchange="Mautic.createLeadTag(this)"' : ''; ?>
        <select class="form-control not-chosen <?php echo $template; ?>" name="emailform[dynamicContent][__dynamicContentIndex__][filters][__dynamicContentFilterIndex__][filters][__name__][filter]" id="emailform_dynamicContent___dynamicContentIndex___filters___dynamicContentFilterIndex___filters___name___filter"<?php echo $attr; ?>>
            <?php
            if (isset($form->vars[$dataKey])):
                foreach ($form->vars[$dataKey] as $value => $label):]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819168"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>40</line>
			<resource><![CDATA[app/bundles/EmailBundle/Views/FormTheme/Email/dynamic_content_filter_entry_widget.html.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 27 lines appear both in app/bundles/EmailBundle/Views/FormTheme/Email/dynamic_content_filter_entry_widget.html.php:40 and app/bundles/LeadBundle/Views/List/form.html.php:93.]]></message>
			<context start-line="35" end-line="45"><![CDATA[                        <?php
                        foreach ($fields as $object => $field):
                            $header = $object;
                            $icon   = ($object == 'company') ? 'fa-building' : 'fa-user';
                            ?>
                            <optgroup label="<?php echo $view['translator']->trans('mautic.lead.'.$header); ?>">
                                <?php foreach ($field as $value => $params):
                                    $list      = (!empty($params['properties']['list'])) ? $params['properties']['list'] : [];
                                    $choices   = \Mautic\LeadBundle\Helper\FormFieldHelper::parseList($list, true, ('boolean' === $params['properties']['type']));
                                    $list      = json_encode($choices);
                                    $callback  = (!empty($params['properties']['callback'])) ? $params['properties']['callback'] : '';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819051"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>139</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Action.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 85 lines appear both in app/bundles/FormBundle/Entity/Action.php:139 and app/bundles/PointBundle/Entity/TriggerEvent.php:138.]]></message>
			<context start-line="134" end-line="144"><![CDATA[
    /**
     * @param $prop
     * @param $val
     */
    private function isChanged($prop, $val)
    {
        if ($this->$prop != $val) {
            $this->changes[$prop] = [$this->$prop, $val];
        }
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818851"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>354</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/Field.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 86 lines appear both in app/bundles/FormBundle/Entity/Field.php:354 and app/bundles/LeadBundle/Entity/LeadField.php:303.]]></message>
			<context start-line="349" end-line="359"><![CDATA[     *
     * @param string $type
     *
     * @return Field
     */
    public function setType($type)
    {
        $this->isChanged('type', $type);
        $this->type = $type;

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819086"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>778</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/FormModel.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 32 lines appear both in app/bundles/FormBundle/Model/FormModel.php:778 and app/bundles/LeadBundle/Entity/OperatorListTrait.php:21.]]></message>
			<context start-line="773" end-line="783"><![CDATA[    /**
     * @param null $operator
     *
     * @return array
     */
    public function getFilterExpressionFunctions($operator = null)
    {
        $operatorOptions = [
            '=' => [
                    'label'       => 'mautic.lead.list.form.operator.equals',
                    'expr'        => 'eq',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819117"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>558</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/SubmissionModel.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 36 lines appear both in app/bundles/FormBundle/Model/SubmissionModel.php:558 and app/bundles/ReportBundle/Model/ReportModel.php:461.]]></message>
			<context start-line="553" end-line="563"><![CDATA[
                                //free memory
                                unset($row, $results[$k]);

                                //increment letter
                                ++$count;
                            }

                            $objWriter = \PHPExcel_IOFactory::createWriter($objPHPExcel, 'Excel2007');
                            $objWriter->setPreCalculateFormulas(false);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818977"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>242</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/CompanyController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 19 lines appear both in app/bundles/LeadBundle/Controller/CompanyController.php:242 and app/bundles/LeadBundle/Controller/CompanyController.php:439.]]></message>
			<context start-line="237" end-line="247"><![CDATA[                    ]
                );
            }
        }

        $fields = $model->organizeFieldsByGroup($fields);
        $groups = array_keys($fields);
        sort($groups);
        $template = 'MauticLeadBundle:Company:form_'.($this->request->get('modal', false) ? 'embedded' : 'standalone').'.html.php';

        return $this->delegateView(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819559"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/TimelineController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 26 lines appear both in app/bundles/LeadBundle/Controller/TimelineController.php:26 and app/bundles/LeadBundle/Controller/TimelineController.php:188.]]></message>
			<context start-line="21" end-line="31"><![CDATA[    use LeadAccessTrait;
    use LeadDetailsTrait;

    public function indexAction(Request $request, $leadId, $page = 1)
    {
        if (empty($leadId)) {
            return $this->accessDenied();
        }

        $lead = $this->checkLeadAccess($leadId, 'view');
        if ($lead instanceof Response) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818694"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>944</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 47 lines appear both in app/bundles/LeadBundle/Model/ListModel.php:944 and app/bundles/LeadBundle/Model/ListModel.php:1077.]]></message>
			<context start-line="939" end-line="949"><![CDATA[    {
        if ($dateManipulated == null) {
            $dateManipulated = new \DateTime();
        }

        if (!$lead instanceof Lead) {
            $leadId = (is_array($lead) && isset($lead['id'])) ? $lead['id'] : $lead;
            $lead   = $this->em->getReference('MauticLeadBundle:Lead', $leadId);
        } else {
            $leadId = $lead->getId();
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818649"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>58</line>
			<resource><![CDATA[app/bundles/LeadBundle/Views/Timeline/list.html.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 31 lines appear both in app/bundles/LeadBundle/Views/Timeline/list.html.php:58 and app/bundles/LeadBundle/Views/Timeline/plugin_list.html.php:64.]]></message>
			<context start-line="53" end-line="63"><![CDATA[
            echo $view->render('MauticCoreBundle:Helper:tableheader.html.php', [
                'orderBy'    => 'timestamp',
                'text'       => 'mautic.lead.timeline.event_timestamp',
                'class'      => 'visible-md visible-lg timeline-timestamp',
                'sessionVar' => 'lead.'.$lead->getId().'.timeline',
                'baseUrl'    => $baseUrl,
                'target'     => '#timeline-table',
            ]);
            ?>
        </tr>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819265"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>328</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Controller/NotificationController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 29 lines appear both in app/bundles/NotificationBundle/Controller/NotificationController.php:328 and app/bundles/SmsBundle/Controller/SmsController.php:330.]]></message>
			<context start-line="323" end-line="333"><![CDATA[                'activeLink'    => 'mautic_notification_index',
                'mauticContent' => 'notification',
            ];

            // Check to see if this is a popup
            if (isset($form['updateSelect'])) {
                $template    = false;
                $passthrough = array_merge(
                    $passthrough,
                    [
                        'updateSelect' => $form['updateSelect']->getData(),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819137"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>272</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Entity/Notification.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 99 lines appear both in app/bundles/NotificationBundle/Entity/Notification.php:272 and app/bundles/SmsBundle/Entity/Sms.php:230.]]></message>
			<context start-line="267" end-line="277"><![CDATA[            ->addProperties(
                [
                    'publishUp',
                    'publishDown',
                    'readCount',
                    'sentCount',
                ]
            )
            ->build();
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818984"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>458</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Entity/Notification.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 124 lines appear both in app/bundles/NotificationBundle/Entity/Notification.php:458 and app/bundles/SmsBundle/Entity/Sms.php:345.]]></message>
			<context start-line="453" end-line="463"><![CDATA[    }

    /**
     * @return mixed
     */
    public function getLanguage()
    {
        return $this->language;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819187"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>73</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Entity/NotificationRepository.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 22 lines appear both in app/bundles/NotificationBundle/Entity/NotificationRepository.php:73 and app/bundles/PageBundle/Entity/PageRepository.php:126.]]></message>
			<context start-line="68" end-line="78"><![CDATA[     * @param QueryBuilder $q
     * @param              $filter
     *
     * @return array
     */
    protected function addSearchCommandWhereClause(&$q, $filter)
    {
        list($expr, $parameters) = $this->addStandardSearchCommandWhereClause($q, $filter);
        if ($expr) {
            return [$expr, $parameters];
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819599"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>181</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Entity/NotificationRepository.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 22 lines appear both in app/bundles/NotificationBundle/Entity/NotificationRepository.php:181 and app/bundles/SmsBundle/Entity/SmsRepository.php:178.]]></message>
			<context start-line="176" end-line="186"><![CDATA[     * @param bool   $viewOther
     * @param string $notificationType
     *
     * @return array
     */
    public function getNotificationList($search = '', $limit = 10, $start = 0, $viewOther = false, $notificationType = null)
    {
        $q = $this->createQueryBuilder('e');
        $q->select('partial e.{id, name, language}');

        if (!empty($search)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819010"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>110</line>
			<resource><![CDATA[app/bundles/NotificationBundle/EventListener/NotificationSubscriber.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 27 lines appear both in app/bundles/NotificationBundle/EventListener/NotificationSubscriber.php:110 and app/bundles/SmsBundle/EventListener/SmsSubscriber.php:114.]]></message>
			<context start-line="105" end-line="115"><![CDATA[    {
        $entity = $event->getNotification();
        $log    = [
            'bundle'   => 'notification',
            'object'   => 'notification',
            'objectId' => $entity->deletedId,
            'action'   => 'delete',
            'details'  => ['name' => $entity->getName()],
        ];
        $this->auditLogModel->writeToLog($log);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819176"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>121</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Form/Type/NotificationType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 40 lines appear both in app/bundles/NotificationBundle/Form/Type/NotificationType.php:121 and app/bundles/SmsBundle/Form/Type/SmsType.php:83.]]></message>
			<context start-line="116" end-line="126"><![CDATA[                ],
                'required' => false,
            ]
        );

        $builder->add('isPublished', 'yesno_button_group');

        $builder->add(
            'publishUp',
            'datetime',
            []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819062"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>164</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Form/Type/NotificationType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 51 lines appear both in app/bundles/NotificationBundle/Form/Type/NotificationType.php:164 and app/bundles/SmsBundle/Form/Type/SmsType.php:126.]]></message>
			<context start-line="159" end-line="169"><![CDATA[            [
                'bundle' => 'notification',
            ]
        );

        $builder->add(
            'language',
            'locale',
            [
                'label'      => 'mautic.core.language',
                'label_attr' => ['class' => 'control-label'],]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819096"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>410</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 22 lines appear both in app/bundles/PageBundle/Controller/PageController.php:410 and app/bundles/PageBundle/Controller/PageController.php:554.]]></message>
			<context start-line="405" end-line="415"><![CDATA[                    ],
                ]);
            }
        }

        $slotTypes   = $model->getBuilderComponents($entity, 'slotTypes');
        $sections    = $model->getBuilderComponents($entity, 'sections');
        $sectionForm = $this->get('form.factory')->create('builder_section');

        return $this->delegateView([
            'viewParameters' => []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819254"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>628</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 29 lines appear both in app/bundles/PageBundle/Controller/PageController.php:628 and app/bundles/PageBundle/Controller/PageController.php:855.]]></message>
			<context start-line="623" end-line="633"><![CDATA[     *
     * @param $objectId
     *
     * @return JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function deleteAction($objectId)
    {
        $page      = $this->get('session')->get('mautic.page.page', 1);
        $returnUrl = $this->generateUrl('mautic_page_index', ['page' => $page]);
        $flashes   = [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819538"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>956</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 43 lines appear both in app/bundles/PageBundle/Controller/PageController.php:956 and app/bundles/PageBundle/Controller/PublicController.php:459.]]></message>
			<context start-line="951" end-line="961"><![CDATA[                $slotConfig['placeholder'] = 'mautic.page.builder.addcontent';
            }

            $value = isset($content[$slot]) ? $content[$slot] : '';

            if ($slotConfig['type'] == 'slideshow') {
                if (isset($content[$slot])) {
                    $options = json_decode($content[$slot], true);
                } else {
                    $options = [
                        'width'            => '100%',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819025"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>220</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PublicController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 34 lines appear both in app/bundles/PageBundle/Controller/PublicController.php:220 and app/bundles/PageBundle/Controller/PublicController.php:299.]]></message>
			<context start-line="215" end-line="225"><![CDATA[                    }
                }
            }

            // Generate contents
            $analytics = $this->get('mautic.helper.template.analytics')->getCode();

            $BCcontent = $entity->getContent();
            $content   = $entity->getCustomHtml();
            // This condition remains so the Mautic v1 themes would display the content
            if (empty($content) && !empty($BCcontent)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819110"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>189</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/Hit.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 37 lines appear both in app/bundles/PageBundle/Entity/Hit.php:189 and app/bundles/PageBundle/Entity/VideoHit.php:166.]]></message>
			<context start-line="184" end-line="194"><![CDATA[            ->addJoinColumn('redirect_id', 'id', true, false, 'SET NULL')
            ->build();

        $builder->createManyToOne('email', 'Mautic\EmailBundle\Entity\Email')
            ->addJoinColumn('email_id', 'id', true, false, 'SET NULL')
            ->build();

        $builder->addLead(true, 'SET NULL');

        $builder->addIpAddress();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818765"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>307</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/Hit.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 257 lines appear both in app/bundles/PageBundle/Entity/Hit.php:307 and app/bundles/PageBundle/Entity/VideoHit.php:281.]]></message>
			<context start-line="302" end-line="312"><![CDATA[                    'source',
                    'sourceId',
                    'query',
                ]
            )
            ->build();
    }

    /**
     * Get id.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819483"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>33</line>
			<resource><![CDATA[app/bundles/PageBundle/Form/Type/PagePublishDatesType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 35 lines appear both in app/bundles/PageBundle/Form/Type/PagePublishDatesType.php:33 and app/bundles/PageBundle/Form/Type/PageType.php:124.]]></message>
			<context start-line="28" end-line="38"><![CDATA[    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder->addEventSubscriber(new CleanFormSubscriber(['content' => 'html', 'customHtml' => 'html']));
        $builder->addEventSubscriber(new FormExitSubscriber('page.page', $options));

        $builder->add('isPublished', 'yesno_button_group');

        $builder->add('publishUp', 'datetime', [
            'widget'     => 'single_text',
            'label'      => 'mautic.core.form.publishup',
            'label_attr' => ['class' => 'control-label'],]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818874"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1566</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 58 lines appear both in app/bundles/PluginBundle/Integration/AbstractIntegration.php:1566 and plugins/MauticCrmBundle/Integration/HubspotIntegration.php:380.]]></message>
			<context start-line="1561" end-line="1571"><![CDATA[            // Assume JSON
            $data = json_decode($data, true);
        }

        // Match that data with mapped lead fields
        $matchedFields = $this->populateMauticLeadData($data);

        if (empty($matchedFields)) {
            return;
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819550"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>275</line>
			<resource><![CDATA[app/bundles/PointBundle/Controller/TriggerEventController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 23 lines appear both in app/bundles/PointBundle/Controller/TriggerEventController.php:275 and app/bundles/PointBundle/Controller/TriggerEventController.php:338.]]></message>
			<context start-line="270" end-line="280"><![CDATA[     *
     * @param int $objectId
     *
     * @return JsonResponse
     */
    public function deleteAction($objectId)
    {
        $session   = $this->get('session');
        $triggerId = $this->request->get('triggerId');
        $events    = $session->get('mautic.point.'.$triggerId.'.triggerevents.modified', []);
        $delete    = $session->get('mautic.point.'.$triggerId.'.triggerevents.deleted', []);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818761"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>54</line>
			<resource><![CDATA[app/bundles/PointBundle/Entity/LeadPointLog.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 65 lines appear in app/bundles/PointBundle/Entity/LeadPointLog.php:54, app/bundles/PointBundle/Entity/LeadTriggerLog.php:54 and app/bundles/StageBundle/Entity/LeadStageLog.php:54.]]></message>
			<context start-line="49" end-line="59"><![CDATA[        $builder->setTable('point_lead_action_log')
            ->setCustomRepositoryClass('Mautic\PointBundle\Entity\LeadPointLogRepository');

        $builder->createManyToOne('point', 'Point')
            ->isPrimaryKey()
            ->addJoinColumn('point_id', 'id', true, false, 'CASCADE')
            ->inversedBy('log')
            ->build();

        $builder->addLead(false, 'CASCADE', true);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819289"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>309</line>
			<resource><![CDATA[app/bundles/PointBundle/Entity/Point.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 79 lines appear both in app/bundles/PointBundle/Entity/Point.php:309 and app/bundles/StageBundle/Entity/Stage.php:255.]]></message>
			<context start-line="304" end-line="314"><![CDATA[    /**
     * Remove log.
     *
     * @param LeadPointLog $log
     */
    public function removeLog(LeadPointLog $log)
    {
        $this->log->removeElement($log);
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819541"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>21</line>
			<resource><![CDATA[app/bundles/PointBundle/Event/PointBuilderEvent.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 126 lines appear both in app/bundles/PointBundle/Event/PointBuilderEvent.php:21 and app/bundles/StageBundle/Event/StageBuilderEvent.php:21.]]></message>
			<context start-line="16" end-line="26"><![CDATA[use Symfony\Component\Translation\TranslatorInterface;

/**
 * Class PointBuilderEvent.
 */
class PointBuilderEvent extends Event
{
    /**
     * @var array
     */
    private $actions = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819202"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/PointBundle/Form/Type/PointType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 52 lines appear both in app/bundles/PointBundle/Form/Type/PointType.php:25 and app/bundles/PointBundle/Form/Type/TriggerType.php:24.]]></message>
			<context start-line="20" end-line="30"><![CDATA[use Symfony\Component\OptionsResolver\OptionsResolverInterface;

/**
 * Class PointType.
 */
class PointType extends AbstractType
{
    /**
     * @var \Mautic\CoreBundle\Security\Permissions\CorePermissions
     */
    private $security;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819612"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>108</line>
			<resource><![CDATA[app/bundles/PointBundle/Form/Type/PointType.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 39 lines appear both in app/bundles/PointBundle/Form/Type/PointType.php:108 and app/bundles/StageBundle/Form/Type/StageType.php:87.]]></message>
			<context start-line="103" end-line="113"><![CDATA[                $options['data']->getCreatedBy()
            );

            $data = $options['data']->isPublished(false);
        } elseif (!$this->security->isGranted('point:points:publishown')) {
            $readonly = true;
            $data     = false;
        } else {
            $readonly = false;
            $data     = true;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819216"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>562</line>
			<resource><![CDATA[app/bundles/ReportBundle/Controller/ReportController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 27 lines appear both in app/bundles/ReportBundle/Controller/ReportController.php:562 and app/bundles/ReportBundle/Controller/ReportController.php:755.]]></message>
			<context start-line="557" end-line="567"><![CDATA[     * @return HttpFoundation\JsonResponse|HttpFoundation\Response
     */
    public function viewAction($objectId, $reportPage = 1)
    {
        /* @type \Mautic\ReportBundle\Model\ReportModel $model */
        $model    = $this->getModel('report');
        $entity   = $model->getEntity($objectId);
        $security = $this->container->get('mautic.security');

        if ($entity === null) {
            $page = $this->container->get('session')->get('mautic.report.page', 1);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819281"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>175</line>
			<resource><![CDATA[app/config/security.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 36 lines appear both in app/config/security.php:175 and app/config/security_test.php:91.]]></message>
			<context start-line="170" end-line="180"><![CDATA[            ['path' => '^/api', 'roles' => 'IS_AUTHENTICATED_FULLY'],
        ],
    ]
);

$entityId = 'mautic';
if ($container->hasParameter('mautic.site_url')) {
    $parts = parse_url($container->getParameter('mautic.site_url'));

    if (!empty($parts['host'])) {
        $scheme   = (!empty($parts['scheme']) ? $parts['scheme'] : 'http');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819044"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>132</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Controller/ClearbitController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 50 lines appear both in plugins/MauticClearbitBundle/Controller/ClearbitController.php:132 and plugins/MauticFullContactBundle/Controller/FullContactController.php:132.]]></message>
			<context start-line="127" end-line="137"><![CDATA[        /** @var \Mautic\LeadBundle\Model\LeadModel $model */
        $model = $this->getModel('lead');
        if ('GET' === $this->request->getMethod()) {
            $data = $this->request->query->get('clearbit_batch_lookup', [], true);
        } else {
            $data = $this->request->request->get('clearbit_batch_lookup', [], true);
        }

        $entities = [];
        if (array_key_exists('ids', $data)) {
            $ids = $data['ids'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819287"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>387</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Controller/ClearbitController.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 49 lines appear both in plugins/MauticClearbitBundle/Controller/ClearbitController.php:387 and plugins/MauticFullContactBundle/Controller/FullContactController.php:387.]]></message>
			<context start-line="382" end-line="392"><![CDATA[        /** @var \Mautic\LeadBundle\Model\CompanyModel $model */
        $model = $this->getModel('lead.company');
        if ('GET' === $this->request->getMethod()) {
            $data = $this->request->query->get('clearbit_batch_lookup', [], true);
        } else {
            $data = $this->request->request->get('clearbit_batch_lookup', [], true);
        }

        $entities = [];
        if (array_key_exists('ids', $data)) {
            $ids = $data['ids'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818824"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>12</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Views/Integration/form.html.php]]></resource>
			<title>Code should not be duplicated</title>
			<message><![CDATA[The next 20 lines appear both in plugins/MauticClearbitBundle/Views/Integration/form.html.php:12 and plugins/MauticFullContactBundle/Views/Integration/form.html.php:14.]]></message>
			<context start-line="7" end-line="17"><![CDATA[ * @link        http://mautic.org
 *
 * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

if (!$hasSupportedFeatures = (isset($form['supportedFeatures']) && count($form['supportedFeatures']))) {
    if (isset($form['supportedFeatures'])) {
        $form['supportedFeatures']->setRendered();
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819637"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>355</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>PHP configuration should not be changed dynamically</title>
			<message><![CDATA[Changing PHP configuration dynamically through ini_set() may create hard to debug errors.]]></message>
			<context start-line="350" end-line="360"><![CDATA[            set_exception_handler([self::$handler, 'handleException']);
            set_error_handler([self::$handler, 'handleError']);

            // Hide errors by default so we can format them
            self::$handler->setDisplayErrors(('dev' === $environment) ? 1 : 0); //ini_get('display_errors'));
            ini_set('display_errors', 0);

            return self::$handler;
        }

        /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819368"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>80</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/AssetGenerationHelper.php]]></resource>
			<title>PHP configuration should not be changed dynamically</title>
			<message><![CDATA[Changing PHP configuration dynamically through ini_set() may create hard to debug errors.]]></message>
			<context start-line="75" end-line="85"><![CDATA[                }
            }

            if ($loadAll || $forceRegeneration) {
                if ($env == 'prod') {
                    ini_set('max_execution_time', 300);

                    $inProgressFile = "$assetsFullPath/generation_in_progress.txt";

                    if (!$forceRegeneration) {
                        while (file_exists($inProgressFile)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819191"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>54</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CacheHelper.php]]></resource>
			<title>PHP configuration should not be changed dynamically</title>
			<message><![CDATA[Changing PHP configuration dynamically through ini_set() may create hard to debug errors.]]></message>
			<context start-line="49" end-line="59"><![CDATA[     */
    public function clearCache()
    {
        $memoryLimit = ini_get('memory_limit');
        if ((int) substr($memoryLimit, 0, -1) < 128) {
            ini_set('memory_limit', '128M');
        }

        $this->clearSessionItems();
        $this->clearOpcaches();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818672"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>42</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/TrackingPixelHelper.php]]></resource>
			<title>PHP configuration should not be changed dynamically</title>
			<message><![CDATA[Changing PHP configuration dynamically through ini_set() may create hard to debug errors.]]></message>
			<context start-line="37" end-line="47"><![CDATA[        //turn off gzip compression
        if (function_exists('apache_setenv')) {
            apache_setenv('no-gzip', 1);
        }

        ini_set('zlib.output_compression', 0);

        $response = new Response();

        //removing any content encoding like gzip etc.
        $response->headers->set('Content-Encoding', 'none');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818703"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>52</line>
			<resource><![CDATA[app/bundles/InstallBundle/Helper/SchemaHelper.php]]></resource>
			<title>PHP configuration should not be changed dynamically</title>
			<message><![CDATA[Changing PHP configuration dynamically through ini_set() may create hard to debug errors.]]></message>
			<context start-line="47" end-line="57"><![CDATA[     * @param array $dbParams
     */
    public function __construct(array $dbParams)
    {
        //suppress display of errors as we know its going to happen while testing the connection
        ini_set('display_errors', 0);

        // Support for env variables
        foreach ($dbParams as $k => &$v) {
            if (!empty($v) && is_string($v) && preg_match('/getenv\((.*?)\)/', $v, $match)) {
                $v = (string) getenv($match[1]);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818850"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>1261</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>PHP configuration should not be changed dynamically</title>
			<message><![CDATA[Changing PHP configuration dynamically through ini_set() may create hard to debug errors.]]></message>
			<context start-line="1256" end-line="1266"><![CDATA[     * @return JsonResponse|\Symfony\Component\HttpFoundation\Response
     */
    public function importAction($objectId = 0, $ignorePost = false)
    {
        //Auto detect line endings for the file to work around MS DOS vs Unix new line characters
        ini_set('auto_detect_line_endings', true);

        /** @var \Mautic\LeadBundle\Model\LeadModel $model */
        $model   = $this->getModel('lead');
        $session = $this->get('session');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819094"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="performance" ignored="false">
			<line>1087</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Usage of a function in loops should be avoided</title>
			<message><![CDATA[This loop uses a function. To avoid the overhead of executing the function n times, you should precalculate it before the loop.]]></message>
			<context start-line="1082" end-line="1092"><![CDATA[     */
    protected function decodeMimeStr($string, $charset = 'utf-8')
    {
        $newString = '';
        $elements  = imap_mime_header_decode($string);
        for ($i = 0; $i < count($elements); ++$i) {
            if ($elements[$i]->charset == 'default') {
                $elements[$i]->charset = 'iso-8859-1';
            }
            $newString .= $this->convertStringEncoding($elements[$i]->text, $elements[$i]->charset, $charset);
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819597"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>40</line>
			<resource><![CDATA[app/bundles/CoreBundle/Event/ComponentValidationTrait.php]]></resource>
			<title>Missing use statement should be avoided</title>
			<message><![CDATA[The InvalidArgumentException class resolves to the following classes: Doctrine\Instantiator\Exception\InvalidArgumentException or Guzzle\Common\Exception\InvalidArgumentException or JMS\Serializer\Exception\InvalidArgumentException or Prophecy\Exception\InvalidArgumentException or Psr\Cache\InvalidArgumentException or Psr\Log\InvalidArgumentException or SebastianBergmann\RecursionContext\InvalidArgumentException or Aws\CloudFront\Exception\InvalidArgumentException or Aws\Common\Exception\InvalidArgumentException or Aws\Kinesis\Exception\InvalidArgumentException or Aws\S3\Exception\InvalidArgumentException or Doctrine\Common\Proxy\Exception\InvalidArgumentException or Doctrine\DBAL\Exception\InvalidArgumentException or Misd\PhoneNumberBundle\Exception\InvalidArgumentException or Symfony\Component\Asset\Exception\InvalidArgumentException or Symfony\Component\Cache\Exception\InvalidArgumentException or Symfony\Component\Console\Exception\InvalidArgumentException or Symfony\Component\DependencyInjection\Exception\InvalidArgumentException or Symfony\Component\Form\Exception\InvalidArgumentException or Symfony\Component\Intl\Exception\InvalidArgumentException or Symfony\Component\OptionsResolver\Exception\InvalidArgumentException or Symfony\Component\Process\Exception\InvalidArgumentException or Symfony\Component\PropertyAccess\Exception\InvalidArgumentException or Symfony\Component\Security\Core\Exception\InvalidArgumentException or Symfony\Component\Validator\Exception\InvalidArgumentException.
Did you forget to add a corresponding use statement for one of them?]]></message>
			<context start-line="35" end-line="45"><![CDATA[        }

        if ($callbacks) {
            foreach ($callbacks as $m) {
                if (isset($component[$m]) && !is_callable($component[$m])) {
                    throw new InvalidArgumentException($component[$m].' is not callable.');
                }
            }
        }
    }
}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819243"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>32</line>
			<resource><![CDATA[app/bundles/AssetBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="27" end-line="37"><![CDATA[     * @param Page          $parent
     * @param               $children
     *
     * @return array
     */
    public static function determineDownloadWinner($factory, $parent, $children)
    {
        $repo = $factory->getEntityManager()->getRepository('MauticAssetBundle:Download');

        //if this is an email A/B test, then link email to page to form submission
        //if it is a page A/B test, then link form submission to page]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819035"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/AssetBundle/Helper/PointActionHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter eventDetails, which is an object, should be typehinted.]]></message>
			<context start-line="20" end-line="30"><![CDATA[     * @param $eventDetails
     * @param $action
     *
     * @return bool
     */
    public static function validateAssetDownload($eventDetails, $action)
    {
        $assetId       = $eventDetails->getId();
        $limitToAssets = $action['properties']['assets'];

        if (!empty($limitToAssets) && !in_array($assetId, $limitToAssets)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819097"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>349</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/Event.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter val, which is an object, should be typehinted.]]></message>
			<context start-line="344" end-line="354"><![CDATA[
    /**
     * @param string $prop
     * @param mixed  $val
     */
    private function isChanged($prop, $val)
    {
        $getter  = 'get'.ucfirst($prop);
        $current = $this->$getter();
        if ($prop == 'category' || $prop == 'parent') {
            $currentId = ($current) ? $current->getId() : '';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818783"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>279</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/LeadEventLog.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter event, which is an object, should be typehinted.]]></message>
			<context start-line="274" end-line="284"><![CDATA[    /***
     * @param $event
     *
     * @return $this
     */
    public function setEvent($event)
    {
        $this->event = $event;

        if (!$this->campaign) {
            $this->setCampaign($event->getCampaign());]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818941"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>354</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter b, which is an object, should be typehinted.]]></message>
			<context start-line="349" end-line="359"><![CDATA[        }

        //set event order used when querying the events
        $this->buildOrder($hierarchy, $events, $entity);

        uasort($events, function ($a, $b) {
            $aOrder = $a->getOrder();
            $bOrder = $b->getOrder();
            if ($aOrder == $bOrder) {
                return 0;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819148"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>354</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter a, which is an object, should be typehinted.]]></message>
			<context start-line="349" end-line="359"><![CDATA[        }

        //set event order used when querying the events
        $this->buildOrder($hierarchy, $events, $entity);

        uasort($events, function ($a, $b) {
            $aOrder = $a->getOrder();
            $bOrder = $b->getOrder();
            if ($aOrder == $bOrder) {
                return 0;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819217"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>66</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/Type/GatedVideoType.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter form, which is an object, should be typehinted.]]></message>
			<context start-line="61" end-line="71"><![CDATA[                    'class'           => 'form-control',
                    'data-slot-param' => 'gatedvideo-formid',
                ],
                'placeholder'  => 'Select your form',
                'class'        => Form::class,
                'choice_label' => function ($form) {
                    return sprintf('%s (ID #%d)', $form->getName(), $form->getId());
                },
            ]
        );
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819576"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>24</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/Type/PropertiesTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter builder, which is an object, should be typehinted.]]></message>
			<context start-line="19" end-line="29"><![CDATA[    /**
     * @param FormBuilderInterface|Form $builder
     * @param array                     $options
     * @param array                     $masks
     */
    protected function addPropertiesType($builder, array $options, array &$masks)
    {
        $properties = null;
        if (!empty($options['data'])) {
            if (is_array($options['data'])) {
                $properties = (!empty($options['data']['properties'])) ? $options['data']['properties'] : null;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819000"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>215</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/Chart/AbstractChart.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter dateTo, which is an object, should be typehinted.]]></message>
			<context start-line="210" end-line="220"><![CDATA[     * @param $dateFrom
     * @param $dateTo
     *
     * @return string
     */
    public function getTimeUnitFromDateRange($dateFrom, $dateTo)
    {
        $diff = $dateTo->diff($dateFrom)->format('%a');
        $unit = 'd';

        if ($diff <= 1) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819034"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>122</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/SearchStringHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter mergeFilter, which is an object, should be typehinted.]]></message>
			<context start-line="117" end-line="127"><![CDATA[
    /**
     * @param $filters
     * @param $mergeFilter
     */
    protected function addFilterCommand(&$filters, $mergeFilter)
    {
        $command = $mergeFilter->command;
        if ('is' === $command) {
            // Special case
            $command = $command.':'.$mergeFilter->string;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818762"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>162</line>
			<resource><![CDATA[app/bundles/CoreBundle/Model/VariantModelTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter entity, which is an object, should be typehinted.]]></message>
			<context start-line="157" end-line="167"><![CDATA[    /**
     * @param           $entity
     * @param           $relatedIds
     * @param \DateTime $variantStartDate
     */
    protected function resetVariants($entity, $relatedIds = null, \DateTime $variantStartDate = null)
    {
        $repo = $this->getRepository();

        if (method_exists($repo, 'resetVariants')) {
            if (null == $relatedIds) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818943"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>366</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter builder, which is an object, should be typehinted.]]></message>
			<context start-line="361" end-line="371"><![CDATA[     * @param string               $level
     * @param FormBuilderInterface $builder
     * @param array                $data
     * @param bool                 $includePublish
     */
    protected function addStandardFormFields($bundle, $level, &$builder, $data, $includePublish = true)
    {
        $choices = [
            'view'   => 'mautic.core.permissions.view',
            'edit'   => 'mautic.core.permissions.edit',
            'create' => 'mautic.core.permissions.create',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819291"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>417</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter builder, which is an object, should be typehinted.]]></message>
			<context start-line="412" end-line="422"><![CDATA[     * @param string               $bundle
     * @param string               $level
     * @param FormBuilderInterface $builder
     * @param array                $data
     */
    protected function addManageFormFields($bundle, $level, &$builder, $data)
    {
        $choices = [
            'manage' => 'mautic.core.permissions.manage',
        ];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818676"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>473</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter builder, which is an object, should be typehinted.]]></message>
			<context start-line="468" end-line="478"><![CDATA[     * @param string               $level
     * @param FormBuilderInterface $builder
     * @param array                $data
     * @param bool                 $includePublish
     */
    protected function addExtendedFormFields($bundle, $level, &$builder, $data, $includePublish = true)
    {
        $choices = $includePublish ?
            [
                'viewown'      => 'mautic.core.permissions.viewown',
                'viewother'    => 'mautic.core.permissions.viewother',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819047"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param $parent
     * @param $children
     *
     * @return array
     */
    public static function determineOpenRateWinner($factory, $parent, $children)
    {
        /** @var \Mautic\EmailBundle\Entity\StatRepository $repo */
        $repo = $factory->getEntityManager()->getRepository('MauticEmailBundle:Stat');
        /** @var Email $parent */
        $ids       = $parent->getRelatedEntityIds();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819319"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter parent, which is an object, should be typehinted.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param $parent
     * @param $children
     *
     * @return array
     */
    public static function determineOpenRateWinner($factory, $parent, $children)
    {
        /** @var \Mautic\EmailBundle\Entity\StatRepository $repo */
        $repo = $factory->getEntityManager()->getRepository('MauticEmailBundle:Stat');
        /** @var Email $parent */
        $ids       = $parent->getRelatedEntityIds();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818939"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>117</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="112" end-line="122"><![CDATA[     * @param $parent
     * @param $children
     *
     * @return array
     */
    public static function determineClickthroughRateWinner($factory, $parent, $children)
    {
        /** @var \Mautic\PageBundle\Entity\HitRepository $pageRepo */
        $pageRepo = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        /** @var \Mautic\EmailBundle\Entity\StatRepository $emailRepo */
        $emailRepo = $factory->getEntityManager()->getRepository('MauticEmailBundle:Stat');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819397"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>117</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter parent, which is an object, should be typehinted.]]></message>
			<context start-line="112" end-line="122"><![CDATA[     * @param $parent
     * @param $children
     *
     * @return array
     */
    public static function determineClickthroughRateWinner($factory, $parent, $children)
    {
        /** @var \Mautic\PageBundle\Entity\HitRepository $pageRepo */
        $pageRepo = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        /** @var \Mautic\EmailBundle\Entity\StatRepository $emailRepo */
        $emailRepo = $factory->getEntityManager()->getRepository('MauticEmailBundle:Stat');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818916"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1939</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter entity, which is an object, should be typehinted.]]></message>
			<context start-line="1934" end-line="1944"><![CDATA[
    /**
     * @param $slots
     * @param Email $entity
     */
    public function processSlots($slots, $entity)
    {
        /** @var \Mautic\CoreBundle\Templating\Helper\SlotsHelper $slotsHelper */
        $slotsHelper = $this->factory->getHelper('template.slots');

        $content = $entity->getContent();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819370"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/PointEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter eventDetails, which is an object, should be typehinted.]]></message>
			<context start-line="23" end-line="33"><![CDATA[     * @param $eventDetails
     * @param $action
     *
     * @return int
     */
    public static function validateEmail($eventDetails, $action)
    {
        $emailId = $eventDetails->getId();

        if (isset($action['properties']['emails'])) {
            $limitToEmails = $action['properties']['emails'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818729"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>925</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter partStructure, which is an object, should be typehinted.]]></message>
			<context start-line="920" end-line="930"><![CDATA[     * @param            $partNum
     * @param bool|true  $markAsSeen
     * @param bool|false $isDsn
     * @param bool|false $isFbl
     */
    protected function initMailPart(Message $mail, $partStructure, $partNum, $markAsSeen = true, $isDsn = false, $isFbl = false)
    {
        $options = FT_UID;
        if (!$markAsSeen) {
            $options |= FT_PEEK;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819453"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1055</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter partStructure, which is an object, should be typehinted.]]></message>
			<context start-line="1050" end-line="1060"><![CDATA[    /**
     * @param $partStructure
     *
     * @return array
     */
    protected function getParameters($partStructure)
    {
        $params = [];
        if (!empty($partStructure->parameters)) {
            foreach ($partStructure->parameters as $param) {
                $params[strtolower($param->attribute)] = $param->value;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819278"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>32</line>
			<resource><![CDATA[app/bundles/FormBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="27" end-line="37"><![CDATA[     * @param Page          $parent
     * @param               $children
     *
     * @return array
     */
    public static function determineSubmissionWinner($factory, $parent, $children)
    {
        $repo = $factory->getEntityManager()->getRepository('MauticFormBundle:Submission');

        //if this is an email A/B test, then link email to page to form submission
        //if it is a page A/B test, then link form submission to page]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819003"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/FormBundle/Helper/PointActionHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter eventDetails, which is an object, should be typehinted.]]></message>
			<context start-line="20" end-line="30"><![CDATA[     * @param $eventDetails
     * @param $action
     *
     * @return int
     */
    public static function validateFormSubmit($eventDetails, $action)
    {
        $form         = $eventDetails->getForm();
        $formId       = $form->getId();
        $limitToForms = $action['properties']['forms'];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819267"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>474</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/FormModel.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter b, which is an object, should be typehinted.]]></message>
			<context start-line="469" end-line="479"><![CDATA[
        // Determine pages
        $fields = $entity->getFields()->toArray();

        // Ensure the correct order in case this is generated right after a form save with new fields
        uasort($fields, function ($a, $b) {
            if ($a->getOrder() === $b->getOrder()) {
                return 0;
            }

            return ($a->getOrder() < $b->getOrder()) ? -1 : 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819428"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>474</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/FormModel.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter a, which is an object, should be typehinted.]]></message>
			<context start-line="469" end-line="479"><![CDATA[
        // Determine pages
        $fields = $entity->getFields()->toArray();

        // Ensure the correct order in case this is generated right after a form save with new fields
        uasort($fields, function ($a, $b) {
            if ($a->getOrder() === $b->getOrder()) {
                return 0;
            }

            return ($a->getOrder() < $b->getOrder()) ? -1 : 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818881"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/CustomFieldsApiControllerTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter entity, which is an object, should be typehinted.]]></message>
			<context start-line="25" end-line="35"><![CDATA[     * @param Lead $entity
     * @param $action
     *
     * @return mixed|void
     */
    protected function prepareParametersForBinding($parameters, $entity, $action)
    {
        if ('company' === $this->entityNameOne) {
            $object = 'company';
        } else {
            $object = 'lead';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819471"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>2307</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter contact, which is an object, should be typehinted.]]></message>
			<context start-line="2302" end-line="2312"><![CDATA[            'orderBy'        => $orderBy,
            'orderByDir'     => $orderByDir,
            'withTotalCount' => true,
        ];

        $resultsCallback = function ($contact) {
            return $contact->getProfileFields();
        };

        $toExport = $this->getDataForExport($model, $args, $resultsCallback);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819405"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>271</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/CustomFieldRepositoryTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter entity, which is an object, should be typehinted.]]></message>
			<context start-line="266" end-line="276"><![CDATA[     * {@inheritdoc}
     *
     * @param $entity
     * @param $flush
     */
    public function saveEntity($entity, $flush = true)
    {
        $this->getEntityManager()->persist($entity);

        if ($flush) {
            $this->getEntityManager()->flush($entity);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819298"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/ExpressionHelperTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter q, which is an object, should be typehinted.]]></message>
			<context start-line="23" end-line="33"><![CDATA[     * @param $parameter
     * @param $includeIsNull    true/false or null to auto determine based on operator
     *
     * @return mixed
     */
    protected function generateFilterExpression($q, $column, $operator, $parameter, $includeIsNull, CompositeExpression $appendTo = null)
    {
        // in/notIn for dbal will use a raw array
        if (!is_array($parameter) && strpos($parameter, ':') !== 0) {
            $parameter = ":$parameter";
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819099"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>386</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadRepository.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter r, which is an object, should be typehinted.]]></message>
			<context start-line="381" end-line="391"><![CDATA[    public function getEntities($args = [])
    {
        $contacts = $this->getEntitiesWithCustomFields(
            'lead',
            $args,
            function ($r) {
                if (!empty($this->triggerModel)) {
                    $r->setColor($this->triggerModel->getColorForLeadPoints($r->getPoints()));
                }
                $r->setAvailableSocialFields($this->availableSocialFields);
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819033"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/EventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="39" end-line="49"><![CDATA[
    /**
     * @param $action
     * @param $factory
     */
    public static function addUtmTags($action, $factory, $config)
    {
        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel = $factory->getModel('lead');
        $lead      = $leadModel->getCurrentLead();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819300"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter form, which is an object, should be typehinted.]]></message>
			<context start-line="25" end-line="35"><![CDATA[     * @param MauticFactory $factory
     * @param               $action
     * @param               $config
     * @param               $form
     */
    public static function changePoints(Lead $lead, MauticFactory $factory, $action, $config, $form)
    {
        $model = $factory->getModel('lead');

        //create a new points change event
        $event = new PointsChangeLog();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819050"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter action, which is an object, should be typehinted.]]></message>
			<context start-line="25" end-line="35"><![CDATA[     * @param MauticFactory $factory
     * @param               $action
     * @param               $config
     * @param               $form
     */
    public static function changePoints(Lead $lead, MauticFactory $factory, $action, $config, $form)
    {
        $model = $factory->getModel('lead');

        //create a new points change event
        $event = new PointsChangeLog();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819607"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>60</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter action, which is an object, should be typehinted.]]></message>
			<context start-line="55" end-line="65"><![CDATA[
    /**
     * @param $action
     * @param $factory
     */
    public static function changeLists($action, $factory)
    {
        $properties = $action->getProperties();

        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel  = $factory->getModel('lead');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819472"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>60</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="55" end-line="65"><![CDATA[
    /**
     * @param $action
     * @param $factory
     */
    public static function changeLists($action, $factory)
    {
        $properties = $action->getProperties();

        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel  = $factory->getModel('lead');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819519"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>79</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter action, which is an object, should be typehinted.]]></message>
			<context start-line="74" end-line="84"><![CDATA[        if (!empty($removeFrom)) {
            $leadModel->removeFromLists($lead, $removeFrom);
        }
    }

    public static function scoreContactsCompanies($action, $factory)
    {
        $properties = $action->getProperties();

        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel = $factory->getModel('lead');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819011"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>79</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="74" end-line="84"><![CDATA[        if (!empty($removeFrom)) {
            $leadModel->removeFromLists($lead, $removeFrom);
        }
    }

    public static function scoreContactsCompanies($action, $factory)
    {
        $properties = $action->getProperties();

        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel = $factory->getModel('lead');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819460"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/IdentifyCompanyHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter lead, which is an object, should be typehinted.]]></message>
			<context start-line="23" end-line="33"><![CDATA[     * @param mixed        $lead
     * @param CompanyModel $companyModel
     *
     * @return array
     */
    public static function identifyLeadsCompany($parameters, $lead, CompanyModel $companyModel)
    {
        list($company, $companyEntities) = self::findCompany($parameters, $companyModel);

        if (!empty($company)) {
            $leadAdded = false;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819308"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/PointEventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="21" end-line="31"><![CDATA[     * @param $factory
     * @param $lead
     *
     * @return bool
     */
    public static function changeLists($event, $factory, $lead)
    {
        $properties = $event['properties'];

        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel  = $factory->getModel('lead');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819184"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>20</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/DefaultValueTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter entity, which is an object, should be typehinted.]]></message>
			<context start-line="15" end-line="25"><![CDATA[{
    /**
     * @param        $entity
     * @param string $object
     */
    protected function setEntityDefaultValues($entity, $object = 'lead')
    {
        if (!$entity->getId()) {
            // New contact so default values if not already set
            $updatedFields = $entity->getUpdatedFields();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819376"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>31</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter parent, which is an object, should be typehinted.]]></message>
			<context start-line="26" end-line="36"><![CDATA[     * @param Page   $parent
     * @param Page[] $children
     *
     * @return array
     */
    public static function determineBounceTestWinner($factory, $parent, $children)
    {
        //find the hits that did not go any further
        $repo      = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        $pageIds   = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818956"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>31</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="26" end-line="36"><![CDATA[     * @param Page   $parent
     * @param Page[] $children
     *
     * @return array
     */
    public static function determineBounceTestWinner($factory, $parent, $children)
    {
        //find the hits that did not go any further
        $repo      = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        $pageIds   = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819296"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>119</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="114" end-line="124"><![CDATA[     * @param Page          $parent
     * @param               $children
     *
     * @return array
     */
    public static function determineDwellTimeTestWinner($factory, $parent)
    {
        //find the hits that did not go any further
        $repo      = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        $pageIds   = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818650"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>119</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/AbTestHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter parent, which is an object, should be typehinted.]]></message>
			<context start-line="114" end-line="124"><![CDATA[     * @param Page          $parent
     * @param               $children
     *
     * @return array
     */
    public static function determineDwellTimeTestWinner($factory, $parent)
    {
        //find the hits that did not go any further
        $repo      = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        $pageIds   = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819088"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>29</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/PointActionHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="24" end-line="34"><![CDATA[     * @param               $eventDetails
     * @param               $action
     *
     * @return bool
     */
    public static function validatePageHit($factory, $eventDetails, $action)
    {
        $pageHit = $eventDetails->getPage();

        if ($pageHit instanceof Page) {
            /** @var \Mautic\PageBundle\Model\PageModel $pageModel */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818692"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>29</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/PointActionHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter eventDetails, which is an object, should be typehinted.]]></message>
			<context start-line="24" end-line="34"><![CDATA[     * @param               $eventDetails
     * @param               $action
     *
     * @return bool
     */
    public static function validatePageHit($factory, $eventDetails, $action)
    {
        $pageHit = $eventDetails->getPage();

        if ($pageHit instanceof Page) {
            /** @var \Mautic\PageBundle\Model\PageModel $pageModel */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819007"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>63</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/PointActionHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter factory, which is an object, should be typehinted.]]></message>
			<context start-line="58" end-line="68"><![CDATA[     * @param               $eventDetails
     * @param               $action
     *
     * @return bool
     */
    public static function validateUrlHit($factory, $eventDetails, $action)
    {
        $changePoints = [];
        $url          = $eventDetails->getUrl();
        $limitToUrl   = html_entity_decode(trim($action['properties']['page_url']));
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819520"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>63</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/PointActionHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter eventDetails, which is an object, should be typehinted.]]></message>
			<context start-line="58" end-line="68"><![CDATA[     * @param               $eventDetails
     * @param               $action
     *
     * @return bool
     */
    public static function validateUrlHit($factory, $eventDetails, $action)
    {
        $changePoints = [];
        $url          = $eventDetails->getUrl();
        $limitToUrl   = html_entity_decode(trim($action['properties']['page_url']));
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819027"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>211</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter b, which is an object, should be typehinted.]]></message>
			<context start-line="206" end-line="216"><![CDATA[            $returnServices[$integrationName] = $integrations[$integrationName];
        }

        if (empty($alphabetical)) {
            // Sort by priority
            uasort($returnServices, function ($a, $b) {
                $aP = (int) $a->getPriority();
                $bP = (int) $b->getPriority();

                if ($aP === $bP) {
                    return 0;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818760"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>211</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter a, which is an object, should be typehinted.]]></message>
			<context start-line="206" end-line="216"><![CDATA[            $returnServices[$integrationName] = $integrations[$integrationName];
        }

        if (empty($alphabetical)) {
            // Sort by priority
            uasort($returnServices, function ($a, $b) {
                $aP = (int) $a->getPriority();
                $bP = (int) $b->getPriority();

                if ($aP === $bP) {
                    return 0;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818806"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>223</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter a, which is an object, should be typehinted.]]></message>
			<context start-line="218" end-line="228"><![CDATA[
                return ($aP < $bP) ? -1 : 1;
            });
        } else {
            // Sort by display name
            uasort($returnServices, function ($a, $b) {
                $aName = $a->getDisplayName();
                $bName = $b->getDisplayName();

                return strcasecmp($aName, $bName);
            });]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819461"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>223</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter b, which is an object, should be typehinted.]]></message>
			<context start-line="218" end-line="228"><![CDATA[
                return ($aP < $bP) ? -1 : 1;
            });
        } else {
            // Sort by display name
            uasort($returnServices, function ($a, $b) {
                $aName = $a->getDisplayName();
                $bName = $b->getDisplayName();

                return strcasecmp($aName, $bName);
            });]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818691"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>349</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter lead, which is an object, should be typehinted.]]></message>
			<context start-line="344" end-line="354"><![CDATA[     * @param bool                           $persistLead
     * @param bool                           $returnSettings
     *
     * @return array
     */
    public function getUserProfiles($lead, $fields = [], $refresh = false, $specificIntegration = null, $persistLead = true, $returnSettings = false)
    {
        $socialCache     = $lead->getSocialCache();
        $featureSettings = [];
        if ($refresh) {
            //regenerate from integrations]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819569"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>425</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter lead, which is an object, should be typehinted.]]></message>
			<context start-line="420" end-line="430"><![CDATA[     * @param      $lead
     * @param bool $integration
     *
     * @return array
     */
    public function clearIntegrationCache($lead, $integration = false)
    {
        $socialCache = $lead->getSocialCache();
        if (!empty($integration)) {
            unset($socialCache[$integration]);
        } else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818659"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>482</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter integrationObject, which is an object, should be typehinted.]]></message>
			<context start-line="477" end-line="487"><![CDATA[     * @param $integrationObject
     * @param $fields
     *
     * @return bool
     */
    public function getUserIdentifierField($integrationObject, $fields)
    {
        $identifierField = $integrationObject->getIdentifierFields();
        $identifier      = (is_array($identifierField)) ? [] : false;
        $matchFound      = false;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818687"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/PointBundle/Helper/EventHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter lead, which is an object, should be typehinted.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param Lead  $lead
     * @param array $action
     *
     * @return int
     */
    public static function engagePointAction($lead, $action)
    {
        static $initiated = [];

        $pointsChange = 0;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819401"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>31</line>
			<resource><![CDATA[app/config/parameters.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter dir, which is an object, should be typehinted.]]></message>
			<context start-line="26" end-line="36"><![CDATA[}

// Find available translations
$locales = [];

$extractLocales = function ($dir) use (&$locales) {
    $locale = $dir->getFilename();

    // Check config
    $configFile = $dir->getRealpath().'/config.php';
    if (file_exists($configFile)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819058"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>33</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/EventListener/CitrixRegistrationTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter currentLead, which is an object, should be typehinted.]]></message>
			<context start-line="28" end-line="38"><![CDATA[     * @throws \Symfony\Component\DependencyInjection\Exception\ServiceNotFoundException
     * @throws \Doctrine\ORM\ORMInvalidArgumentException
     * @throws \Doctrine\ORM\OptimisticLockException
     * @throws \InvalidArgumentException
     */
    public function registerProduct($product, $currentLead, array $productsToRegister)
    {
        $leadFields                         = $currentLead->getProfileFields();
        list($email, $firstname, $lastname) = [
            array_key_exists('email', $leadFields) ? $leadFields['email'] : '',
            array_key_exists('firstname', $leadFields) ? $leadFields['firstname'] : '',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819630"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>50</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/EventListener/CitrixStartTrait.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter lead, which is an object, should be typehinted.]]></message>
			<context start-line="45" end-line="55"><![CDATA[     * @throws \Doctrine\ORM\ORMInvalidArgumentException
     * @throws \Doctrine\ORM\OptimisticLockException
     * @throws \InvalidArgumentException
     * @throws \Doctrine\ORM\ORMException
     */
    public function startProduct($product, $lead, array $productsToStart, $emailId = null, $actionId = null)
    {
        $leadFields                         = $lead->getProfileFields();
        list($email, $firstname, $lastname) = [
            array_key_exists('email', $leadFields) ? $leadFields['email'] : '',
            array_key_exists('firstname', $leadFields) ? $leadFields['firstname'] : '',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819422"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>216</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Helper/LookupHelper.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter entity, which is an object, should be typehinted.]]></message>
			<context start-line="211" end-line="221"><![CDATA[     * @param $entity
     * @param $notify
     *
     * @return array
     */
    protected function getCache($entity, $notify)
    {
        /** @var User $user */
        $user      = $this->userHelper->getUser();
        $nonce     = substr(EncryptionHelper::generateKey(), 0, 16);
        $cacheId   = sprintf('clearbit%s#', $notify ? '_notify' : '').$entity->getId().'#'.gmdate('YmdH');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819539"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>204</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter block, which is an object, should be typehinted.]]></message>
			<context start-line="199" end-line="209"><![CDATA[     * Compiling the block involves pushing a fresh environment on the stack,
     * and iterating through the props, compiling each one.
     *
     * See lessc::compileProp()
     */
    protected function compileBlock($block)
    {
        switch ($block->type) {
            case 'root':
                $this->compileRoot($block);
                break;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819636"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>244</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter media, which is an object, should be typehinted.]]></message>
			<context start-line="239" end-line="249"><![CDATA[
        $block->scope = $env; // mixins carry scope with them!
        $this->popEnv();
    }

    protected function compileMedia($media)
    {
        $env         = $this->pushEnv($media);
        $parentScope = $this->mediaParent($this->scope);

        $query = $this->compileMediaQuery($this->multiplyMedia($env));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819005"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>282</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter block, which is an object, should be typehinted.]]></message>
			<context start-line="277" end-line="287"><![CDATA[        }

        return $scope;
    }

    protected function compileNestedBlock($block, $selectors)
    {
        $this->pushEnv($block);
        $this->scope                     = $this->makeOutputBlock($block->type, $selectors);
        $this->scope->parent->children[] = $this->scope;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819103"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>294</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter root, which is an object, should be typehinted.]]></message>
			<context start-line="289" end-line="299"><![CDATA[
        $this->scope = $this->scope->parent;
        $this->popEnv();
    }

    protected function compileRoot($root)
    {
        $this->pushEnv();
        $this->scope = $this->makeOutputBlock($root->type);
        $this->compileProps($root, $this->scope);
        $this->popEnv();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819491"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>302</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter block, which is an object, should be typehinted.]]></message>
			<context start-line="297" end-line="307"><![CDATA[        $this->scope = $this->makeOutputBlock($root->type);
        $this->compileProps($root, $this->scope);
        $this->popEnv();
    }

    protected function compileProps($block, $out)
    {
        foreach ($this->sortProps($block->props) as $prop) {
            $this->compileProp($prop, $block, $out);
        }
        $out->lines = $this->deduplicate($out->lines);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818724"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>418</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter env, which is an object, should be typehinted.]]></message>
			<context start-line="413" end-line="423"><![CDATA[        }

        return $out;
    }

    protected function multiplyMedia($env, $childQueries = null)
    {
        if (is_null($env)
            || !empty($env->block->type) && $env->block->type != 'media'
        ) {
            return $childQueries;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819302"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>528</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter block, which is an object, should be typehinted.]]></message>
			<context start-line="523" end-line="533"><![CDATA[    protected function eq($left, $right)
    {
        return $left == $right;
    }

    protected function patternMatch($block, $orderedArgs, $keywordArgs)
    {
        // match the guards if it has them
        // any one of the groups must have all its guards pass for a match
        if (!empty($block->guards)) {
            $groupPassed = false;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819350"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>635</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter searchIn, which is an object, should be typehinted.]]></message>
			<context start-line="630" end-line="640"><![CDATA[
        return $matches;
    }

    // attempt to find blocks matched by path and args
    protected function findBlocks($searchIn, $path, $orderedArgs, $keywordArgs, $seen = [])
    {
        if ($searchIn == null) {
            return null;
        }
        if (isset($seen[$searchIn->id])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818709"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>4234</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter block, which is an object, should be typehinted.]]></message>
			<context start-line="4229" end-line="4239"><![CDATA[    public function property($name, $value)
    {
        return $name.$this->assignSeparator.$value.';';
    }

    protected function isEmpty($block)
    {
        if (empty($block->lines)) {
            foreach ($block->children as $child) {
                if (!$this->isEmpty($child)) {
                    return false;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819501"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>4249</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Object parameters should be type hinted</title>
			<message><![CDATA[The parameter block, which is an object, should be typehinted.]]></message>
			<context start-line="4244" end-line="4254"><![CDATA[        }

        return false;
    }

    public function block($block)
    {
        if ($this->isEmpty($block)) {
            return;
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819633"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>392</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Error silenced by the at sign (@)</title>
			<message><![CDATA[Adding "@" before imap_reopen($this->imapStream, $this->imapFullPath) prevents warning and errors during this function execution from being displayed.
If you need to do that, you should probably implement a better way to qualify and recover from errors, using Exceptions.]]></message>
			<context start-line="387" end-line="397"><![CDATA[    public function getImapStream()
    {
        if (!$this->isConnected()) {
            $this->imapStream = $this->initImapStream();
        } else {
            @imap_reopen($this->imapStream, $this->imapFullPath);
        }

        return $this->imapStream;
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818960"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>406</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Error silenced by the at sign (@)</title>
			<message><![CDATA[Adding "@" before imap_open($this->imapFullPath, $this->settings['user'], $this->settings['password'], $this->imapOptions, $this->imapRetriesNum, $this->imapParams) prevents warning and errors during this function execution from being displayed.
If you need to do that, you should probably implement a better way to qualify and recover from errors, using Exceptions.]]></message>
			<context start-line="401" end-line="411"><![CDATA[     * @throws MailboxException
     */
    protected function initImapStream()
    {
        imap_timeout(IMAP_OPENTIMEOUT, 15);
        $imapStream = @imap_open(
            $this->imapFullPath,
            $this->settings['user'],
            $this->settings['password'],
            $this->imapOptions,
            $this->imapRetriesNum,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819459"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>428</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Error silenced by the at sign (@)</title>
			<message><![CDATA[Adding "@" before imap_ping($this->imapStream) prevents warning and errors during this function execution from being displayed.
If you need to do that, you should probably implement a better way to qualify and recover from errors, using Exceptions.]]></message>
			<context start-line="423" end-line="433"><![CDATA[     *
     * @return bool
     */
    protected function isConnected()
    {
        return $this->isConfigured() && $this->imapStream && is_resource($this->imapStream) && @imap_ping($this->imapStream);
    }

    /**
     * Get information about the current mailbox.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819230"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>484</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Error silenced by the at sign (@)</title>
			<message><![CDATA[Adding "@" before imap_list($this->getImapStream(), $this->imapPath, '*') prevents warning and errors during this function execution from being displayed.
If you need to do that, you should probably implement a better way to qualify and recover from errors, using Exceptions.]]></message>
			<context start-line="479" end-line="489"><![CDATA[    public function getListingFolders()
    {
        static $folders = [];

        if (!isset($folders[$this->imapFullPath]) && $this->isConfigured()) {
            $tempFolders = @imap_list($this->getImapStream(), $this->imapPath, '*');

            if (!empty($tempFolders)) {
                foreach ($tempFolders as $key => $folder) {
                    $folder            = str_replace($this->imapPath, '', imap_utf8($folder));
                    $tempFolders[$key] = $folder;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819339"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1144</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Error silenced by the at sign (@)</title>
			<message><![CDATA[Adding "@" before mb_convert_encoding($string, $toEncoding, $fromEncoding) prevents warning and errors during this function execution from being displayed.
If you need to do that, you should probably implement a better way to qualify and recover from errors, using Exceptions.]]></message>
			<context start-line="1139" end-line="1149"><![CDATA[    {
        $convertedString = null;
        if ($string && $fromEncoding != $toEncoding) {
            $convertedString = @iconv($fromEncoding, $toEncoding.'//IGNORE', $string);
            if (!$convertedString && extension_loaded('mbstring')) {
                $convertedString = @mb_convert_encoding($string, $toEncoding, $fromEncoding);
            }
        }

        return $convertedString ?: $string;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819113"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1161</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Error silenced by the at sign (@)</title>
			<message><![CDATA[Adding "@" before imap_close($this->imapStream, CL_EXPUNGE) prevents warning and errors during this function execution from being displayed.
If you need to do that, you should probably implement a better way to qualify and recover from errors, using Exceptions.]]></message>
			<context start-line="1156" end-line="1166"><![CDATA[        if ($this->isConnected()) {
            // Prevent these from throwing notices such as "SECURITY PROBLEM: insecure server advertised"
            imap_errors();
            imap_alerts();

            @imap_close($this->imapStream, CL_EXPUNGE);
        }
    }

    /**
     * Disconnect on destruct.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818702"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>289</line>
			<resource><![CDATA[app/bundles/AssetBundle/Controller/AssetController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="284" end-line="294"><![CDATA[    {
        /** @var \Mautic\AssetBundle\Model\AssetModel $model */
        $model = $this->getModel('asset');

        /** @var \Mautic\AssetBundle\Entity\Asset $entity */
        if (null == $entity) {
            $entity = $model->getEntity();
        }
        $entity->setMaxSize(Asset::convertSizeToBytes($this->get('mautic.helper.core_parameters')->getParameter('max_size').'M')); // convert from MB to B
        $method  = $this->request->getMethod();
        $session = $this->get('session');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819415"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>589</line>
			<resource><![CDATA[app/bundles/AssetBundle/Controller/AssetController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="584" end-line="594"><![CDATA[    {
        /** @var \Mautic\AssetBundle\Model\AssetModel $model */
        $model  = $this->getModel('asset');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('asset:assets:create') ||
                !$this->get('mautic.security')->hasEntityAccess(
                    'asset:assets:viewown', 'asset:assets:viewother', $entity->getCreatedBy()
                )
            ) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819423"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>180</line>
			<resource><![CDATA[app/bundles/AssetBundle/Entity/DownloadRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="175" end-line="185"><![CDATA[        }

        $q->andWhere('a.source = "page"')
            ->andWhere('a.code = 200');

        if ($fromDate != null) {
            $dh = new DateTimeHelper($fromDate);
            $q->andWhere($q->expr()->gte('a.date_download', ':date'))
                ->setParameter('date', $dh->toUtcString());
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818957"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>223</line>
			<resource><![CDATA[app/bundles/AssetBundle/Entity/DownloadRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="218" end-line="228"><![CDATA[                ->setParameter('email', (int) $emailId);
        }

        $q->andWhere('a.code = 200');

        if ($fromDate != null) {
            $dh = new DateTimeHelper($fromDate);
            $q->andWhere($q->expr()->gte('a.date_download', ':date'))
                ->setParameter('date', $dh->toUtcString());
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818774"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>92</line>
			<resource><![CDATA[app/bundles/AssetBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="87" end-line="97"><![CDATA[     */
    public function onCampaignTriggerDecision(CampaignExecutionEvent $event)
    {
        $eventDetails = $event->getEventDetails();

        if ($eventDetails == null) {
            return $event->setResult(true);
        }

        $assetId       = $eventDetails->getId();
        $limitToAssets = $event->getConfig()['assets'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818719"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>50</line>
			<resource><![CDATA[app/bundles/AssetBundle/Helper/AbTestHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="45" end-line="55"><![CDATA[                $ids[] = $id;
            }
        }

        $startDate = $parent->getVariantStartDate();
        if ($startDate != null && !empty($ids)) {
            $counts = ($type == 'page') ? $repo->getDownloadCountsByPage($ids, $startDate) : $repo->getDownloadCountsByEmail($ids, $startDate);

            $translator = $factory->getTranslator();
            if ($counts) {
                $downloads  = $support  = $data  = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819174"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/AssetBundle/Helper/FormSubmitHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="39" end-line="49"><![CDATA[        $model = $factory->getModel('asset');
        $asset = $model->getEntity($assetId);
        $form  = $action->getForm();

        //make sure the asset still exists and is published
        if ($asset != null && $asset->isPublished()) {
            //register a callback after the other actions have been fired
            return [
                'callback' => '\Mautic\AssetBundle\Helper\FormSubmitHelper::downloadFile',
                'form'     => $form,
                'asset'    => $asset,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819345"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>137</line>
			<resource><![CDATA[app/bundles/AssetBundle/Model/AssetModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="132" end-line="142"><![CDATA[        // Don't skew results with in-house downloads
        if (empty($systemEntry) && !$this->security->isAnonymous()) {
            return;
        }

        if ($request == null) {
            $request = $this->request;
        }

        $download = new Download();
        $download->setDateDownload(new \Datetime());]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819545"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>56</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/CampaignApiController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="51" end-line="61"><![CDATA[        $entity = $this->model->getEntity($id);
        if (null !== $entity) {
            $leadModel = $this->getModel('lead');
            $lead      = $leadModel->getEntity($leadId);

            if ($lead == null) {
                return $this->notFound();
            } elseif (!$this->security->hasEntityAccess('lead:leads:editown', 'lead:leads:editother', $lead->getOwner())) {
                return $this->accessDenied();
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819364"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>96</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="91" end-line="101"><![CDATA[        }

        // Ensure campaign exists and user has access
        if (!empty($campaignId)) {
            $campaign = $this->getModel('campaign')->getEntity($campaignId);
            if (null == $campaign || !$campaign->getId()) {
                return $this->notFound();
            }
            if (!$this->checkEntityAccess($campaign, 'view')) {
                return $this->accessDenied();
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819383"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>89</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/EventRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="84" end-line="94"><![CDATA[        if (!empty($campaigns)) {
            $q->andWhere($q->expr()->in('c.id', ':campaigns'))
                ->setParameter('campaigns', $campaigns);
        }

        if ($leadId != null) {
            // Events that aren't fired yet
            $dq = $this->getEntityManager()->createQueryBuilder();
            $dq->select('ellev.id')
                ->from('MauticCampaignBundle:LeadEventLog', 'ell')
                ->leftJoin('ell.event', 'ellev')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818859"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>100</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/LeadRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="95" end-line="105"><![CDATA[            )
        )
            ->setParameter('false', false, 'boolean')
            ->setParameter('campaign', $campaignId);

        if ($eventId != null) {
            $dq = $this->getEntityManager()->createQueryBuilder();
            $dq->select('el.id')
                ->from('MauticCampaignBundle:LeadEventLog', 'ell')
                ->leftJoin('ell.lead', 'el')
                ->leftJoin('ell.event', 'ev')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819105"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>29</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Helper/CampaignEventHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="24" end-line="34"><![CDATA[     *
     * @return bool
     */
    public static function validateLeadChangeTrigger(CampaignLeadChangeEvent $eventDetails = null, $event)
    {
        if ($eventDetails == null) {
            return true;
        }

        $limitToCampaigns = $event['properties']['campaigns'];
        $action           = $event['properties']['action'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819301"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>672</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="667" end-line="677"><![CDATA[
        foreach ($choices as &$typeChoices) {
            asort($typeChoices);
        }

        return ($sourceType == null) ? $choices : $choices[$sourceType];
    }

    /**
     * @param mixed $form
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819523"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>779</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="774" end-line="784"><![CDATA[                    'campaign' => $campaign->getId(),
                ]);
            }

            $dispatchEvent = true;
            if ($campaignLead != null) {
                if ($campaignLead->wasManuallyRemoved()) {
                    $campaignLead->setManuallyRemoved(false);
                    $campaignLead->setManuallyAdded($manuallyAdded);

                    try {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819247"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>878</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="873" end-line="883"><![CDATA[                $this->em->getReference('MauticCampaignBundle:Lead', [
                    'lead'     => $leadId,
                    'campaign' => $campaign->getId(),
                ]);

            if ($campaignLead == null) {
                if ($batchProcess) {
                    $this->em->detach($lead);
                    unset($lead);
                }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819343"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1564</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1559" end-line="1569"><![CDATA[            $triggerDate          = new DateTimeHelper($event['triggerDate']);
            $event['triggerDate'] = $triggerDate->getDateTime();
            unset($triggerDate);
        }

        if ($eventTriggerDate == null) {
            $eventTriggerDate = $this->checkEventTiming($event, $parentTriggeredDate, $allowNegative);
        }
        $result = true;

        // Create/get log entry]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818678"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1939</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1934" end-line="1944"><![CDATA[            $negate = ($action['decisionPath'] == 'no' && $allowNegative);

            if ($action['triggerMode'] == 'interval') {
                $triggerOn = $negate ? clone $parentTriggeredDate : new \DateTime();

                if ($triggerOn == null) {
                    $triggerOn = new \DateTime();
                }

                $interval = $action['triggerInterval'];
                $unit     = strtoupper($action['triggerIntervalUnit']);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818745"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>2036</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="2031" end-line="2041"><![CDATA[     */
    public function getLogEntity($event, $campaign, $lead = null, $ipAddress = null, $systemTriggered = false)
    {
        $log = new LeadEventLog();

        if ($ipAddress == null) {
            // Lead triggered from system IP
            $ipAddress = $this->ipLookupHelper->getIpAddress();
        }
        $log->setIpAddress($ipAddress);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818798"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>2052</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="2047" end-line="2057"><![CDATA[        if (!$campaign instanceof Campaign) {
            $campaign = $this->em->getReference('MauticCampaignBundle:Campaign', $campaign);
        }
        $log->setCampaign($campaign);

        if ($lead == null) {
            $lead = $this->leadModel->getCurrentLead();
        }
        $log->setLead($lead);
        $log->setDateTriggered(new \DateTime());
        $log->setSystemTriggered($systemTriggered);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819106"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>61</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Form/Type/CategoryType.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="56" end-line="66"><![CDATA[        $builder->addEventSubscriber(new CleanFormSubscriber());
        $builder->addEventSubscriber(new FormExitSubscriber('category.category', $options));

        if (!$options['data']->getId()) {
            // Do not allow custom bundle
            if ($options['show_bundle_select'] == true) {
                // Create new category from category bundle - let user select the bundle
                $selected = $this->session->get('mautic.category.type', 'category');
                $builder->add(
                    'bundle',
                    'category_bundles_form',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819511"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>346</line>
			<resource><![CDATA[app/bundles/ChannelBundle/Model/MessageQueueModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="341" end-line="351"><![CDATA[        if ($message) {
            $message->setAttempts($message->getAttempts() + 1);
            $message->setLastAttempt(new \DateTime());
            $rescheduleTo = clone $message->getScheduledDate();

            if (null == $rescheduleInterval) {
                $rescheduleInterval = 'PT15M';
            } else {
                $rescheduleInterval = (('H' === $rescheduleInterval) ? 'PT' : 'P').$rescheduleInterval;
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819245"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>267</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AbstractStandardFormController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="262" end-line="272"><![CDATA[    protected function cloneStandard($objectId)
    {
        $model  = $this->getModel($this->getModelName());
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->checkActionPermission('clone', $entity)) {
                return $this->accessDenied();
            }

            $newEntity = clone $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819385"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>611</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="606" end-line="616"><![CDATA[     *
     * @return array
     */
    protected function getNotificationContent(Request $request = null)
    {
        if ($request == null) {
            $request = $this->request;
        }

        $afterId = $request->get('mauticLastNotificationId', null);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819271"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>659</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="654" end-line="664"><![CDATA[     * @param string $domain
     * @param bool   $addNotification
     */
    public function addFlash($message, $messageVars = [], $type = 'notice', $domain = 'flashes', $addNotification = false)
    {
        if ($domain == null) {
            $domain = 'flashes';
        }

        if ($domain === false) {
            //message is already translated]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819514"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>709</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="704" end-line="714"><![CDATA[     * @param bool   $addNotification
     * @param string $type
     */
    public function addBrowserNotification($message, $messageVars = [], $domain = 'flashes', $title = null, $icon = null, $addNotification = true, $type = 'notice')
    {
        if ($domain == null) {
            $domain = 'flashes';
        }

        $translator = $this->translator;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818696"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>732</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="727" end-line="737"><![CDATA[            $title = $translator->trans($title);
        } else {
            $title = 'Mautic';
        }

        if ($icon == null) {
            $icon = 'media/images/favicon.ico';
        }

        if (strpos($icon, 'http') !== 0) {
            $assetHelper = $this->factory->getHelper('template.assets');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818970"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>625</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/CommonRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="620" end-line="630"><![CDATA[
        $class      = '\\'.$this->getClassName();
        $reflection = new \ReflectionClass(new $class());

        // Get the label column if necessary
        if ($labelColumn == null) {
            if ($reflection->hasMethod('getTitle')) {
                $labelColumn = 'title';
            } else {
                $labelColumn = 'name';
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818759"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>294</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="289" end-line="299"><![CDATA[     *
     * @return $this
     */
    public function setCreatedBy($createdBy = null)
    {
        if ($createdBy != null && !$createdBy instanceof User) {
            $this->createdBy = $createdBy;
        } else {
            $this->createdBy = ($createdBy != null) ? $createdBy->getId() : null;
            if ($createdBy != null) {
                $this->createdByUser = $createdBy->getName();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818959"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>297</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="292" end-line="302"><![CDATA[    public function setCreatedBy($createdBy = null)
    {
        if ($createdBy != null && !$createdBy instanceof User) {
            $this->createdBy = $createdBy;
        } else {
            $this->createdBy = ($createdBy != null) ? $createdBy->getId() : null;
            if ($createdBy != null) {
                $this->createdByUser = $createdBy->getName();
            }
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818773"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>298</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="293" end-line="303"><![CDATA[    {
        if ($createdBy != null && !$createdBy instanceof User) {
            $this->createdBy = $createdBy;
        } else {
            $this->createdBy = ($createdBy != null) ? $createdBy->getId() : null;
            if ($createdBy != null) {
                $this->createdByUser = $createdBy->getName();
            }
        }

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818781"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>325</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="320" end-line="330"><![CDATA[     *
     * @return mixed
     */
    public function setModifiedBy($modifiedBy = null)
    {
        if ($modifiedBy != null && !$modifiedBy instanceof User) {
            $this->modifiedBy = $modifiedBy;
        } else {
            $this->modifiedBy = ($modifiedBy != null) ? $modifiedBy->getId() : null;

            if ($modifiedBy != null) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819432"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>328</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="323" end-line="333"><![CDATA[    public function setModifiedBy($modifiedBy = null)
    {
        if ($modifiedBy != null && !$modifiedBy instanceof User) {
            $this->modifiedBy = $modifiedBy;
        } else {
            $this->modifiedBy = ($modifiedBy != null) ? $modifiedBy->getId() : null;

            if ($modifiedBy != null) {
                $this->modifiedByUser = $modifiedBy->getName();
            }
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819038"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>330</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="325" end-line="335"><![CDATA[        if ($modifiedBy != null && !$modifiedBy instanceof User) {
            $this->modifiedBy = $modifiedBy;
        } else {
            $this->modifiedBy = ($modifiedBy != null) ? $modifiedBy->getId() : null;

            if ($modifiedBy != null) {
                $this->modifiedByUser = $modifiedBy->getName();
            }
        }

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819456"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>357</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="352" end-line="362"><![CDATA[     *
     * @return mixed
     */
    public function setCheckedOutBy($checkedOutBy = null)
    {
        if ($checkedOutBy != null && !$checkedOutBy instanceof User) {
            $this->checkedOutBy = $checkedOutBy;
        } else {
            $this->checkedOutBy = ($checkedOutBy != null) ? $checkedOutBy->getId() : null;

            if ($checkedOutBy != null) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818840"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>360</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="355" end-line="365"><![CDATA[    public function setCheckedOutBy($checkedOutBy = null)
    {
        if ($checkedOutBy != null && !$checkedOutBy instanceof User) {
            $this->checkedOutBy = $checkedOutBy;
        } else {
            $this->checkedOutBy = ($checkedOutBy != null) ? $checkedOutBy->getId() : null;

            if ($checkedOutBy != null) {
                $this->checkedOutByUser = $checkedOutBy->getName();
            }
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819029"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>362</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/FormEntity.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="357" end-line="367"><![CDATA[        if ($checkedOutBy != null && !$checkedOutBy instanceof User) {
            $this->checkedOutBy = $checkedOutBy;
        } else {
            $this->checkedOutBy = ($checkedOutBy != null) ? $checkedOutBy->getId() : null;

            if ($checkedOutBy != null) {
                $this->checkedOutByUser = $checkedOutBy->getName();
            }
        }

        return $this;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819382"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>178</line>
			<resource><![CDATA[app/bundles/CoreBundle/Entity/IpAddress.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="173" end-line="183"><![CDATA[     */
    public function isTrackable()
    {
        if (!empty($this->doNotTrack)) {
            foreach ($this->doNotTrack as $ip) {
                if (strpos($ip, '/') == false) {
                    if (preg_match('/'.str_replace('.', '\\.', $ip).'/', $this->ipAddress)) {
                        return false;
                    }
                } else {
                    // has a netmask range]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819420"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>85</line>
			<resource><![CDATA[app/bundles/CoreBundle/Event/AbstractCustomRequestEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="80" end-line="90"><![CDATA[     *
     * @return bool
     */
    public function checkRouteContext($route)
    {
        if (null == $this->request) {
            return false;
        }

        if (null !== $route) {
            list($currentRoute, $routeParams) = $this->getRoute(true);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818924"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>359</line>
			<resource><![CDATA[app/bundles/CoreBundle/Event/BuilderEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="354" end-line="364"><![CDATA[        $valueColumn = 'id',
        $allowVisualPlaceholder = false,
        $convertToLinks = false
    ) {
        $tokens = $this->getTokensFromHelper($tokenHelper, $tokens, $labelColumn, $valueColumn);
        if ($tokens == null) {
            $tokens = [];
        }

        $this->addTokens(
            $tokens,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818966"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>140</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/ChoiceLoader/EntityLookupChoiceLoader.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="135" end-line="145"><![CDATA[     *
     * @return array
     */
    protected function getChoices($data = null, $includeNew = false)
    {
        if (null == $data) {
            $data = $this->selected;
        }

        $modelName  = $this->options['model'];
        $modalRoute = $this->options['modal_route'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819283"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>78</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/BuilderTokenHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="73" end-line="83"><![CDATA[        $permissions = $this->factory->getSecurity()->isGranted(
            $this->permissionSet,
            'RETURN_ARRAY'
        );

        if (count(array_unique($permissions)) == 1 && end($permissions) == false) {
            return;
        }

        $repo   = $this->factory->getModel($this->modelName)->getRepository();
        $prefix = $repo->getTableAlias();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819237"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>89</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/BuilderTokenHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="84" end-line="94"><![CDATA[        if (!empty($prefix)) {
            $prefix .= '.';
        }

        $exprBuilder = $this->factory->getDatabase()->getExpressionBuilder();
        if ($expr == null) {
            $expr = $exprBuilder->andX();
        }

        if (isset($permissions[$this->viewPermissionBase.':viewother']) && !$permissions[$this->viewPermissionBase.':viewother']) {
            $expr->add(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818809"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>228</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/BuilderTokenHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="223" end-line="233"><![CDATA[        $permissions = $this->factory->getSecurity()->isGranted(
            $this->permissionSet,
            'RETURN_ARRAY'
        );

        if (count(array_unique($permissions)) == 1 && end($permissions) == false) {
            return;
        }

        $session = $this->factory->getSession();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819115"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>60</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CookieHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="55" end-line="65"><![CDATA[     * @param null $secure
     * @param bool $httponly
     */
    public function setCookie($name, $value, $expire = 1800, $path = null, $domain = null, $secure = null, $httponly = null)
    {
        if ($this->request == null) {
            return true;
        }

        setcookie(
            $name,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819442"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>68</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CookieHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="63" end-line="73"><![CDATA[
        setcookie(
            $name,
            $value,
            ($expire) ? time() + $expire : null,
            ($path == null) ? $this->path : $path,
            ($domain == null) ? $this->domain : $domain,
            ($secure == null) ? $this->secure : $secure,
            ($httponly == null) ? $this->httponly : $httponly
        );
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819280"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>69</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CookieHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="64" end-line="74"><![CDATA[        setcookie(
            $name,
            $value,
            ($expire) ? time() + $expire : null,
            ($path == null) ? $this->path : $path,
            ($domain == null) ? $this->domain : $domain,
            ($secure == null) ? $this->secure : $secure,
            ($httponly == null) ? $this->httponly : $httponly
        );
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818807"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>70</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CookieHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="65" end-line="75"><![CDATA[            $name,
            $value,
            ($expire) ? time() + $expire : null,
            ($path == null) ? $this->path : $path,
            ($domain == null) ? $this->domain : $domain,
            ($secure == null) ? $this->secure : $secure,
            ($httponly == null) ? $this->httponly : $httponly
        );
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819478"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>71</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CookieHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="66" end-line="76"><![CDATA[            $value,
            ($expire) ? time() + $expire : null,
            ($path == null) ? $this->path : $path,
            ($domain == null) ? $this->domain : $domain,
            ($secure == null) ? $this->secure : $secure,
            ($httponly == null) ? $this->httponly : $httponly
        );
    }

    /**
     * Deletes a cookie by expiring it.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819613"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>86</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/DateTimeHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="81" end-line="91"><![CDATA[            $this->datetime = $datetime;
            $this->string   = $this->datetime->format($fromFormat);
        } elseif (empty($datetime)) {
            $this->datetime = new \DateTime('now', new \DateTimeZone($this->timezone));
            $this->string   = $this->datetime->format($fromFormat);
        } elseif ($fromFormat == null) {
            $this->string   = $datetime;
            $this->datetime = new \DateTime($datetime, new \DateTimeZone($this->timezone));
        } else {
            $this->string = $datetime;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819315"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>237</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/DateTimeHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="232" end-line="242"><![CDATA[            $with->setTime(0, 0, 0);
        }

        $interval = $compare->diff($with);

        return ($format == null) ? $interval : $interval->format($format);
    }

    /**
     * Add to datetime.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818845"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>313</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/DateTimeHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="308" end-line="318"><![CDATA[     *
     * @return bool|string
     */
    public function getTextDate($interval = null)
    {
        if ($interval == null) {
            $interval = $this->getDiff('now', null, true);
        }

        $diffDays = (int) $interval->format('%R%a');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818756"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>143</line>
			<resource><![CDATA[app/bundles/CoreBundle/Model/NotificationModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="138" end-line="148"><![CDATA[        $notification->setIsRead($isRead);
        $notification->setHeader(EmojiHelper::toHtml(InputHelper::html($header)));
        $notification->setMessage(EmojiHelper::toHtml(InputHelper::html($message)));
        $notification->setIconClass($iconClass);
        $notification->setUser($user);
        if ($datetime == null) {
            $datetime = new \DateTime();
        }
        $notification->setDateAdded($datetime);
        $this->saveEntity($notification);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818734"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>167</line>
			<resource><![CDATA[app/bundles/CoreBundle/Model/VariantModelTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="162" end-line="172"><![CDATA[    protected function resetVariants($entity, $relatedIds = null, \DateTime $variantStartDate = null)
    {
        $repo = $this->getRepository();

        if (method_exists($repo, 'resetVariants')) {
            if (null == $relatedIds) {
                $relatedIds = $entity->getRelatedEntityIds();
            }

            if (!in_array($entity->getId(), $relatedIds)) {
                $relatedIds[] = $entity->getId();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819515"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>17</line>
			<resource><![CDATA[app/bundles/CoreBundle/Views/Variant/index.html.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="12" end-line="22"><![CDATA[    $nameGetter = 'getName';
}
$totalWeight = 0;
?>
<?php if (!empty($variants['properties'])): ?>
<?php if ($variants['parent']->getVariantStartDate() != null): ?>
<div class="box-layout mb-lg">
    <div class="col-xs-10 va-m">
        <h4>
            <?php echo $view['translator']->trans(
                'mautic.core.variant_start_date',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818718"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>175</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Model/DashboardModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="170" end-line="180"><![CDATA[     */
    public function populateWidgetContent(Widget &$widget, $filter = [])
    {
        $cacheDir = $this->coreParametersHelper->getParameter('cached_data_dir', $this->pathsHelper->getSystemPath('cache', true));

        if ($widget->getCacheTimeout() == null || $widget->getCacheTimeout() == -1) {
            $widget->setCacheTimeout($this->coreParametersHelper->getParameter('cached_data_timeout'));
        }

        // Merge global filter with widget params
        $widgetParams = $widget->getParams();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819451"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>447</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Controller/DynamicContentController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="442" end-line="452"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('dynamicContent');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('dynamiccontent:dynamiccontents:create')
                || !$this->get('mautic.security')->hasEntityAccess(
                    'dynamiccontent:dynamiccontents:viewown',
                    'dynamiccontent:dynamiccontents:viewother',
                    $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819409"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>839</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/EmailController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="834" end-line="844"><![CDATA[    {
        $model = $this->getModel('email');
        /** @var Email $entity */
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('email:emails:create')
                || !$this->get('mautic.security')->hasEntityAccess(
                    'email:emails:viewown',
                    'email:emails:viewother',
                    $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819525"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>952</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/EmailController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="947" end-line="957"><![CDATA[            $entity = $model->getEntity();
            $entity->setSessionId($objectId);
        } else {
            $isNew  = false;
            $entity = $model->getEntity($objectId);
            if ($entity == null
                || !$this->get('mautic.security')->hasEntityAccess(
                    'email:emails:viewown',
                    'email:emails:viewother',
                    $entity->getCreatedBy()
                )]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819316"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1008</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/EmailController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1003" end-line="1013"><![CDATA[    public function abtestAction($objectId)
    {
        $model  = $this->getModel('email');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            $parent = $entity->getVariantParent();

            if ($parent || !$this->get('mautic.security')->isGranted('email:emails:create')
                || !$this->get('mautic.security')->hasEntityAccess(
                    'email:emails:viewown',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818922"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>143</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/PublicController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="138" end-line="148"><![CDATA[                    $template = null;
                }

                /** @var \Mautic\FormBundle\Entity\Form $unsubscribeForm */
                $unsubscribeForm = $email->getUnsubscribeForm();
                if ($unsubscribeForm != null && $unsubscribeForm->isPublished()) {
                    $formTemplate = $unsubscribeForm->getTemplate();
                    $formModel    = $this->getModel('form');
                    $formContent  = '<div class="mautic-unsubscribeform">'.$formModel->getContent($unsubscribeForm).'</div>';
                }
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819263"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>372</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/Email.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="367" end-line="377"><![CDATA[        $metadata->addConstraint(new Callback([
            'callback' => function (Email $email, ExecutionContextInterface $context) {
                $type = $email->getEmailType();
                $translationParent = $email->getTranslationParent();

                if ($type == 'list' && null == $translationParent) {
                    $validator = $context->getValidator();
                    $violations = $validator->validate(
                        $email->getLists(),
                        [
                            new LeadListAccess(),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818651"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>36</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/StatDeviceRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="31" end-line="41"><![CDATA[
        $qb->select('count(es.id) as count, d.device as device, es.list_id')
            ->from(MAUTIC_TABLE_PREFIX.'email_stats_devices', 'ed')
            ->join('ed', MAUTIC_TABLE_PREFIX.'lead_devices', 'd', 'd.id = ed.device_id')
            ->join('ed', MAUTIC_TABLE_PREFIX.'email_stats', 'es', 'es.id = ed.stat_id');
        if ($emailIds != null) {
            if (!is_array($emailIds)) {
                $emailIds = [(int) $emailIds];
            }
            $qb->where(
                $qb->expr()->in('es.email_id', $emailIds)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819627"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>232</line>
			<resource><![CDATA[app/bundles/EmailBundle/Entity/StatRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="227" end-line="237"><![CDATA[                'readRate'   => 0,
            ];
        }

        foreach ($totalCounts as $t) {
            if ($t['email_id'] != null) {
                $return[$t['email_id']]['totalCount'] = (int) $t['the_count'];
            }
        }

        //now get a read count]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818662"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>344</line>
			<resource><![CDATA[app/bundles/EmailBundle/Event/EmailSendEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="339" end-line="349"><![CDATA[        $email        = $this->getEmail();
        $clickthrough = [
            //what entity is sending the email?
            'source' => $source,
            //the email being sent to be logged in page hit if applicable
            'email' => ($email != null) ? $email->getId() : null,
            'stat'  => $this->getIdHash(),
        ];
        $lead = $this->getLead();
        if ($lead !== null) {
            $clickthrough['lead'] = $lead['id'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819557"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>251</line>
			<resource><![CDATA[app/bundles/EmailBundle/EventListener/BuilderSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="246" end-line="256"><![CDATA[    {
        $idHash = $event->getIdHash();
        $lead   = $event->getLead();
        $email  = $event->getEmail();

        if ($idHash == null) {
            // Generate a bogus idHash to prevent errors for routes that may include it
            $idHash = uniqid();
        }

        $unsubscribeText = $this->coreParametersHelper->getParameter('unsubscribe_text');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818677"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>138</line>
			<resource><![CDATA[app/bundles/EmailBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="133" end-line="143"><![CDATA[    public function onCampaignTriggerDecision(CampaignExecutionEvent $event)
    {
        $eventDetails = $event->getEventDetails();
        $eventParent  = $event->getEvent()['parent'];

        if ($eventDetails == null) {
            return $event->setResult(false);
        }

        //check to see if the parent event is a "send email" event and that it matches the current email opened
        if (!empty($eventParent) && $eventParent['type'] === 'email.send') {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819233"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>178</line>
			<resource><![CDATA[app/bundles/EmailBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="173" end-line="183"><![CDATA[                'return_errors'  => true,
            ];

            $event->setChannel('email', $emailId);

            if ($email != null && $email->isPublished()) {
                // Determine if this email is transactional/marketing
                $stats = [];
                if ('marketing' == $type) {
                    // Determine if this lead has received the email before
                    $leadIds   = implode(',', [$leadCredentials['id']]);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819197"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/AbTestHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="30" end-line="40"><![CDATA[        $repo = $factory->getEntityManager()->getRepository('MauticEmailBundle:Stat');
        /** @var Email $parent */
        $ids       = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();

        if ($startDate != null && !empty($ids)) {
            //get their bounce rates
            $counts = $repo->getOpenedRates($ids, $startDate);

            $translator = $factory->getTranslator();
            if ($counts) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818704"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>127</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/AbTestHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="122" end-line="132"><![CDATA[        $emailRepo = $factory->getEntityManager()->getRepository('MauticEmailBundle:Stat');
        /** @var Email $parent */
        $ids = $parent->getRelatedEntityIds();

        $startDate = $parent->getVariantStartDate();
        if ($startDate != null && !empty($ids)) {
            //get their bounce rates
            $clickthroughCounts = $pageRepo->getEmailClickthroughHitCount($ids, $startDate);
            $sentCounts         = $emailRepo->getSentCounts($ids, $startDate);

            $translator = $factory->getTranslator();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819169"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>40</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/FormSubmitHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="35" end-line="45"><![CDATA[
        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel = $factory->getModel('lead');

        //make sure the email still exists and is published
        if ($email != null && $email->isPublished()) {
            // Deal with Lead email
            if (!empty($feedback['lead.create']['lead'])) {
                //the lead was just created via the lead.create action
                $currentLead = $feedback['lead.create']['lead'];
            } else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818754"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>836</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="831" end-line="841"><![CDATA[        $model = $this->factory->getModel('asset');

        if (!$asset instanceof Asset) {
            $asset = $model->getEntity($asset);

            if ($asset == null) {
                return;
            }
        }

        if ($asset->isPublished()) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819564"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>859</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="854" end-line="864"><![CDATA[     *
     * @return void|string
     */
    public function setTemplate($template, $vars = [], $returnContent = false, $charset = null)
    {
        if ($this->templating == null) {
            $this->templating = $this->factory->getTemplating();
        }

        $content = $this->templating->renderResponse($template, $vars)->getContent();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819414"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1517</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1512" end-line="1522"><![CDATA[     *
     * @param string $content
     */
    public function parsePlainText($content = null)
    {
        if ($content == null) {
            if (!$content = $this->message->getBody()) {
                $content = $this->body['content'];
            }
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819268"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1566</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1561" end-line="1571"><![CDATA[     *
     * @return array
     */
    public function dispatchSendEvent()
    {
        if ($this->dispatcher == null) {
            $this->dispatcher = $this->factory->getDispatcher();
        }

        $event = new EmailSendEvent($this);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818912"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>59</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/PointEventHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="54" end-line="64"><![CDATA[        /** @var \Mautic\EmailBundle\Model\EmailModel $model */
        $model = $factory->getModel('email');
        $email = $model->getEntity($emailId);

        //make sure the email still exists and is published
        if ($email != null && $email->isPublished()) {
            $leadFields = $lead->getFields();
            if (isset($leadFields['core']['email']['value']) && $leadFields['core']['email']['value']) {
                /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
                $leadModel             = $factory->getModel('lead');
                $leadCredentials       = $leadModel->flattenFields($leadFields);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819064"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>906</line>
			<resource><![CDATA[app/bundles/EmailBundle/Model/EmailModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="901" end-line="911"><![CDATA[            $leadCount         = count($leads);

            while ($leadCount) {
                $sentCount += $leadCount;

                if (!$batch && $limit != null) {
                    // Only retrieve the difference between what has already been sent and the limit
                    $limit -= $leadCount;
                }

                $listErrors = $this->sendEmail($email, $leads, $options);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819312"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>269</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="264" end-line="274"><![CDATA[     *
     * @param null $settings
     */
    public function setImapPath($settings = null)
    {
        if (null == $settings) {
            $settings = $this->settings;
        }
        $paths              = $this->getImapPath($settings);
        $this->imapPath     = $paths['path'];
        $this->imapFullPath = $paths['full'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819127"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>332</line>
			<resource><![CDATA[app/bundles/EmailBundle/MonitoredEmail/Mailbox.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="327" end-line="337"><![CDATA[     *
     * @throws MailboxException
     */
    public function getMailboxSettings($bundle = null, $mailbox = '')
    {
        if ($bundle == null) {
            return $this->settings;
        }

        $key = $bundle.(!empty($mailbox) ? '_'.$mailbox : '');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819231"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>82</line>
			<resource><![CDATA[app/bundles/EmailBundle/Swiftmailer/Transport/AbstractTokenArrayTransport.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="77" end-line="87"><![CDATA[    /**
     * @return \Swift_Events_SimpleEventDispatcher
     */
    protected function getDispatcher()
    {
        if ($this->dispatcher == null) {
            $this->dispatcher = new \Swift_Events_SimpleEventDispatcher();
        }

        return $this->dispatcher;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818763"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>147</line>
			<resource><![CDATA[app/bundles/EmailBundle/Swiftmailer/Transport/AmazonTransport.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="142" end-line="152"><![CDATA[                                $reason = $translator->trans('mautic.email.complaint.reason.virus');
                                break;
                        }
                    }

                    if ($reason == null) {
                        $reason = $translator->trans('mautic.email.complaint.reason.unknown');
                    }

                    $rows[DoNotContact::UNSUBSCRIBED]['emails'][$complainedRecipient['emailAddress']] = $reason;
                    $logger->debug("Unsubscribe email '".$complainedRecipient['emailAddress']."'");]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819089"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>495</line>
			<resource><![CDATA[app/bundles/FormBundle/Controller/FormController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="490" end-line="500"><![CDATA[            $objectId = 'mautic_'.sha1(uniqid(mt_rand(), true));
        } else {
            $entity = $model->getEntity($objectId);

            // Process submit of cloned form
            if ($entity == null && $objectId == $sessionId) {
                $entity = $model->getEntity();
            }
        }

        $session    = $this->get('session');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818785"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>838</line>
			<resource><![CDATA[app/bundles/FormBundle/Controller/FormController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="833" end-line="843"><![CDATA[        $model = $this->getModel('form.form');

        /** @var \Mautic\FormBundle\Entity\Form $entity */
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('form:forms:create')
                || !$this->get('mautic.security')->hasEntityAccess(
                    'form:forms:viewown',
                    'form:forms:viewother',
                    $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819081"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>167</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/SubmissionRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="162" end-line="172"><![CDATA[     */
    public function getEntity($id = 0)
    {
        $entity = parent::getEntity($id);

        if ($entity != null) {
            $form = $entity->getForm();

            //use DBAL to get entity fields
            $q = $this->_em->getConnection()->createQueryBuilder();
            $q->select('*')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818750"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>319</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/SubmissionRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="314" end-line="324"><![CDATA[        } else {
            $q->where($q->expr()->eq('s.page_id', ':page'))
                ->setParameter('page', (int) $pageId);
        }

        if ($fromDate != null) {
            $dh = new DateTimeHelper($fromDate);
            $q->andWhere($q->expr()->gte('s.date_submitted', ':date'))
                ->setParameter('date', $dh->toUtcString());
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818657"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>356</line>
			<resource><![CDATA[app/bundles/FormBundle/Entity/SubmissionRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="351" end-line="361"><![CDATA[        } else {
            $q->where($q->expr()->eq('e.id', ':id'))
                ->setParameter('id', (int) $emailId);
        }

        if ($fromDate != null) {
            $dh = new DateTimeHelper($fromDate);
            $q->andWhere($q->expr()->gte('s.date_submitted', ':date'))
                ->setParameter('date', $dh->toUtcString());
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819160"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>255</line>
			<resource><![CDATA[app/bundles/FormBundle/Event/SubmissionEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="250" end-line="260"><![CDATA[     *
     * @return array|bool|mixed
     */
    public function getActionFeedback($key = null)
    {
        if (null == $key) {
            return $this->feedback;
        } elseif (isset($this->feedback[$key])) {
            return $this->feedback[$key];
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819066"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>50</line>
			<resource><![CDATA[app/bundles/FormBundle/Helper/AbTestHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="45" end-line="55"><![CDATA[                $ids[] = $id;
            }
        }

        $startDate = $parent->getVariantStartDate();
        if ($startDate != null && !empty($ids)) {
            $counts = ($type == 'page') ? $repo->getSubmissionCountsByPage($ids, $startDate) : $repo->getSubmissionCountsByEmail($ids, $startDate);

            $translator = $factory->getTranslator();
            if ($counts) {
                $submissions = $support = $data = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819533"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>161</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/SubmissionModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="156" end-line="166"><![CDATA[        $submission->setForm($form);

        //set the landing page the form was submitted from if applicable
        if (!empty($post['mauticpage'])) {
            $page = $this->pageModel->getEntity((int) $post['mauticpage']);
            if ($page != null) {
                $submission->setPage($page);
            }
        }

        $ipAddress = $this->ipLookupHelper->getIpAddress();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819215"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>38</line>
			<resource><![CDATA[app/bundles/FormBundle/Views/SubscribedEvents/Timeline/index.html.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="33" end-line="43"><![CDATA[	<dt><?php echo $view['translator']->trans('mautic.form.result.thead.referrer'); ?></dt>
	<dd><?php echo $view['assets']->makeLinks($submission->getReferer()); ?></dd>
<?php if (is_array($results)) : ?>
	<?php foreach ($form->getFields() as $field) : ?>
		<?php if (array_key_exists($field->getAlias(), $results) && $results[$field->getAlias()] != ''
&& $results[$field->getAlias()] != null
&& $results[$field->getAlias()] != []
) : ?>
			<dt><?php echo $field->getLabel(); ?></dt>
			<dd><?php echo $results[$field->getAlias()]; ?></dd>
		<?php endif; ?>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819512"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>392</line>
			<resource><![CDATA[app/bundles/InstallBundle/Controller/InstallController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="387" end-line="397"><![CDATA[            $existingUser = $entityManager->getRepository('MauticUserBundle:User')->find(1);
        } catch (\Exception $e) {
            $existingUser = null;
        }

        if ($existingUser != null) {
            $user = $existingUser;
        } else {
            $user = new User();
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818658"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>50</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/CustomFieldsApiControllerTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="45" end-line="55"><![CDATA[            $fields     = $fieldModel->getFieldListWithProperties($object);

            foreach ($fields as $alias => $field) {
                // Set the default value if the parameter is not included in the request, there is no value for the given entity, and a default is defined
                $currentValue = $entity->getFieldValue($alias);
                if (!isset($parameters[$alias]) && ('' === $currentValue || null == $currentValue) && '' !== $field['defaultValue'] && null !== $field['defaultValue']) {
                    $parameters[$alias] = $field['defaultValue'];
                }
            }
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819082"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>482</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/CompanyController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="477" end-line="487"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('lead.company');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('lead:leads:create')) {
                return $this->accessDenied();
            }

            $entity = clone $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819299"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>359</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/FieldController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="354" end-line="364"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('lead.field');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('lead:fields:full')) {
                return $this->accessDenied();
            }

            $clone = clone $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818852"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>63</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/FrequencyRuleTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="58" end-line="68"><![CDATA[                'channels'     => $allChannels,
                'leadChannels' => $leadChannels,
            ]
        );

        if (null == $data) {
            $data = $this->getFrequencyRuleFormData($lead, $allChannels, $leadChannels, $isPublic);
        }

        /** @var Form $form */
        $form = $this->get('form.factory')->create(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818962"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1137</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1132" end-line="1142"><![CDATA[    {
        /** @var \Mautic\LeadBundle\Model\LeadModel $model */
        $model = $this->getModel('lead');
        $lead  = $model->getEntity($objectId);

        if ($lead != null
            && $this->get('mautic.security')->hasEntityAccess(
                'lead:leads:editown',
                'lead:leads:editother',
                $lead->getPermissionUser()
            )]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819537"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1178</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1173" end-line="1183"><![CDATA[    {
        /** @var \Mautic\LeadBundle\Model\LeadModel $model */
        $model = $this->getModel('lead');
        $lead  = $model->getEntity($objectId);

        if ($lead != null
            && $this->get('mautic.security')->hasEntityAccess(
                'lead:leads:editown',
                'lead:leads:editother',
                $lead->getOwner()
            )]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819618"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1222</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1217" end-line="1227"><![CDATA[    public function campaignAction($objectId)
    {
        $model = $this->getModel('lead');
        $lead  = $model->getEntity($objectId);

        if ($lead != null
            && $this->get('mautic.security')->hasEntityAccess(
                'lead:leads:editown',
                'lead:leads:editother',
                $lead->getPermissionUser()
            )]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819516"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>33</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadDetailsTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="28" end-line="38"><![CDATA[     */
    protected function getAllEngagements(array $leads, array $filters = null, array $orderBy = null, $page = 1, $limit = 25)
    {
        $session = $this->get('session');

        if (null == $filters) {
            $filters = $session->get(
                'mautic.gmail.timeline.filters',
                [
                    'search'        => '',
                    'includeEvents' => [],]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819293"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadDetailsTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="39" end-line="49"><![CDATA[                    'excludeEvents' => [],
                ]
            );
        }

        if (null == $orderBy) {
            if (!$session->has('mautic.gmail.timeline.orderby')) {
                $session->set('mautic.gmail.timeline.orderby', 'timestamp');
                $session->set('mautic.gmail.timeline.orderbydir', 'DESC');
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818995"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>162</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadDetailsTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="157" end-line="167"><![CDATA[     */
    protected function getEngagementData(Lead $lead, \DateTime $fromDate = null, \DateTime $toDate = null)
    {
        $translator = $this->get('translator');

        if (null == $fromDate) {
            $fromDate = new \DateTime('first day of this month 00:00:00');
            $fromDate->modify('-6 months');
        }
        if (null == $toDate) {
            $toDate = new \DateTime();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818846"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>166</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadDetailsTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="161" end-line="171"><![CDATA[
        if (null == $fromDate) {
            $fromDate = new \DateTime('first day of this month 00:00:00');
            $fromDate->modify('-6 months');
        }
        if (null == $toDate) {
            $toDate = new \DateTime();
        }

        $lineChart  = new LineChart(null, $fromDate, $toDate);
        $chartQuery = new ChartQuery($this->getDoctrine()->getConnection(), $fromDate, $toDate);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819136"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>197</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadDetailsTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="192" end-line="202"><![CDATA[     */
    protected function getEngagements(Lead $lead, array $filters = null, array $orderBy = null, $page = 1, $limit = 25)
    {
        $session = $this->get('session');

        if (null == $filters) {
            $filters = $session->get(
                'mautic.lead.'.$lead->getId().'.timeline.filters',
                [
                    'search'        => '',
                    'includeEvents' => [],]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819337"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>208</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadDetailsTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="203" end-line="213"><![CDATA[                    'excludeEvents' => [],
                ]
            );
        }

        if (null == $orderBy) {
            if (!$session->has('mautic.lead.'.$lead->getId().'.timeline.orderby')) {
                $session->set('mautic.lead.'.$lead->getId().'.timeline.orderby', 'timestamp');
                $session->set('mautic.lead.'.$lead->getId().'.timeline.orderbydir', 'DESC');
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818725"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>47</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/CompanyRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="42" end-line="52"><![CDATA[            $entity = $q->getQuery()->getSingleResult();
        } catch (\Exception $e) {
            $entity = null;
        }

        if ($entity != null) {
            $fieldValues = $this->getFieldValues($id, true, 'company');
            $entity->setFields($fieldValues);
        }

        return $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819274"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>397</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/CompanyRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="392" end-line="402"><![CDATA[
        $class      = '\\'.$this->getClassName();
        $reflection = new \ReflectionClass(new $class());

        // Get the label column if necessary
        if ($labelColumn == null) {
            if ($reflection->hasMethod('getTitle')) {
                $labelColumn = 'title';
            } else {
                $labelColumn = 'name';
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819374"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>123</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/CustomFieldEntityTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="118" end-line="128"><![CDATA[            $setter = 'set'.ucfirst($property);

            $this->$setter($value);
        }

        if (null == $oldValue) {
            $oldValue = $this->getFieldValue($alias);
        }

        if (is_string($value)) {
            $value = trim($value);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818738"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>74</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/FrequencyRuleRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="69" end-line="79"><![CDATA[            $q->expr()->in("ch.$statContactColumn", $leadIds)
        );

        $q->groupBy("ch.$statContactColumn, fr.frequency_time, fr.frequency_number");

        if ($defaultFrequencyNumber != null) {
            $q->having("(count(ch.$statContactColumn) >= IFNULL(fr.frequency_number,:defaultNumber))")
                ->setParameter('defaultNumber', $defaultFrequencyNumber);
        } else {
            $q->having("(count(ch.$statContactColumn) >= fr.frequency_number)");
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818974"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>57</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadNoteRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="52" end-line="62"><![CDATA[            ->createQueryBuilder('n');
        $q->select('count(n.id) as note_count')
            ->where($q->expr()->eq('IDENTITY(n.lead)', ':lead'))
            ->setParameter('lead', $leadId);

        if ($filter != null) {
            $q->andWhere(
                $q->expr()->like('n.text', ':filter')
            )->setParameter('filter', '%'.$filter.'%');
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819262"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>63</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadNoteRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="58" end-line="68"><![CDATA[            $q->andWhere(
                $q->expr()->like('n.text', ':filter')
            )->setParameter('filter', '%'.$filter.'%');
        }

        if ($noteTypes != null) {
            $q->andWhere(
                $q->expr()->in('n.type', ':noteTypes')
            )->setParameter('noteTypes', $noteTypes);
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818684"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1407</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/Lead.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1402" end-line="1412"><![CDATA[    /**
     * Set date identified.
     */
    public function checkDateIdentified()
    {
        if ($this->dateIdentified == null && $this->isAnonymous() === false) {
            $this->dateIdentified            = new \DateTime();
            $this->changes['dateIdentified'] = ['', $this->dateIdentified];
        }
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819194"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>320</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="315" end-line="325"><![CDATA[            $entity = $q->getQuery()->getSingleResult();
        } catch (\Exception $e) {
            $entity = null;
        }

        if ($entity != null) {
            if (!empty($this->triggerModel)) {
                $entity->setColor($this->triggerModel->getColorForLeadPoints($entity->getPoints()));
            }

            $fieldValues = $this->getFieldValues($id);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818842"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>105</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/TimelineTrait.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="100" end-line="110"><![CDATA[        if (!empty($serializedColumns) || !empty($dateTimeColumns) || is_callable($resultsParserCallback)) {
            // Convert to array or \DateTime since we're using DBAL here
            foreach ($results as &$result) {
                foreach ($serializedColumns as $col) {
                    if (isset($result[$col])) {
                        $result[$col] = (null == $result[$col]) ? [] : unserialize($result[$col]);
                    }
                }

                foreach ($dateTimeColumns as $col) {
                    if (isset($result[$col]) && !empty($result[$col])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818816"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>184</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/CampaignEventLeadFieldValueType.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="179" end-line="189"><![CDATA[                    'label'      => 'mautic.lead.lead.submitaction.operator',
                    'label_attr' => ['class' => 'control-label'],
                    'attr'       => [
                        'onchange' => 'Mautic.updateLeadFieldValues(this)',
                    ],
                    'choices' => $leadModel->getOperatorsForFieldType(null == $fieldType ? 'default' : $fieldType, ['date']),
                ]
            );
        };

        // Register the function above as EventListener on PreSet and PreBind]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818776"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>131</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/ContactFrequencyType.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="126" end-line="136"><![CDATA[                                ]
                            ),
                        ]
                    );

                    if ($options['public_view'] == false) {
                        $attributes = array_merge(
                            $attr,
                            [
                                'data-toggle' => 'date',
                                'class'       => 'frequency-date form-control',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819162"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>61</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/NoteType.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="56" end-line="66"><![CDATA[            'label_attr' => ['class' => 'control-label'],
            'attr'       => ['class' => 'form-control'],
        ]);

        $dt   = $options['data']->getDatetime();
        $data = ($dt == null) ? $this->dateHelper->getDateTime() : $dt;

        $builder->add('dateTime', 'datetime', [
            'label'      => 'mautic.core.date.added',
            'label_attr' => ['class' => 'control-label'],
            'widget'     => 'single_text',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819435"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>263</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/CompanyModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="258" end-line="268"><![CDATA[        // Primary company name to be peristed to the lead's contact company field
        $companyName        = '';
        $companyLeadAdd     = [];
        $searchForCompanies = [];

        if ($dateManipulated == null) {
            $dateManipulated = new \DateTime();
        }

        if ($lead instanceof Lead) {
            $leadId = $lead->getId();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819493"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>337</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/CompanyModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="332" end-line="342"><![CDATA[                        'company' => $companyId,
                    ]
                );
            }

            if ($companyLead != null) {
                if ($manuallyAdded && $companyLead->wasManuallyRemoved()) {
                    $companyLead->setManuallyRemoved(false);
                    $companyLead->setManuallyAdded($manuallyAdded);

                    $persistLists[]   = $companyLead;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819547"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>468</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/CompanyModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="463" end-line="473"><![CDATA[                $this->em->getReference('MauticCompanyBundle:CompanyLead', [
                    'lead'    => $leadId,
                    'company' => $companyId,
                ]);

            if ($companyLead == null) {

                // Lead is not part of this list
                continue;
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819111"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>940</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="935" end-line="945"><![CDATA[     *
     * @throws \Doctrine\ORM\ORMException
     */
    public function addLead($lead, $lists, $manuallyAdded = false, $batchProcess = false, $searchListLead = 1, $dateManipulated = null)
    {
        if ($dateManipulated == null) {
            $dateManipulated = new \DateTime();
        }

        if (!$lead instanceof Lead) {
            $leadId = (is_array($lead) && isset($lead['id'])) ? $lead['id'] : $lead;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818868"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1017</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1012" end-line="1022"><![CDATA[                        'list' => $listId,
                    ]
                );
            }

            if ($listLead != null) {
                if ($manuallyAdded && $listLead->wasManuallyRemoved()) {
                    $listLead->setManuallyRemoved(false);
                    $listLead->setManuallyAdded($manuallyAdded);

                    $persistLists[]   = $listLead;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819353"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1143</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1138" end-line="1148"><![CDATA[                $this->em->getReference('MauticLeadBundle:ListLead', [
                    'lead' => $leadId,
                    'list' => $listId,
                ]);

            if ($listLead == null) {
                // Lead is not part of this list
                continue;
            }

            if (($manuallyRemoved && $listLead->wasManuallyAdded()) || (!$manuallyRemoved && !$listLead->wasManuallyAdded())) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819497"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>551</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Controller/NotificationController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="546" end-line="556"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('notification');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('notification:notifications:create')
                || !$this->get('mautic.security')->hasEntityAccess(
                    'notification:notifications:viewown',
                    'notification:notifications:viewother',
                    $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819563"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>724</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Controller/NotificationController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="719" end-line="729"><![CDATA[    {
        /** @var \Mautic\NotificationBundle\Model\NotificationModel $model */
        $model        = $this->getModel('notification');
        $notification = $model->getEntity($objectId);

        if ($notification != null
            && $this->get('mautic.security')->hasEntityAccess(
                'notification:notifications:editown',
                'notification:notifications:editother'
            )
        ) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819566"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>205</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Helper/NotificationHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="200" end-line="210"><![CDATA[        if (strpos($server->get('HTTP_REFERER'), $this->coreParametersHelper->getParameter('site_url')) === false) {
            $landingPage = false;
        }

        // disable on Landing pages
        if ($landingPage == true && !$this->coreParametersHelper->getParameter('notification_landing_page_enabled')) {
            return false;
        }

        // disable on tracking pages
        if ($landingPage == false && !$this->coreParametersHelper->getParameter('notification_tracking_page_enabled')) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819583"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>210</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Helper/NotificationHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="205" end-line="215"><![CDATA[        if ($landingPage == true && !$this->coreParametersHelper->getParameter('notification_landing_page_enabled')) {
            return false;
        }

        // disable on tracking pages
        if ($landingPage == false && !$this->coreParametersHelper->getParameter('notification_tracking_page_enabled')) {
            return false;
        }

        return true;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818740"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>595</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="590" end-line="600"><![CDATA[    {
        /** @var \Mautic\PageBundle\Model\PageModel $model */
        $model  = $this->getModel('page.page');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('page:pages:create') ||
                !$this->get('mautic.security')->hasEntityAccess(
                    'page:pages:viewown', 'page:pages:viewother', $entity->getCreatedBy()
                )
            ) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818713"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>776</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="771" end-line="781"><![CDATA[            $entity = $model->getEntity();
            $entity->setSessionId($objectId);
        } else {
            $isNew  = false;
            $entity = $model->getEntity($objectId);
            if ($entity == null || !$this->get('mautic.security')->hasEntityAccess(
                'page:pages:viewown', 'page:pages:viewother', $entity->getCreatedBy()
            )) {
                return $this->accessDenied();
            }
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818915"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>822</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="817" end-line="827"><![CDATA[    {
        /** @var \Mautic\PageBundle\Model\PageModel $model */
        $model  = $this->getModel('page.page');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            $parent = $entity->getVariantParent();

            if ($parent || !$this->get('mautic.security')->isGranted('page:pages:create') ||
                !$this->get('mautic.security')->hasEntityAccess(
                    'page:pages:viewown', 'page:pages:viewother', $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819406"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>56</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PublicController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="51" end-line="61"><![CDATA[            $published  = $entity->isPublished();

            // Make sure the page is published or deny access if not
            if (!$published && !$userAccess) {
                // If the page has a redirect type, handle it
                if ($entity->getRedirectType() != null) {
                    $model->hitPage($entity, $this->request, $entity->getRedirectType());

                    return $this->redirect($entity->getRedirectUrl(), $entity->getRedirectType());
                } else {
                    $model->hitPage($entity, $this->request, 401);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818832"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>109</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/HitRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="104" end-line="114"><![CDATA[    {
        $query = $this->createQueryBuilder('h');
        $query->select('count(distinct(h.trackingId)) as "hitCount"');
        $query->andWhere($query->expr()->eq('h.source', $query->expr()->literal($source)));

        if ($sourceId != null) {
            if (is_array($sourceId)) {
                $query->andWhere($query->expr()->in('h.sourceId', ':sourceIds'))
                    ->setParameter('sourceIds', $sourceId);
            } else {
                $query->andWhere($query->expr()->eq('h.sourceId', (int) $sourceId));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818936"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>118</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/HitRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="113" end-line="123"><![CDATA[            } else {
                $query->andWhere($query->expr()->eq('h.sourceId', (int) $sourceId));
            }
        }

        if ($fromDate != null) {
            $query->andwhere($query->expr()->gte('h.dateHit', ':date'))
                ->setParameter('date', $fromDate);
        }

        $query->andWhere($query->expr()->eq('h.code', (int) $code));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819040"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>150</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/HitRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="145" end-line="155"><![CDATA[        $q->select('count(distinct(h.tracking_id)) as hit_count, h.email_id')
            ->from(MAUTIC_TABLE_PREFIX.'page_hits', 'h')
            ->where($q->expr()->in('h.email_id', $emailIds))
            ->groupBy('h.email_id');

        if ($fromDate != null) {
            $dateHelper = new DateTimeHelper($fromDate);
            $q->andwhere($q->expr()->gte('h.date_hit', ':date'))
                ->setParameter('date', $dateHelper->toUtcString());
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819146"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>111</line>
			<resource><![CDATA[app/bundles/PageBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="106" end-line="116"><![CDATA[    public function onCampaignTriggerDecision(CampaignExecutionEvent $event)
    {
        $eventDetails = $event->getEventDetails();
        $config       = $event->getConfig();

        if ($eventDetails == null) {
            return true;
        }

        $pageHit = $eventDetails->getPage();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819159"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>38</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/AbTestHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="33" end-line="43"><![CDATA[        //find the hits that did not go any further
        $repo      = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        $pageIds   = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();

        if ($startDate != null && !empty($pageIds)) {
            //get their bounce rates
            $counts = $repo->getBounces($pageIds, $startDate, true);
            if ($counts) {
                // Group by translation
                $combined = []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818928"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>126</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/AbTestHelper.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="121" end-line="131"><![CDATA[        //find the hits that did not go any further
        $repo      = $factory->getEntityManager()->getRepository('MauticPageBundle:Hit');
        $pageIds   = $parent->getRelatedEntityIds();
        $startDate = $parent->getVariantStartDate();

        if ($startDate != null && !empty($pageIds)) {
            //get their bounce rates
            $counts     = $repo->getDwellTimesForPages($pageIds, ['fromDate' => $startDate]);
            $translator = $factory->getTranslator();
            $support    = [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818933"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>358</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/PageModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="353" end-line="363"><![CDATA[     */
    public function generateUrl($entity, $absolute = true, $clickthrough = [])
    {
        // If this is a variant, then get the parent's URL
        $parent = $entity->getVariantParent();
        if ($parent != null) {
            $entity = $parent;
        }

        $slug = $this->generateSlug($entity);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818987"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>468</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/PageModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="463" end-line="473"><![CDATA[                }
            }
        }

        // Get lead if required
        if (null == $lead) {
            $lead = $this->leadModel->getContactFromRequest($query, $this->trackByFingerprint);
        }

        if ($lead && !$lead->getId()) {
            // Lead came from a non-trackable IP so ignore]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819361"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>103</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/RedirectModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="98" end-line="108"><![CDATA[        }

        $repo     = $this->getRepository();
        $redirect = $repo->findOneBy(['url' => $url]);

        if ($redirect == null) {
            $redirect = $this->createRedirectEntity($url);
        }

        return $redirect;
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819348"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>125</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/TrackableModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="120" end-line="130"><![CDATA[        while (strpos($url, '&amp;') !== false) {
            $url = str_replace('&amp;', '&', $url);
        }

        $trackable = $this->getRepository()->findByUrl($url, $channel, $channelId);
        if ($trackable == null) {
            $trackable = $this->createTrackableEntity($url, $channel, $channelId);
            $this->getRepository()->saveEntity($trackable->getRedirect());
            $this->getRepository()->saveEntity($trackable);
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819518"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/IntegrationConfigType.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="23" end-line="33"><![CDATA[    /**
     * {@inheritdoc}
     */
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        if ($options['integration'] != null) {
            $options['integration']->appendToForm($builder, $options['data'], 'integration');
        }

        if (!empty($options['campaigns'])) {
            $builder->add(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819326"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>996</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="991" end-line="1001"><![CDATA[     */
    public function extractAuthKeys($data, $tokenOverride = null)
    {
        //check to see if an entity exists
        $entity = $this->getIntegrationSettings();
        if ($entity == null) {
            $entity = new Integration();
            $entity->setName($this->getName());
        }
        // Prepare the keys for extraction such as renaming, setting expiry, etc
        $data = $this->prepareResponseForExtraction($data);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819548"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1510</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1505" end-line="1515"><![CDATA[    public function populateMauticLeadData($data, $config = [], $object = null)
    {
        // Glean supported fields from what was returned by the integration
        $gleanedData = $data;

        if ($object == null) {
            $object = 'lead';
        }
        if ($object == 'company') {
            if (!isset($config['companyFields'])) {
                $config = $this->mergeConfigToFeatureSettings($config);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819248"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>356</line>
			<resource><![CDATA[app/bundles/PointBundle/Controller/PointController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="351" end-line="361"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('point');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('point:points:create')) {
                return $this->accessDenied();
            }

            $entity = clone $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819226"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>471</line>
			<resource><![CDATA[app/bundles/PointBundle/Controller/TriggerController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="466" end-line="476"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('point.trigger');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('point:triggers:create')) {
                return $this->accessDenied();
            }

            $entity = clone $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819239"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>325</line>
			<resource><![CDATA[app/bundles/PointBundle/Model/TriggerModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="320" end-line="330"><![CDATA[        //only trigger events for anonymous users
        if (!$force && !$this->security->isAnonymous()) {
            return false;
        }

        if ($lead == null) {
            $lead = $this->leadModel->getCurrentLead();
        }

        if (!$force) {
            //get a list of events that has already been performed on this lead]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818716"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>149</line>
			<resource><![CDATA[app/bundles/ReportBundle/Controller/ReportController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="144" end-line="154"><![CDATA[    {
        /* @type \Mautic\ReportBundle\Model\ReportModel $model */
        $model  = $this->getModel('report');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->container->get('mautic.security')->isGranted('report:reports:create')
                || !$this->container->get('mautic.security')->hasEntityAccess(
                    'report:reports:viewown',
                    'report:reports:viewother',
                    $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818968"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>100</line>
			<resource><![CDATA[app/bundles/ReportBundle/Event/ReportBuilderEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="95" end-line="105"><![CDATA[     *
     * @return ReportBuilderEvent
     */
    public function addTable($context, array $data, $group = null)
    {
        $data['group'] = (null == $group) ? $context : $group;

        foreach ($data['columns'] as $column => &$d) {
            $d['label'] = $this->translator->trans($d['label']);
            if (!isset($d['alias'])) {
                $d['alias'] = substr(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819628"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>359</line>
			<resource><![CDATA[app/bundles/ReportBundle/Event/ReportGeneratorEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="354" end-line="364"><![CDATA[     */
    public function hasColumn($column)
    {
        static $sorted;

        if (null == $sorted) {
            $columns = $this->getReport()->getColumns();

            foreach ($columns as $field) {
                $sorted[$field] = true;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818664"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>391</line>
			<resource><![CDATA[app/bundles/ReportBundle/Event/ReportGeneratorEvent.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="386" end-line="396"><![CDATA[     */
    public function hasFilter($column)
    {
        static $sorted;

        if (null == $sorted) {
            $filters = $this->getReport()->getFilters();

            foreach ($filters as $field) {
                $sorted[$field['column']] = true;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818919"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>51</line>
			<resource><![CDATA[app/bundles/ReportBundle/Form/Type/FilterSelectorType.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="46" end-line="56"><![CDATA[                ],
            ]
        );

        $formModifier = function (FormInterface $form, $column) use ($options) {
            if (null == $column) {
                reset($options['filterList']);
                $column = key($options['filterList']);
            }
            $choices = (isset($options['operatorList'][$column])) ? $options['operatorList'][$column] : [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819195"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>554</line>
			<resource><![CDATA[app/bundles/SmsBundle/Controller/SmsController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="549" end-line="559"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('sms');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('sms:smses:create')
                || !$this->get('mautic.security')->hasEntityAccess(
                    'sms:smses:viewown',
                    'sms:smses:viewother',
                    $entity->getCreatedBy()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818983"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>407</line>
			<resource><![CDATA[app/bundles/StageBundle/Controller/StageController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="402" end-line="412"><![CDATA[    public function cloneAction($objectId)
    {
        $model  = $this->getModel('stage');
        $entity = $model->getEntity($objectId);

        if ($entity != null) {
            if (!$this->get('mautic.security')->isGranted('stage:stages:create')) {
                return $this->accessDenied();
            }

            $entity = clone $entity;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819505"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>92</line>
			<resource><![CDATA[app/bundles/StageBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="87" end-line="97"><![CDATA[        }

        $stageId         = (int) $event->getConfig()['stage'];
        $stageToChangeTo = $this->stageModel->getEntity($stageId);

        if ($stageToChangeTo != null && $stageToChangeTo->isPublished()) {
            if ($leadStage && $leadStage->getWeight() <= $stageToChangeTo->getWeight()) {
                $stageChange = true;
            } elseif (!$leadStage) {
                $stageChange = true;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818949"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>65</line>
			<resource><![CDATA[app/bundles/StageBundle/EventListener/LeadSubscriber.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="60" end-line="70"><![CDATA[        $event->addToCounter($eventTypeKey, $logs);

        if (!$event->isEngagementCount()) {
            // Add the logs to the event array
            foreach ($logs['results'] as $log) {
                if (isset($log['reference']) && $log['reference'] != null) {
                    $eventLabel = [
                        'label'      => $log['eventName'],
                        'href'       => $this->router->generate('mautic_stage_action', ['objectAction' => 'edit', 'objectId' => $log['reference']]),
                        'isExternal' => false,
                    ];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819020"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>38</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/PublicController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="33" end-line="43"><![CDATA[            if ($isValid = $this->isFormValid($form)) {
                //find the user
                $data = $form->getData();
                $user = $model->getRepository()->findByIdentifier($data['identifier']);

                if ($user == null) {
                    $form['identifier']->addError(new FormError($this->translator->trans('mautic.user.user.passwordreset.nouserfound', [], 'validators')));
                } else {
                    $model->sendResetEmail($user);

                    $this->addFlash('mautic.user.user.notice.passwordreset', [], 'notice', null, false);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819061"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>83</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/PublicController.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="78" end-line="88"><![CDATA[                //find the user
                $data = $form->getData();
                /** @var \Mautic\UserBundle\Entity\User $user */
                $user = $model->getRepository()->findByIdentifier($data['identifier']);

                if ($user == null) {
                    $form['identifier']->addError(new FormError($this->translator->trans('mautic.user.user.passwordreset.nouserfound', [], 'validators')));
                } else {
                    if ($this->request->getSession()->has('resetToken')) {
                        $resetToken = $this->request->getSession()->get('resetToken');
                        $encoder    = $this->get('security.encoder_factory')->getEncoder($user);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819075"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>38</line>
			<resource><![CDATA[app/bundles/UserBundle/Entity/UserRepository.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="33" end-line="43"><![CDATA[            ->where('u.username = :identifier OR u.email = :identifier')
            ->setParameter('identifier', $identifier);

        $result = $q->getQuery()->getResult();

        return ($result != null) ? $result[0] : null;
    }

    /**
     * @param $user
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818683"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>292</line>
			<resource><![CDATA[app/bundles/UserBundle/Model/UserModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="287" end-line="297"><![CDATA[     * @param null $value
     * @param User $user
     */
    public function setPreference($key, $value = null, User $user = null)
    {
        if ($user == null) {
            $user = $this->userHelper->getUser();
        }

        $preferences       = $user->getPreferences();
        $preferences[$key] = $value;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819570"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>313</line>
			<resource><![CDATA[app/bundles/UserBundle/Model/UserModel.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="308" end-line="318"><![CDATA[     * @param null $default
     * @param User $user
     */
    public function getPreference($key, $default = null, User $user = null)
    {
        if ($user == null) {
            $user = $this->userHelper->getUser();
        }
        $preferences = $user->getPreferences();

        return (isset($preferences[$key])) ? $preferences[$key] : $default;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819620"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/UserBundle/Security/Store/IdStore.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="39" end-line="49"><![CDATA[     * @param \DateTime $expiryTime
     */
    public function set($entityId, $id, \DateTime $expiryTime)
    {
        $idEntry = $this->manager->find(IdEntry::class, ['entityId' => $entityId, 'id' => $id]);
        if (null == $idEntry) {
            $idEntry = new IdEntry();
        }
        $idEntry->setEntityId($entityId)
                ->setId($id)
                ->setExpiryTime($expiryTime);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819017"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>64</line>
			<resource><![CDATA[app/bundles/UserBundle/Security/Store/IdStore.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="59" end-line="69"><![CDATA[     */
    public function has($entityId, $id)
    {
        /** @var IdEntry $idEntry */
        $idEntry = $this->manager->find(IdEntry::class, ['entityId' => $entityId, 'id' => $id]);
        if (null == $idEntry) {
            return false;
        }
        if ($idEntry->getExpiryTime()->getTimestamp() < $this->timeProvider->getTimestamp()) {
            return false;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819412"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>132</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="127" end-line="137"><![CDATA[        if (!empty($sfLeadRecords)) {
            foreach ($sfLeadRecords as $sfLeadRecord) {
                $createLead = false;
                $sfLeadId   = $sfLeadRecord['Id'];
                //update the converted contact if found and not the Lead because it will error in SF
                if (isset($sfLeadRecord['ConvertedContactId']) && $sfLeadRecord['ConvertedContactId'] != null) {
                    if (isset($config['objects']) && array_search('Contact', $config['objects'])) {
                        $createdLeadData[] = $this->request('', $data['Contact'], 'PATCH', false, 'Contact/'.$sfLeadRecord['ConvertedContactId']);
                    } elseif (count($sfLeadRecords) <= 1) {
                        $createLead = true;
                    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818712"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>426</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="421" end-line="431"><![CDATA[                            $object,
                            $mauticObjectReference,
                            $entity->getId()
                        );

                        if ($integrationId == null) {
                            $integrationEntity = new IntegrationEntity();
                            $integrationEntity->setDateAdded(new \DateTime());
                            $integrationEntity->setIntegration('Salesforce');
                            $integrationEntity->setIntegrationEntity($object);
                            $integrationEntity->setIntegrationEntityId($record['Id']);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819001"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1069</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1064" end-line="1074"><![CDATA[            if ($sfLeadRecords = $sfLead['records']) {
                foreach ($sfLeadRecords as $sfLeadRecord) {
                    $key = mb_strtolower($sfLeadRecord['Email']);
                    if (isset($checkEmailsInSF[$key])) {
                        $isConverted = (isset($sfLeadRecord['ConvertedContactId'])
                            && $sfLeadRecord['ConvertedContactId'] != null);
                        $salesforceIdMapping[$checkEmailsInSF[$key]['internal_entity_id']] = ($isConverted) ? $sfLeadRecord['ConvertedContactId']
                            : $sfLeadRecord['Id'];

                        if (empty($sfLeadRecord['IsDeleted'])) {
                            if ($isConverted && isset($config['objects']) && array_search('Contact', $config['objects'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819256"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1585</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="1580" end-line="1590"><![CDATA[                $sfLeadRecords = array_merge($sfLeadRecords, $sfRecordLead['records']);
                foreach ($sfRecordLead['records'] as $sfLeadRecord) {
                    $sfLeadId = $sfLeadRecord['Id'];
                    $allIds[] = $sfLeadRecord['Id'];
                    //update the converted contact if found and not the Lead because it will error in SF
                    if (isset($sfLeadRecord['ConvertedContactId']) && $sfLeadRecord['ConvertedContactId'] != null) {
                        if (count($sfLeadRecords) <= 1) {
                            $createLead = true;
                            continue;
                        } else {
                            continue;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819022"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>185</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SugarcrmIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with !== operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="180" end-line="190"><![CDATA[        $sugarFields       = [];
        $silenceExceptions = (isset($settings['silence_exceptions'])) ? $settings['silence_exceptions'] : true;
        try {
            if ($this->isAuthorized()) {
                $leadObject = $this->getApiHelper()->getLeadFields();
                if ($leadObject != null) {
                    if (isset($leadObject['module_fields'])) {
                        //6.x/community
                        foreach ($leadObject['module_fields'] as $fieldInfo) {
                            if (isset($fieldInfo['name']) && !in_array($fieldInfo['type'], ['id', 'assigned_user_name', 'bool', 'link', 'relate'])) {
                                $sugarFields[$fieldInfo['name']] = []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819153"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>186</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/VtigerIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="181" end-line="191"><![CDATA[        $silenceExceptions = (isset($settings['silence_exceptions'])) ? $settings['silence_exceptions'] : true;
        try {
            if ($this->isAuthorized()) {
                $leadObject = $this->getApiHelper()->getLeadFields();

                if ($leadObject == null || !isset($leadObject['fields'])) {
                    return [];
                }

                foreach ($leadObject['fields'] as $fieldInfo) {
                    if (!isset($fieldInfo['name']) || !$fieldInfo['editable'] || in_array($fieldInfo['type']['name'], ['owner', 'reference', 'boolean', 'autogenerated'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819141"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>170</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/ZohoIntegration.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="165" end-line="175"><![CDATA[
        try {
            if ($this->isAuthorized()) {
                $leadObject = $this->getApiHelper()->getLeadFields();

                if ($leadObject == null || (isset($leadObject['response']) && isset($leadObject['response']['error']))) {
                    return [];
                }

                $zohoFields = [];
                foreach ($leadObject['Leads']['section'] as $optgroup) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818926"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>637</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="632" end-line="642"><![CDATA[    }

    // attempt to find blocks matched by path and args
    protected function findBlocks($searchIn, $path, $orderedArgs, $keywordArgs, $seen = [])
    {
        if ($searchIn == null) {
            return null;
        }
        if (isset($seen[$searchIn->id])) {
            return null;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819009"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>2316</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Boolean should be compared strictly</title>
			<message><![CDATA[With booleans, only strict comparison (with === operator) should be used to lower bug risks and to improve performances.]]></message>
			<context start-line="2311" end-line="2321"><![CDATA[        $oldVars = $this->registeredVars;
        if ($initialVariables !== null) {
            $this->setVariables($initialVariables);
        }

        if ($str == null) {
            if (empty($this->_parseFile)) {
                throw new exception('nothing to parse');
            }

            $out = $this->compileFile($this->_parseFile);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818739"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="security" ignored="false">
			<line>0</line>
			<title>Files should not be executable</title>
			<message><![CDATA[Your project contains files with permissive permissions. In order to avoid opening a security breach, you should restrict execution rights on following files: app/bundles/EmailBundle/Entity/StatRepository.phpapp/bundles/EmailBundle/Views/SubscribedEvents/Timeline/index.html.phpapp/bundles/LeadBundle/Form/Type/CampaignEventLeadFieldValueType.phpapp/bundles/LeadBundle/Translations/en_US/messages.ini]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819561"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>94</line>
			<resource><![CDATA[app/bundles/InstallBundle/Views/Install/check.html.php]]></resource>
			<title>PHP code should not contain unreachable code</title>
			<message><![CDATA[This code is unreachable.]]></message>
			<context start-line="89" end-line="99"><![CDATA[                                <li class="list-group-item"><?php echo $view['translator']->trans($message, ['%phpversion%' => PHP_VERSION]); ?></li>
                                <?php break;
                            default: ?>
                                <li class="list-group-item"><?php echo $view['translator']->trans($message); ?></li>
                                <?php break; ?>
                        <?php endswitch; ?>
                    <?php endforeach; ?>
                </ul>
            </div>
        </div>
    </div>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819260"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>616</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Views/Builder/generate.js.php]]></resource>
			<title>PHP code should not contain unreachable code</title>
			<message><![CDATA[This code is unreachable.]]></message>
			<context start-line="611" end-line="622"><![CDATA[
                <?php switch ($props['when']):
                case 'scroll_slight': ?>
                atPos = 10;
                <?php break; ?>

                <?php case 'scroll_middle': ?>
                scrollPos += (visualHeight / 2);
                atPos = (document.body.scrollHeight / 2);
                <?php break; ?>

                <?php case 'scroll_bottom': ?>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819331"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>621</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Views/Builder/generate.js.php]]></resource>
			<title>PHP code should not contain unreachable code</title>
			<message><![CDATA[This code is unreachable.]]></message>
			<context start-line="616" end-line="627"><![CDATA[
                <?php case 'scroll_middle': ?>
                scrollPos += (visualHeight / 2);
                atPos = (document.body.scrollHeight / 2);
                <?php break; ?>

                <?php case 'scroll_bottom': ?>
                scrollPos += visualHeight;
                atPos = document.body.scrollHeight;
                <?php break; ?>

                <?php endswitch; ?>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819631"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>626</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Views/Builder/generate.js.php]]></resource>
			<title>PHP code should not contain unreachable code</title>
			<message><![CDATA[This code is unreachable.]]></message>
			<context start-line="621" end-line="632"><![CDATA[
                <?php case 'scroll_bottom': ?>
                scrollPos += visualHeight;
                atPos = document.body.scrollHeight;
                <?php break; ?>

                <?php endswitch; ?>

                if (Focus.debug)
                    console.log('scrolling: ' + scrollPos + ' >= ' + atPos);

                if (scrollPos >= atPos) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819188"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>332</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/ClientController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This cancelled local variable is declared but never used. You should remove it.]]></message>
			<context start-line="327" end-line="337"><![CDATA[        // remove api_mode field
        $form->remove('api_mode');

        ///Check for a submitted form and process it
        if (!$ignorePost && $this->request->getMethod() == 'POST') {
            if (!$cancelled = $this->isFormCancelled($form)) {
                if ($valid = $this->isFormValid($form)) {
                    //form is valid so process the data
                    $model->saveEntity($client, $form->get('buttons')->get('save')->isClicked());
                    $this->addFlash(
                        'mautic.core.notice.updated',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819572"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>333</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/ClientController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This valid local variable is declared but never used. You should remove it.]]></message>
			<context start-line="328" end-line="338"><![CDATA[        $form->remove('api_mode');

        ///Check for a submitted form and process it
        if (!$ignorePost && $this->request->getMethod() == 'POST') {
            if (!$cancelled = $this->isFormCancelled($form)) {
                if ($valid = $this->isFormValid($form)) {
                    //form is valid so process the data
                    $model->saveEntity($client, $form->get('buttons')->get('save')->isClicked());
                    $this->addFlash(
                        'mautic.core.notice.updated',
                        []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819154"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>755</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/CommonApiController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This total local variable is declared but never used. You should remove it.]]></message>
			<context start-line="750" end-line="760"><![CDATA[                    ],
                    'ignore_paginator' => true,
                ]
            );

            list($entities, $total) = $prepareForSerialization
                ?
                $this->prepareEntitiesForView($entities)
                :
                $this->prepareEntityResultsToArray($entities);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819365"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/ApiBundle/Security/OAuth1/Firewall/OAuthListener.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This factory attribute is declared but never used. You should remove it.]]></message>
			<context start-line="25" end-line="35"><![CDATA[class OAuthListener extends \Bazinga\OAuthServerBundle\Security\Firewall\OAuthListener
{
    /**
     * @var MauticFactory
     */
    private $factory;

    /**
     * @param MauticFactory $factory
     */
    public function setFactory(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818904"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/ApiBundle/Security/OAuth2/Firewall/OAuthListener.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This factory attribute is declared but never used. You should remove it.]]></message>
			<context start-line="20" end-line="30"><![CDATA[class OAuthListener extends \FOS\OAuthServerBundle\Security\Firewall\OAuthListener
{
    /**
     * @var MauticFactory
     */
    private $factory;

    /**
     * @param MauticFactory $factory
     */
    public function setFactory(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819131"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>24</line>
			<resource><![CDATA[app/bundles/ApiBundle/Serializer/Driver/AnnotationDriver.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This name local variable is declared but never used. You should remove it.]]></message>
			<context start-line="19" end-line="29"><![CDATA[class AnnotationDriver extends \JMS\Serializer\Metadata\Driver\AnnotationDriver
{
    public function loadMetadataForClass(\ReflectionClass $class)
    {
        // Overriding annotation driver to not generate annotation cache files
        $classMetadata = new ClassMetadata($name = $class->name);

        return $classMetadata;
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819055"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>657</line>
			<resource><![CDATA[app/bundles/AssetBundle/Entity/Asset.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This current local variable is declared but never used. You should remove it.]]></message>
			<context start-line="652" end-line="662"><![CDATA[     * @param $val
     */
    protected function isChanged($prop, $val)
    {
        $getter  = 'get'.ucfirst($prop);
        $current = $this->$getter();

        parent::isChanged($prop, $val);
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819347"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>103</line>
			<resource><![CDATA[app/bundles/AssetBundle/Entity/AssetRepository.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This field local variable is declared but never used. You should remove it.]]></message>
			<context start-line="98" end-line="108"><![CDATA[        list($expr, $parameters) = $this->addStandardSearchCommandWhereClause($q, $filter);
        if ($expr) {
            return [$expr, $parameters];
        }

        $command         = $field         = $filter->command;
        $unique          = $this->generateRandomParameterName();
        $returnParameter = false; //returning a parameter that is not used will lead to a Doctrine error
        switch ($command) {
            case $this->translator->trans('mautic.asset.asset.searchcommand.lang'):
                $langUnique      = $this->generateRandomParameterName();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819140"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>102</line>
			<resource><![CDATA[app/bundles/AssetBundle/EventListener/DashboardSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This model local variable is declared but never used. You should remove it.]]></message>
			<context start-line="97" end-line="107"><![CDATA[        }

        if ($event->getType() == 'unique.vs.repetitive.downloads') {
            if (!$event->isCached()) {
                $params = $event->getWidget()->getParams();
                $model  = $this->factory->getModel('asset');
                $event->setTemplateData([
                    'chartType'   => 'pie',
                    'chartHeight' => $event->getWidget()->getHeight() - 80,
                    'chartData'   => $this->assetModel->getUniqueVsRepetitivePieChartData($params['dateFrom'], $params['dateTo'], $canViewOthers),
                ]);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819063"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>89</line>
			<resource><![CDATA[app/bundles/AssetBundle/EventListener/UploadSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This response local variable is declared but never used. You should remove it.]]></message>
			<context start-line="84" end-line="94"><![CDATA[        // Move uploaded file to temporary folder
        $file->move($tmpDir);

        // Set resposnse data
        $response['state']       = 1;
        $response['tmpFileName'] = $file->getBasename();
    }

    /**
     * Validates file before upload.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818834"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>36</line>
			<resource><![CDATA[app/bundles/AssetBundle/Form/Type/AssetType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This themes attribute is declared but never used. You should remove it.]]></message>
			<context start-line="31" end-line="41"><![CDATA[    private $translator;

    /**
     * @var array
     */
    private $themes;

    /**
     * @var AssetModel
     */
    private $assetModel;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819084"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>227</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This created local variable is declared but never used. You should remove it.]]></message>
			<context start-line="222" end-line="232"><![CDATA[            $result = $this->model->updateContactEvent($event, $contact, $params);

            if (is_string($result)) {
                $errors[$key] = $this->returnError($result, Codes::HTTP_CONFLICT);
            } else {
                list($log, $created) = $result;
            }

            $event->addContactLog($log);
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819270"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>261</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ignore local variable is declared but never used. You should remove it.]]></message>
			<context start-line="256" end-line="266"><![CDATA[    {
        if ($this->campaign) {
            $data['campaign'] = $this->campaign;

            if ($this->contact) {
                list($data['membership'], $ignore) = $this->prepareEntitiesForView($this->campaign->getContactMembership($this->contact));
            }
        }

        return parent::view($data, $statusCode, $headers);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819498"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>485</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/CampaignController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This catIds local variable is declared but never used. You should remove it.]]></message>
			<context start-line="480" end-line="490"><![CDATA[        }
        $session->set('mautic.campaign.list_filters', $currentFilters);

        $joinLists = $joinForms = false;
        if (!empty($currentFilters)) {
            $listIds = $catIds = [];
            foreach ($currentFilters as $type => $typeFilters) {
                $listFilters['filters'] ['groups']['mautic.campaign.leadsource.'.$type]['values'] = $typeFilters;

                foreach ($typeFilters as $fltr) {
                    if ($type == 'list') {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819232"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>166</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Entity/LeadEventLogRepository.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This leadIps local variable is declared but never used. You should remove it.]]></message>
			<context start-line="161" end-line="171"><![CDATA[            ->where($query->expr()->eq('ll.is_scheduled', 1));

        if (isset($options['lead'])) {
            /** @var \Mautic\CoreBundle\Entity\IpAddress $ip */
            foreach ($options['lead']->getIpAddresses() as $ip) {
                $leadIps[] = $ip->getId();
            }

            $query->andWhere('ll.lead_id = :leadId')
                ->setParameter('leadId', $options['lead']->getId());
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819447"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Form/Type/CampaignLeadSourceType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This factory attribute is declared but never used. You should remove it.]]></message>
			<context start-line="23" end-line="33"><![CDATA[class CampaignLeadSourceType extends AbstractType
{
    /**
     * @var
     */
    private $factory;

    /**
     * @param MauticFactory $factory
     */
    public function __constuct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819458"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Form/Type/CampaignType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="21" end-line="31"><![CDATA[/**
 * Class CampaignType.
 */
class CampaignType extends AbstractType
{
    private $translator;
    private $em;

    /**
     * @param MauticFactory $factory
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818668"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Form/Type/CampaignType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This em attribute is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[ * Class CampaignType.
 */
class CampaignType extends AbstractType
{
    private $translator;
    private $em;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818902"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>249</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This parentUpdated local variable is declared but never used. You should remove it.]]></message>
			<context start-line="244" end-line="254"><![CDATA[    {
        $eventSettings  = $this->getEvents();
        $existingEvents = $entity->getEvents()->toArray();
        $events         =
        $hierarchy      =
        $parentUpdated  = [];

        foreach ($sessionEvents as $properties) {
            $isNew = (!empty($properties['id']) && isset($existingEvents[$properties['id']])) ? false : true;
            $event = !$isNew ? $existingEvents[$properties['id']] : new Event();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818780"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1076</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This lastRoundPercentage local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1071" end-line="1081"><![CDATA[                'batchLimiters' => $batchLimiters,
            ]
        );

        // Restart batching
        $start                  = $lastRoundPercentage                  = 0;
        $leadCount              = $removeLeadCount['count'];
        $batchLimiters['maxId'] = $removeLeadCount['maxId'];

        if ($output) {
            $output->writeln($this->translator->trans('mautic.lead.list.rebuild.to_be_removed', ['%leads%' => $leadCount, '%batch%' => $limit]));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818980"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1057</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This leadProcessedCount local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1052" end-line="1062"><![CDATA[                    ['%leads%' => $leadCount, '%batch%' => $limit]
                )
            );
        }

        $start               = $leadProcessedCount               = $lastRoundPercentage               = $executedEventCount               = $evaluatedEventCount               = $negativeExecutedCount               = $negativeEvaluatedCount               = 0;
        $nonActionEventCount = $leadCount * count($nonActionEvents);
        $eventSettings       = $this->campaignModel->getEvents();
        $maxCount            = ($max) ? $max : $nonActionEventCount;

        // Try to save some memory]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819486"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1057</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This lastRoundPercentage local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1052" end-line="1062"><![CDATA[                    ['%leads%' => $leadCount, '%batch%' => $limit]
                )
            );
        }

        $start               = $leadProcessedCount               = $lastRoundPercentage               = $executedEventCount               = $evaluatedEventCount               = $negativeExecutedCount               = $negativeEvaluatedCount               = 0;
        $nonActionEventCount = $leadCount * count($nonActionEvents);
        $eventSettings       = $this->campaignModel->getEvents();
        $maxCount            = ($max) ? $max : $nonActionEventCount;

        // Try to save some memory]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819477"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>108</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Entity/CategoryRepository.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This field local variable is declared but never used. You should remove it.]]></message>
			<context start-line="103" end-line="113"><![CDATA[     *
     * @return array
     */
    protected function addSearchCommandWhereClause(&$q, $filter)
    {
        $command                 = $field                 = $filter->command;
        $unique                  = $this->generateRandomParameterName();
        list($expr, $parameters) = parent::addSearchCommandWhereClause($q, $filter);

        switch ($command) {
            case $this->translator->trans('mautic.core.searchcommand.ispublished'):]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819147"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>31</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Form/Type/CategoryType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="26" end-line="36"><![CDATA[class CategoryType extends AbstractType
{
    /**
     * @var TranslatorInterface
     */
    private $translator;

    /**
     * @var Session
     */
    private $session;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819367"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Helper/MenuHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This security argument is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param $bundleName
     * @param $security
     *
     * @deprecated - to be removed in 3.0; no longer used
     */
    public static function addCategoryMenuItems(&$items, $bundleName, CorePermissions $security)
    {
        @trigger_error('Individual category menu items are no longer used.', E_USER_DEPRECATED);
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819421"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Helper/MenuHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This items argument is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param $bundleName
     * @param $security
     *
     * @deprecated - to be removed in 3.0; no longer used
     */
    public static function addCategoryMenuItems(&$items, $bundleName, CorePermissions $security)
    {
        @trigger_error('Individual category menu items are no longer used.', E_USER_DEPRECATED);
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818866"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Helper/MenuHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This bundleName argument is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param $bundleName
     * @param $security
     *
     * @deprecated - to be removed in 3.0; no longer used
     */
    public static function addCategoryMenuItems(&$items, $bundleName, CorePermissions $security)
    {
        @trigger_error('Individual category menu items are no longer used.', E_USER_DEPRECATED);
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818879"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>17</line>
			<resource><![CDATA[app/bundles/ChannelBundle/Views/SubscribedEvents/Timeline/index.html.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This extra use argument is declared but never used. You should remove it.]]></message>
			<context start-line="12" end-line="22"><![CDATA[$extra            = $event['extra'];
$log              = $extra['log'];
$eventType        = $log['type'];
$eventSettings    = $extra['campaignEventSettings'];
$messageSettings  = $eventSettings['action'][$eventType]['timelineTemplateVars']['messageSettings'];
$getChannelOutput = function ($channel) use ($view, $event, $log, $extra, $eventSettings) {
    $log['metadata'] = $log['metadata'][$channel];

    if (!empty($log['metadata']['dnc'])) {
        switch ($log['metadata']['dnc']) {
            case \Mautic\LeadBundle\Entity\DoNotContact::BOUNCED:]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819102"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>62</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/Api/FileApiController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This moved local variable is declared but never used. You should remove it.]]></message>
			<context start-line="57" end-line="67"><![CDATA[        if ($this->request->files) {
            foreach ($this->request->files as $file) {
                $extension = $file->guessExtension() ? $file->guessExtension() : $file->getClientOriginalExtension();
                if (in_array($extension, $this->allowedExtensions)) {
                    $fileName = md5(uniqid()).'.'.$extension;
                    $moved    = $file->move($path, $fileName);

                    if (substr($dir, 0, 6) === 'images') {
                        $response[$this->entityNameOne]['link'] = $this->getMediaUrl().'/'.$fileName;
                    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818689"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>68</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/Api/ThemeApiController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This themeName local variable is declared but never used. You should remove it.]]></message>
			<context start-line="63" end-line="73"><![CDATA[                $this->translator->trans('mautic.core.not.allowed.file.extension', ['%extension%' => $extension], 'validators'),
                Response::HTTP_BAD_REQUEST
            );
        } else {
            $fileName  = InputHelper::filename($themeZip->getClientOriginalName());
            $themeName = basename($fileName, '.zip');
            $dir       = $this->get('mautic.helper.paths')->getSystemPath('themes', true);

            if (!empty($themeZip)) {
                try {
                    $themeZip->move($dir, $fileName);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819338"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>95</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/FileController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This response local variable is declared but never used. You should remove it.]]></message>
			<context start-line="90" end-line="100"><![CDATA[     * @return \Symfony\Component\HttpFoundation\JsonResponse
     */
    public function deleteAction()
    {
        $src       = InputHelper::clean($this->request->request->get('src'));
        $response  = ['deleted' => false];
        $imagePath = $this->getMediaAbsolutePath().'/'.basename($src);

        if (!file_exists($imagePath)) {
            $this->response['error'] = 'File does not exist';
            $this->statusCode        = Response::HTTP_INTERNAL_SERVER_ERROR;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819517"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>47</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/ThemeController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This cancelled local variable is declared but never used. You should remove it.]]></message>
			<context start-line="42" end-line="52"><![CDATA[        $dir         = $this->factory->getSystemPath('themes', true);
        $action      = $this->generateUrl('mautic_themes_index');
        $form        = $this->get('form.factory')->create('theme_upload', [], ['action' => $action]);

        if ($this->request->getMethod() == 'POST') {
            if (isset($form) && !$cancelled = $this->isFormCancelled($form)) {
                if ($this->isFormValid($form)) {
                    $fileData = $form['file']->getData();

                    if (!$fileData) {
                        $form->addError(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819309"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>166</line>
			<resource><![CDATA[app/bundles/CoreBundle/Doctrine/Helper/TableSchemaHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This columnsAdded local variable is declared but never used. You should remove it.]]></message>
			<context start-line="161" end-line="171"><![CDATA[                if (!isset($columns[$column['name']])) {
                    $type       = (isset($column['type'])) ? $column['type'] : 'text';
                    $colOptions = (isset($column['options'])) ? $column['options'] : [];

                    $newTable->addColumn($column['name'], $type, $colOptions);
                    $columnsAdded[] = $column['name'];
                }
            }
        }

        if (!empty($options)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819417"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>324</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This handlingException local variable is declared but never used. You should remove it.]]></message>
			<context start-line="319" end-line="329"><![CDATA[                if ($previous = self::prepareExceptionForOutput($previous)) {
                    $previous['isPrevious'] = true;
                }
            }

            $handlingException = true;
            $line              = $exception->getLine();
            $file              = $exception->getFile();
            $trace             = $exception->getTrace();
            $context           = (method_exists($exception, 'getContext')) ? $exception->getContext() : [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819021"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/Type/DateRangeType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This factory attribute is declared but never used. You should remove it.]]></message>
			<context start-line="18" end-line="28"><![CDATA[/**
 * Class FilterType.
 */
class DateRangeType extends AbstractType
{
    private $factory;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819282"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/Type/ThemeUploadType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This constraints local variable is declared but never used. You should remove it.]]></message>
			<context start-line="30" end-line="40"><![CDATA[                'accept'   => '.zip',
                'class'    => 'form-control',
                'required' => true,
            ],
        ]);
        $constraints = [
            new \Symfony\Component\Validator\Constraints\NotBlank(
                ['message' => 'mautic.core.value.required']
            ),
        ];
        $builder->add('start', 'submit', []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818743"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>194</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/BuilderTokenHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This encodeTokensInUrls argument is declared but never used. You should remove it.]]></message>
			<context start-line="189" end-line="199"><![CDATA[     * @deprecated 2.6.0 to be removed in 3.0
     *
     * @param $content
     * @param $encodeTokensInUrls
     */
    public static function replaceVisualPlaceholdersWithTokens(&$content, $encodeTokensInUrls = ['leadfield'])
    {
        if (is_array($content)) {
            foreach ($content as &$slot) {
                self::replaceVisualPlaceholdersWithTokens($slot);
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819219"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>97</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/Chart/AbstractChart.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This toUpper local variable is declared but never used. You should remove it.]]></message>
			<context start-line="92" end-line="102"><![CDATA[    {
        if (!$unit) {
            $unit = $this->unit;
        }
        $isTime  = in_array($unit, ['H', 'i', 's']) ? 'T' : '';
        $toUpper = ['d', 'i'];

        if ($unit == 'i') {
            $unit = 'M';
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818982"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>61</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/LanguageHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator local variable is declared but never used. You should remove it.]]></message>
			<context start-line="56" end-line="66"><![CDATA[     * @return array
     */
    public function extractLanguagePackage($languageCode)
    {
        $packagePath = $this->factory->getSystemPath('cache').'/'.$languageCode.'.zip';
        $translator  = $this->factory->getTranslator();

        // Make sure the package actually exists
        if (!file_exists($packagePath)) {
            // Let's try to fetch it
            $result = $this->fetchPackage($languageCode);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819508"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/UrlHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This logger argument is declared but never used. You should remove it.]]></message>
			<context start-line="39" end-line="49"><![CDATA[     *
     * @param Http|null   $http
     * @param null        $shortnerServiceUrl
     * @param Logger|null $logger
     */
    public function __construct(Http $http = null, $shortnerServiceUrl = null, Logger $logger = null)
    {
        $this->http               = $http;
        $this->shortnerServiceUrl = $shortnerServiceUrl;
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819624"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>29</line>
			<resource><![CDATA[app/bundles/CoreBundle/Loader/RouteLoader.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This loaded attribute is declared but never used. You should remove it.]]></message>
			<context start-line="24" end-line="34"><![CDATA[class RouteLoader extends Loader
{
    /**
     * @var bool
     */
    private $loaded = false;

    /**
     * @var EventDispatcherInterface
     */
    private $dispatcher;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819109"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>42</line>
			<resource><![CDATA[app/bundles/CoreBundle/Menu/MenuRenderer.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This charset attribute is declared but never used. You should remove it.]]></message>
			<context start-line="37" end-line="47"><![CDATA[    private $defaultOptions;

    /**
     * @var string
     */
    private $charset;

    /**
     * @param MatcherInterface $matcher
     * @param MauticFactory    $factory
     * @param string           $charset]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818864"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>234</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This isSecondRound argument is declared but never used. You should remove it.]]></message>
			<context start-line="229" end-line="239"><![CDATA[     * @param       $allPermissions
     * @param bool  $isSecondRound
     *
     * @return bool Return true if a second round is required after all other bundles have analyzed it's permissions
     */
    public function analyzePermissions(array &$permissions, $allPermissions, $isSecondRound = false)
    {
        $hasViewAccess = false;
        foreach ($permissions as $level => &$perms) {
            foreach ($perms as $perm) {
                $required = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819342"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>234</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This allPermissions argument is declared but never used. You should remove it.]]></message>
			<context start-line="229" end-line="239"><![CDATA[     * @param       $allPermissions
     * @param bool  $isSecondRound
     *
     * @return bool Return true if a second round is required after all other bundles have analyzed it's permissions
     */
    public function analyzePermissions(array &$permissions, $allPermissions, $isSecondRound = false)
    {
        $hasViewAccess = false;
        foreach ($permissions as $level => &$perms) {
            foreach ($perms as $perm) {
                $required = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818721"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>263</line>
			<resource><![CDATA[app/bundles/CoreBundle/Security/Permissions/AbstractPermissions.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ignore local variable is declared but never used. You should remove it.]]></message>
			<context start-line="258" end-line="268"><![CDATA[                        $required = ['viewown'];
                        break;
                }
                if (!empty($required)) {
                    foreach ($required as $r) {
                        list($ignore, $r) = $this->getSynonym($level, $r);
                        if ($this->isSupported($level, $r) && !in_array($r, $perms)) {
                            $perms[] = $r;
                        }
                    }
                }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819427"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>37</line>
			<resource><![CDATA[app/bundles/CoreBundle/Templating/Helper/GravatarHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This imageDir attribute is declared but never used. You should remove it.]]></message>
			<context start-line="32" end-line="42"><![CDATA[    private $devHosts = [];

    /**
     * @var
     */
    private $imageDir;

    /**
     * @var AssetsHelper
     */
    private $assetHelper;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819529"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>42</line>
			<resource><![CDATA[app/bundles/CoreBundle/Templating/Helper/GravatarHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This assetHelper attribute is declared but never used. You should remove it.]]></message>
			<context start-line="37" end-line="47"><![CDATA[    private $imageDir;

    /**
     * @var AssetsHelper
     */
    private $assetHelper;

    /**
     * @var AvatarHelper
     */
    private $avatarHelper;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818958"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>234</line>
			<resource><![CDATA[app/bundles/CoreBundle/Test/MauticWebTestCase.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This executor local variable is declared but never used. You should remove it.]]></message>
			<context start-line="229" end-line="239"><![CDATA[        $output = new ConsoleOutput();
        $command->run($input, $output);
        */

        $fixtures = $command->getMauticFixtures(true);
        $executor = $this->loadFixtures($fixtures);

        //setup the entity manager
        $this->em = $this->container
            ->get('doctrine')->getManager();
        $this->encoder = $this->container]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818981"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>111</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/AjaxController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This name local variable is declared but never used. You should remove it.]]></message>
			<context start-line="106" end-line="116"><![CDATA[        /** @var \Mautic\DashboardBundle\Model\DashboardModel $model */
        $model  = $this->getModel('dashboard');
        $entity = $model->getEntity($objectId);
        if ($entity) {
            $model->deleteEntity($entity);
            $name                 = $entity->getName();
            $dataArray['success'] = 1;
        }

        return $this->sendJsonResponse($dataArray);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819629"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>433</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/DashboardController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This cancelled local variable is declared but never used. You should remove it.]]></message>
			<context start-line="428" end-line="438"><![CDATA[
        $action = $this->generateUrl('mautic_dashboard_action', ['objectAction' => 'import']);
        $form   = $this->get('form.factory')->create('dashboard_upload', [], ['action' => $action]);

        if ($this->request->getMethod() == 'POST') {
            if (isset($form) && !$cancelled = $this->isFormCancelled($form)) {
                if ($this->isFormValid($form)) {
                    $fileData = $form['file']->getData();
                    if (!empty($fileData)) {
                        $fileData->move($directories['user'], $fileData->getClientOriginalName());
                    } else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818727"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Form/Type/UploadType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This constraints local variable is declared but never used. You should remove it.]]></message>
			<context start-line="30" end-line="40"><![CDATA[            'attr'  => [
                'accept' => '.json',
                'class'  => 'form-control',
            ],
        ]);
        $constraints = [
            new \Symfony\Component\Validator\Constraints\NotBlank(
                ['message' => 'mautic.core.value.required']
            ),
        ];
        $builder->add('start', 'submit', []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819360"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>100</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Form/Type/WidgetType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ff use argument is declared but never used. You should remove it.]]></message>
			<context start-line="95" end-line="105"><![CDATA[        ]);

        $ff = $builder->getFormFactory();

        // function to add a form for specific widget type dynamically
        $func = function (FormEvent $e) use ($ff, $dispatcher) {
            $data   = $e->getData();
            $form   = $e->getForm();
            $event  = new WidgetFormEvent();
            $type   = null;
            $params = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819425"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>152</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ignore local variable is declared but never used. You should remove it.]]></message>
			<context start-line="147" end-line="157"><![CDATA[
        $dwc = $this->dynamicContentModel->getRepository()->getEntity($eventConfig['dynamicContent']);

        if ($dwc instanceof DynamicContent) {
            // Use translation if available
            list($ignore, $dwc) = $this->dynamicContentModel->getTranslatedEntity($dwc, $lead);

            if ($slot) {
                $this->dynamicContentModel->setSlotContentForLead($dwc, $lead, $slot);
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819068"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>76</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Helper/DynamicContentHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ignore local variable is declared but never used. You should remove it.]]></message>
			<context start-line="71" end-line="81"><![CDATA[                $content = $data['content'];
                $dwc     = $this->dynamicContentModel->getEntity($data['id']);
                if ($dwc instanceof DynamicContent) {
                    // Determine a translation based on contact's preferred locale
                    /** @var DynamicContent $translation */
                    list($ignore, $translation) = $this->dynamicContentModel->getTranslatedEntity($dwc, $lead);
                    if ($translation !== $dwc) {
                        // Use translated version of content
                        $dwc     = $translation;
                        $content = $dwc->getContent();
                    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819454"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>66</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/AjaxController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This inProgress local variable is declared but never used. You should remove it.]]></message>
			<context start-line="61" end-line="71"><![CDATA[            $dataArray['success'] = 1;
            $session              = $this->get('session');
            $progress             = $session->get('mautic.email.send.progress', [0, (int) $pending]);
            $stats                = $session->get('mautic.email.send.stats', ['sent' => 0, 'failed' => 0, 'failedRecipients' => []]);

            if ($pending && !$inProgress = $session->get('mautic.email.send.active', false)) {
                $session->set('mautic.email.send.active', true);
                list($batchSentCount, $batchFailedCount, $batchFailedRecipients) = $model->sendEmailToLists($entity, null, $limit);

                $progress[0] += ($batchSentCount + $batchFailedCount);
                $stats['sent'] += $batchSentCount;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818736"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>115</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/AjaxController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This id local variable is declared but never used. You should remove it.]]></message>
			<context start-line="110" end-line="120"><![CDATA[     * @return \Symfony\Component\HttpFoundation\JsonResponse
     */
    protected function generatePlaintTextAction(Request $request)
    {
        $custom = $request->request->get('custom');
        $id     = $request->request->get('id');

        $parser = new PlainTextHelper(
            [
                'base_url' => $request->getSchemeAndHttpHost().$request->getBasePath(),
            ]]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818885"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>72</line>
			<resource><![CDATA[app/bundles/EmailBundle/Event/EmailSendEvent.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This textHeaders attribute is declared but never used. You should remove it.]]></message>
			<context start-line="67" end-line="77"><![CDATA[    private $internalSend = false;

    /**
     * @var array
     */
    private $textHeaders = [];

    /**
     * @param MailHelper $helper
     * @param array      $args
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818876"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>81</line>
			<resource><![CDATA[app/bundles/EmailBundle/EventListener/BroadcastSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ignore local variable is declared but never used. You should remove it.]]></message>
			<context start-line="76" end-line="86"><![CDATA[
        $output = $event->getOutput();

        /** @var Email $email */
        while (($email = $emails->next()) !== false) {
            list($sentCount, $failedCount, $ignore) = $this->model->sendEmailToLists($email[0], null, 100, true, $output);

            $event->setResults($this->translator->trans('mautic.email.email').': '.$email[0]->getName(), $sentCount, $failedCount);
            $this->em->detach($email[0]);
        }
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819641"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>59</line>
			<resource><![CDATA[app/bundles/EmailBundle/EventListener/PageSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This email local variable is declared but never used. You should remove it.]]></message>
			<context start-line="54" end-line="64"><![CDATA[    public function onPageHit(Events\PageHitEvent $event)
    {
        $hit      = $event->getHit();
        $redirect = $hit->getRedirect();

        if ($redirect && $email = $hit->getEmail()) {
            // Check for an email stat
            $clickthrough = $event->getClickthroughData();

            if (isset($clickthrough['stat'])) {
                $stat = $this->emailModel->getEmailStatus($clickthrough['stat']);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819481"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>37</line>
			<resource><![CDATA[app/bundles/EmailBundle/Form/Type/EmailType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This defaultTheme attribute is declared but never used. You should remove it.]]></message>
			<context start-line="32" end-line="42"><![CDATA[class EmailType extends AbstractType
{
    use DynamicContentTrait;

    private $translator;
    private $defaultTheme;
    private $em;
    private $request;

    private $countryChoices  = [];
    private $regionChoices   = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818670"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>327</line>
			<resource><![CDATA[app/bundles/EmailBundle/Form/Type/EmailType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This url use argument is declared but never used. You should remove it.]]></message>
			<context start-line="322" end-line="332"><![CDATA[                'data'           => ($translationParent) ? $translationParent->getId() : null,
            ]
        );

        $url                     = $this->request->getSchemeAndHttpHost().$this->request->getBasePath();
        $variantSettingsModifier = function (FormEvent $event, $isVariant) use ($url) {
            if ($isVariant) {
                $event->getForm()->add(
                    'variantSettings',
                    'emailvariant',
                    []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818733"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>77</line>
			<resource><![CDATA[app/bundles/EmailBundle/Form/Type/VariantType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This options use argument is declared but never used. You should remove it.]]></message>
			<context start-line="72" end-line="82"><![CDATA[                        ['message' => 'mautic.core.ab_test.winner_criteria.not_blank']
                    ),
                ],
            ]);

            $builder->addEventListener(FormEvents::PRE_SET_DATA, function (FormEvent $event) use ($options, $criteria) {
                $form = $event->getForm();
                $data = $event->getData();

                if (isset($data['winnerCriteria'])) {
                    if (!empty($criteria[$data['winnerCriteria']]['formType'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819004"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>329</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This from local variable is declared but never used. You should remove it.]]></message>
			<context start-line="324" end-line="334"><![CDATA[                    $this->setFrom($owner['email'], $owner['first_name'].' '.$owner['last_name']);
                    $ownerSignature = $this->getContactOwnerSignature($owner);
                } else {
                    $this->setFrom($this->from);
                }
            } elseif (!$from = $this->message->getFrom()) {
                $this->setFrom($this->from);
            }
        } // from is set in flushQueue

        // Set system return path if applicable]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818923"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>126</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MessageHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ignore local variable is declared but never used. You should remove it.]]></message>
			<context start-line="121" end-line="131"><![CDATA[        }
        // Parse the to email if applicable
        if (preg_match('#^(.*?)\+(.*?)@(.*?)$#', $toEmail, $parts)) {
            if (strstr($parts[2], '_')) {
                // Has an ID hash so use it to find the lead
                list($ignore, $hashId) = explode('_', $parts[2]);
            }
        }

        $messageDetails = [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819290"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1836</line>
			<resource><![CDATA[app/bundles/EmailBundle/Model/EmailModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This data local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1831" end-line="1841"><![CDATA[
        if (!$canViewOthers) {
            $this->limitQueryToCreator($q);
        }

        return $data = $query->loadAndBuildTimeData($q);
    }

    /**
     * Get pie chart data of ignored vs opened emails.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819467"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>24</line>
			<resource><![CDATA[app/bundles/EmailBundle/Swiftmailer/Transport/ElasticemailTransport.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This httpClient attribute is declared but never used. You should remove it.]]></message>
			<context start-line="19" end-line="29"><![CDATA[/**
 * Class ElasticEmailTransport.
 */
class ElasticemailTransport extends \Swift_SmtpTransport implements InterfaceCallbackTransport
{
    private $httpClient;

    /**
     * {@inheritdoc}
     */
    public function __construct($host = 'localhost', $port = 25, $security = null)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819540"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>230</line>
			<resource><![CDATA[app/bundles/EmailBundle/Swiftmailer/Transport/SparkpostTransport.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This headers local variable is declared but never used. You should remove it.]]></message>
			<context start-line="225" end-line="235"><![CDATA[
            $recipients[] = $recipient;
        }

        if (isset($message['replyTo'])) {
            $headers['Reply-To'] = (!empty($message['replyTo']['name']))
                ?
                sprintf('%s <%s>', $message['replyTo']['email'], $message['replyTo']['name'])
                :
                $message['replyTo']['email'];
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819206"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>290</line>
			<resource><![CDATA[app/bundles/FormBundle/EventListener/FormSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This violations local variable is declared but never used. You should remove it.]]></message>
			<context start-line="285" end-line="295"><![CDATA[            }
        } catch (ServerException $exception) {
            $this->parseResponse($exception->getResponse(), $matchedFields);
        } catch (\Exception $exception) {
            if ($exception instanceof ValidationException) {
                if ($violations = $exception->getViolations()) {
                    throw $exception;
                }
            }

            $email = $config['failure_email'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819571"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>79</line>
			<resource><![CDATA[app/bundles/FormBundle/Form/Type/CampaignEventFormFieldValueType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ff use argument is declared but never used. You should remove it.]]></message>
			<context start-line="74" end-line="84"><![CDATA[        );

        $ff = $builder->getFormFactory();

        // function to add 'template' choice field dynamically
        $func = function (FormEvent $e) use ($ff, $formModel) {
            $data    = $e->getData();
            $form    = $e->getForm();
            $fields  = [];
            $options = [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818795"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>29</line>
			<resource><![CDATA[app/bundles/FormBundle/Form/Type/FormType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="24" end-line="34"><![CDATA[class FormType extends AbstractType
{
    /**
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * @var \Mautic\CoreBundle\Security\Permissions\CorePermissions
     */
    private $security;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819279"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/FormBundle/Helper/FormSubmitHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This server argument is declared but never used. You should remove it.]]></message>
			<context start-line="29" end-line="39"><![CDATA[    /**
     * @param      $tokens
     * @param      $config
     * @param Lead $lead
     */
    public static function repostForm($post, $server, $config, Lead $lead)
    {
        if (!empty($config['post_url'])) {
            foreach ($post as $name => $value) {
            }
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819120"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/FormBundle/Helper/FormSubmitHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This lead argument is declared but never used. You should remove it.]]></message>
			<context start-line="29" end-line="39"><![CDATA[    /**
     * @param      $tokens
     * @param      $config
     * @param Lead $lead
     */
    public static function repostForm($post, $server, $config, Lead $lead)
    {
        if (!empty($config['post_url'])) {
            foreach ($post as $name => $value) {
            }
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818891"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>485</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/FormModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This closeFieldId local variable is declared but never used. You should remove it.]]></message>
			<context start-line="480" end-line="490"><![CDATA[        });

        $pages = ['open' => [], 'close' => []];

        $openFieldId  =
        $closeFieldId =
        $previousId   =
        $lastPage     = false;
        $pageCount    = 1;

        foreach ($fields as $fieldId => $field) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818871"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>337</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/SubmissionModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This generated local variable is declared but never used. You should remove it.]]></message>
			<context start-line="332" end-line="342"><![CDATA[
        // Get updated lead if applicable with tracking ID
        if ($form->isInKioskMode()) {
            $lead = $this->leadModel->getCurrentLead();
        } else {
            list($lead, $trackingId, $generated) = $this->leadModel->getCurrentLead(true);

            //set tracking ID for stats purposes to determine unique hits
            $submission->setTrackingId($trackingId);
        }
        $submission->setLead($lead);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818654"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>220</line>
			<resource><![CDATA[app/bundles/InstallBundle/Helper/SchemaHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This dropSequences local variable is declared but never used. You should remove it.]]></message>
			<context start-line="215" end-line="225"><![CDATA[    {
        $sql = [];
        $sm  = $this->db->getSchemaManager();

        //backup existing tables
        $backupRestraints = $backupSequences = $backupIndexes = $backupTables = $dropSequences = $dropTables = [];

        //cycle through the first time to drop all the foreign keys
        foreach ($tables as $t) {
            if (!isset($mauticTables[$t]) && !in_array($t, $mauticTables)) {
                // Not an applicable table]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818705"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>220</line>
			<resource><![CDATA[app/bundles/InstallBundle/Helper/SchemaHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This backupSequences local variable is declared but never used. You should remove it.]]></message>
			<context start-line="215" end-line="225"><![CDATA[    {
        $sql = [];
        $sm  = $this->db->getSchemaManager();

        //backup existing tables
        $backupRestraints = $backupSequences = $backupIndexes = $backupTables = $dropSequences = $dropTables = [];

        //cycle through the first time to drop all the foreign keys
        foreach ($tables as $t) {
            if (!isset($mauticTables[$t]) && !in_array($t, $mauticTables)) {
                // Not an applicable table]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819295"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/InstallBundle/InstallFixtures/ORM/LoadReportData.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This container attribute is declared but never used. You should remove it.]]></message>
			<context start-line="25" end-line="35"><![CDATA[class LoadReportData extends AbstractFixture implements OrderedFixtureInterface, ContainerAwareInterface
{
    /**
     * @var ContainerInterface
     */
    private $container;

    /**
     * {@inheritdoc}
     */
    public function setContainer(ContainerInterface $container = null)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818787"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/CustomFieldsApiControllerTrait.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This action argument is declared but never used. You should remove it.]]></message>
			<context start-line="25" end-line="35"><![CDATA[     * @param Lead $entity
     * @param $action
     *
     * @return mixed|void
     */
    protected function prepareParametersForBinding($parameters, $entity, $action)
    {
        if ('company' === $this->entityNameOne) {
            $object = 'company';
        } else {
            $object = 'lead';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818804"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>65</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/CustomFieldsApiControllerTrait.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This action argument is declared but never used. You should remove it.]]></message>
			<context start-line="60" end-line="70"><![CDATA[     * Flatten fields into an 'all' key for dev convenience.
     *
     * @param        $entity
     * @param string $action
     */
    protected function preSerializeEntity(&$entity, $action = 'view')
    {
        if ($entity instanceof CustomFieldEntityInterface) {
            $fields        = $entity->getFields();
            $fields['all'] = $entity->getProfileFields();
            $entity->setFields($fields);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819359"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>722</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/CompanyController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This mainCompany local variable is declared but never used. You should remove it.]]></message>
			<context start-line="717" end-line="727"><![CDATA[                        //deny access if the entity is locked
                        return $this->isLocked($postActionVars, $primaryCompany, 'lead.company');
                    }

                    //Both leads are good so now we merge them
                    $mainCompany = $model->companyMerge($primaryCompany, $secondaryCompany, false);
                }

                if ($valid) {
                    $viewParameters = [
                        'objectId'     => $primaryCompany->getId(),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818907"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>142</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This listArgs local variable is declared but never used. You should remove it.]]></message>
			<context start-line="137" end-line="147"><![CDATA[
        $tmpl = $this->request->isXmlHttpRequest() ? $this->request->get('tmpl', 'index') : 'index';

        $listArgs = [];
        if (!$this->get('mautic.security')->isGranted('lead:lists:viewother')) {
            $listArgs['filter']['force'] = " $mine";
        }

        $lists = $this->getModel('lead.list')->getUserLists();

        //check to see if in a single list]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819201"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>448</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This file local variable is declared but never used. You should remove it.]]></message>
			<context start-line="443" end-line="453"><![CDATA[                    // Upload avatar if applicable
                    $image = $form['preferred_profile_image']->getData();
                    if ($image == 'custom') {
                        // Check for a file
                        /** @var UploadedFile $file */
                        if ($file = $form['custom_avatar']->getData()) {
                            $this->uploadAvatar($lead);
                        }
                    }

                    $identifier = $this->get('translator')->trans($lead->getPrimaryIdentifier());]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819437"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>626</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This file local variable is declared but never used. You should remove it.]]></message>
			<context start-line="621" end-line="631"><![CDATA[                    // Upload avatar if applicable
                    $image = $form['preferred_profile_image']->getData();
                    if ($image == 'custom') {
                        // Check for a file
                        /** @var UploadedFile $file */
                        if ($file = $form['custom_avatar']->getData()) {
                            $this->uploadAvatar($lead);

                            // Note the avatar update so that it can be forced to update
                            $this->get('session')->set('mautic.lead.avatar.updated', true);
                        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818818"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1448</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This cancelled local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1443" end-line="1453"><![CDATA[                }
        }

        ///Check for a submitted form and process it
        if (!$ignorePost && $this->request->getMethod() == 'POST') {
            if (isset($form) && !$cancelled = $this->isFormCancelled($form)) {
                $valid = $this->isFormValid($form);
                switch ($step) {
                    case 1:
                        if ($valid) {
                            if (file_exists($fullPath)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819336"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1706</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This user local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1701" end-line="1711"><![CDATA[
                        // To lead
                        $mailer->addTo($leadEmail, $leadName);

                        // From user
                        $user = $this->get('mautic.helper.user')->getUser();

                        $mailer->setFrom(
                            $email['from'],
                            empty($email['fromname']) ? '' : $email['fromname']
                        );]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819098"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/CompanyLeadRepository.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This contacts local variable is declared but never used. You should remove it.]]></message>
			<context start-line="25" end-line="35"><![CDATA[    {
        // Get a list of contacts and set primary to 0
        $contacts = [];
        foreach ($entities as $entity) {
            $contactId            = $entity->getLead()->getId();
            $contacts[$contactId] = $contactId;
            $entity->setPrimary(true);
        }

        $qb = $this->getEntityManager()->getConnection()->createQueryBuilder()
            ->update(MAUTIC_TABLE_PREFIX.'companies_leads')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819178"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>97</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadField.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This isUniqueIdentifier attribute is declared but never used. You should remove it.]]></message>
			<context start-line="92" end-line="102"><![CDATA[    /**
     * Workaround for incorrectly spelled $isUniqueIdentifer.
     *
     * @var bool
     */
    private $isUniqueIdentifier = false;

    /**
     * @var int
     */
    private $order = 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819470"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>679</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/LeadListRepository.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This not use argument is declared but never used. You should remove it.]]></message>
			<context start-line="674" end-line="684"><![CDATA[            // Special handling of relative date strings
            if ($details['type'] == 'datetime' || $details['type'] == 'date') {
                $relativeDateStrings = $this->getRelativeDateStrings();
                // Check if the column type is a date/time stamp
                $isTimestamp = ($details['type'] == 'datetime' || $columnType instanceof UTCDateTimeType);
                $getDate     = function (&$string) use ($isTimestamp, $relativeDateStrings, &$details, &$func, $not) {
                    $key             = array_search($string, $relativeDateStrings);
                    $dtHelper        = new DateTimeHelper('midnight today', null, 'local');
                    $requiresBetween = (in_array($func, ['eq', 'neq']) && $isTimestamp);

                    $timeframe  = str_replace('mautic.lead.list.', '', $key);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819272"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>137</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/Lead.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This companyChangeLog attribute is declared but never used. You should remove it.]]></message>
			<context start-line="132" end-line="142"><![CDATA[    private $pointsChangeLog;

    /**
     * @var ArrayCollection
     */
    private $companyChangeLog;

    /**
     * @var ArrayCollection
     */
    private $doNotContact;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819506"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>273</line>
			<resource><![CDATA[app/bundles/LeadBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This somethingHappened local variable is declared but never used. You should remove it.]]></message>
			<context start-line="268" end-line="278"><![CDATA[        $company           = $event->getConfig()['company'];
        $lead              = $event->getLead();
        $somethingHappened = false;

        if (!empty($company)) {
            $somethingHappened = $this->leadModel->addToCompany($lead, $company);
        }
    }

    /**
     * @param CampaignExecutionEvent $event]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819386"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>37</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/DataTransformer/TagEntityModelTransformer.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This id attribute is declared but never used. You should remove it.]]></message>
			<context start-line="32" end-line="42"><![CDATA[    private $repository;

    /**
     * @var string
     */
    private $id;

    /**
     * @var bool
     */
    private $isArray;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818967"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>37</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/DataTransformer/UtmTagEntityModelTransformer.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This id attribute is declared but never used. You should remove it.]]></message>
			<context start-line="32" end-line="42"><![CDATA[    private $repository;

    /**
     * @var string
     */
    private $id;

    /**
     * @var bool
     */
    private $isArray;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818862"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/ActionAddUtmTagsType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This factory attribute is declared but never used. You should remove it.]]></message>
			<context start-line="18" end-line="28"><![CDATA[/**
 * Class FormSubmitActionAddUtmTagType.
 */
class ActionAddUtmTagsType extends AbstractType
{
    private $factory;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818693"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>70</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/CampaignEventLeadFieldValueType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This ff use argument is declared but never used. You should remove it.]]></message>
			<context start-line="65" end-line="75"><![CDATA[        $fieldModel = $this->factory->getModel('lead.field');

        $ff = $builder->getFormFactory();

        // function to add 'template' choice field dynamically
        $func = function (FormEvent $e) use ($ff, $fieldModel, $leadModel) {
            $data = $e->getData();
            $form = $e->getForm();

            $fieldValues = null;
            $fieldType   = null;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819355"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>32</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/CompanyType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This security attribute is declared but never used. You should remove it.]]></message>
			<context start-line="27" end-line="37"><![CDATA[{
    use EntityFieldsBuildFormTrait;
    /**
     * @var \Mautic\CoreBundle\Security\Permissions\CorePermissions
     */
    private $security;

    private $em;

    /**
     * @var RouterInterface]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819101"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/FormSubmitActionPointsChangeType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This factory attribute is declared but never used. You should remove it.]]></message>
			<context start-line="18" end-line="28"><![CDATA[/**
 * Class FormSubmitActionPointsChangeType.
 */
class FormSubmitActionPointsChangeType extends AbstractType
{
    private $factory;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819157"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>32</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/LeadType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="27" end-line="37"><![CDATA[ */
class LeadType extends AbstractType
{
    use EntityFieldsBuildFormTrait;

    private $translator;
    private $factory;
    private $companyModel;

    /**
     * @param MauticFactory $factory]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819582"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/EventHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This action argument is declared but never used. You should remove it.]]></message>
			<context start-line="39" end-line="49"><![CDATA[
    /**
     * @param $action
     * @param $factory
     */
    public static function addUtmTags($action, $factory, $config)
    {
        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel = $factory->getModel('lead');
        $lead      = $leadModel->getCurrentLead();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819623"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/EventHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This config argument is declared but never used. You should remove it.]]></message>
			<context start-line="39" end-line="49"><![CDATA[
    /**
     * @param $action
     * @param $factory
     */
    public static function addUtmTags($action, $factory, $config)
    {
        /** @var \Mautic\LeadBundle\Model\LeadModel $leadModel */
        $leadModel = $factory->getModel('lead');
        $lead      = $leadModel->getCurrentLead();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819377"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>71</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/IdentifyCompanyHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This companyEntity local variable is declared but never used. You should remove it.]]></message>
			<context start-line="66" end-line="76"><![CDATA[     * @return array
     */
    public static function findCompany($parameters, CompanyModel $companyModel)
    {
        $companyName   = $companyDomain   = null;
        $companyEntity = null;

        if (isset($parameters['company'])) {
            $companyName = filter_var($parameters['company']);
        } elseif (isset($parameters['email'])) {
            $companyName = $companyDomain = self::domainExists($parameters['email']);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819496"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>127</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/IdentifyCompanyHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This user local variable is declared but never used. You should remove it.]]></message>
			<context start-line="122" end-line="132"><![CDATA[     *
     * @return mixed
     */
    private static function domainExists($email)
    {
        list($user, $domain) = explode('@', $email);
        $arr                 = dns_get_record($domain, DNS_MX);
        if ($arr[0]['host'] == $domain && !empty($arr[0]['target'])) {
            return $arr[0]['target'];
        }
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818748"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>342</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/CompanyModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This persistLists local variable is declared but never used. You should remove it.]]></message>
			<context start-line="337" end-line="347"><![CDATA[            if ($companyLead != null) {
                if ($manuallyAdded && $companyLead->wasManuallyRemoved()) {
                    $companyLead->setManuallyRemoved(false);
                    $companyLead->setManuallyAdded($manuallyAdded);

                    $persistLists[]   = $companyLead;
                    $dispatchEvents[] = $companyId;
                    $companyName      = $companyLeadAdd[$companyId]->getName();
                } else {
                    // Detach from Doctrine
                    $this->em->detach($companyLead);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819317"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>873</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This generated local variable is declared but never used. You should remove it.]]></message>
			<context start-line="868" end-line="878"><![CDATA[            $lead = $this->getEntity($clickthrough['lead']);
            $this->logger->addDebug("LEAD: Contact ID# {$clickthrough['lead']} tracked through clickthrough query.");
        }

        // First determine if this request is already tracked as a specific lead
        list($trackingId, $generated) = $this->getTrackingCookie();

        if (!$leadId = $this->request->cookies->get($trackingId)) {
            $leadId = ('GET' == $this->request->getMethod())
                ?
                $this->request->query->get('mtc_id')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819145"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>2201</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This filter local variable is declared but never used. You should remove it.]]></message>
			<context start-line="2196" end-line="2206"><![CDATA[    {
        $chart = new PieChart();
        $query = new ChartQuery($this->em->getConnection(), $dateFrom, $dateTo);

        if (!$canViewOthers) {
            $filter['owner_id'] = $this->userHelper->getUser()->getId();
        }

        $identified = $query->count('leads', 'date_identified', 'date_added', $filters);
        $all        = $query->count('leads', 'id', 'date_added', $filters);
        $chart->setDataset($this->translator->trans('mautic.lead.identified'), $identified);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819236"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>2226</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This filter local variable is declared but never used. You should remove it.]]></message>
			<context start-line="2221" end-line="2231"><![CDATA[     * @return array
     */
    public function getLeadMapData($dateFrom, $dateTo, $filters = [], $canViewOthers = true)
    {
        if (!$canViewOthers) {
            $filter['owner_id'] = $this->userHelper->getUser()->getId();
        }

        $q = $this->em->getConnection()->createQueryBuilder();
        $q->select('COUNT(t.id) as quantity, t.country')
            ->from(MAUTIC_TABLE_PREFIX.'leads', 't')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818793"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>2330</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This filter local variable is declared but never used. You should remove it.]]></message>
			<context start-line="2325" end-line="2335"><![CDATA[     * @return array
     */
    public function getLeadList($limit = 10, \DateTime $dateFrom = null, \DateTime $dateTo = null, $filters = [], $options = [])
    {
        if (!empty($options['canViewOthers'])) {
            $filter['owner_id'] = $this->userHelper->getUser()->getId();
        }

        $q = $this->em->getConnection()->createQueryBuilder();
        $q->select('t.id, t.firstname, t.lastname, t.email, t.date_added, t.date_modified')
            ->from(MAUTIC_TABLE_PREFIX.'leads', 't')]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819600"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>842</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This lastRoundPercentage local variable is declared but never used. You should remove it.]]></message>
			<context start-line="837" end-line="847"><![CDATA[
        // Ensure the same list is used each batch
        $batchLimiters['maxId'] = (int) $removeLeadCount[$id]['maxId'];

        // Restart batching
        $start     = $lastRoundPercentage     = 0;
        $leadCount = $removeLeadCount[$id]['count'];

        if ($output) {
            $output->writeln($this->translator->trans('mautic.lead.list.rebuild.to_be_removed', ['%leads%' => $leadCount, '%batch%' => $limit]));
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819590"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1410</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This percentage local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1405" end-line="1415"><![CDATA[        }

        $results = $q->execute()->fetchAll();

        foreach ($results as $result) {
            $percentage       = $result['leads'];
            $data['labels'][] = substr($result['stage'], 0, 12);
            $data['values'][] = $result['leads'];
        }
        $data['xAxes'][] = ['display' => true];
        $data['yAxes'][] = ['display' => true];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819591"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1424</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This datasetId local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1419" end-line="1429"><![CDATA[            'data'  => $data['values'],
        ];

        $chart = new BarChart($data['labels']);

        $datasetId  = count($data['values']);
        $datasets[] = array_merge($baseData, $chart->generateColors(3));

        $chartData = [
            'labels'   => $data['labels'],
            'datasets' => $datasets,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819286"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Form/Type/NotificationType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="21" end-line="31"><![CDATA[/**
 * Class NotificationType.
 */
class NotificationType extends AbstractType
{
    private $translator;
    private $em;
    private $request;

    /**
     * @param MauticFactory $factory]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819601"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Form/Type/NotificationType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This em attribute is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[ * Class NotificationType.
 */
class NotificationType extends AbstractType
{
    private $translator;
    private $em;
    private $request;

    /**
     * @param MauticFactory $factory
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818914"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Form/Type/NotificationType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This request attribute is declared but never used. You should remove it.]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class NotificationType extends AbstractType
{
    private $translator;
    private $em;
    private $request;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819080"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>378</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PublicController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This generated local variable is declared but never used. You should remove it.]]></message>
			<context start-line="373" end-line="383"><![CDATA[        $model->hitPage(null, $this->request);

        /** @var LeadModel $leadModel */
        $leadModel = $this->getModel('lead');

        list($lead, $trackingId, $generated) = $leadModel->getCurrentLead(true);

        return new JsonResponse(
            [
                'success' => 1,
                'id'      => $lead->getId(),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818707"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>554</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PublicController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This generated local variable is declared but never used. You should remove it.]]></message>
			<context start-line="549" end-line="559"><![CDATA[        $data = [];
        if ($this->get('mautic.security')->isAnonymous()) {
            /** @var LeadModel $leadModel */
            $leadModel = $this->getModel('lead');

            list($lead, $trackingId, $generated) = $leadModel->getCurrentLead(true);
            $data                                = [
                'id'  => $lead->getId(),
                'sid' => $trackingId,
            ];
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819264"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>152</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/Hit.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This device attribute is declared but never used. You should remove it.]]></message>
			<context start-line="147" end-line="157"><![CDATA[     */
    private $query = [];
    /**
     * @var \Mautic\LeadBundle\Entity\LeadDevice
     */
    private $device;

    /**
     * @param ORM\ClassMetadata $metadata
     */
    public static function loadMetadata(ORM\ClassMetadata $metadata)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819056"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>125</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/HitRepository.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This hits local variable is declared but never used. You should remove it.]]></message>
			<context start-line="120" end-line="130"><![CDATA[                ->setParameter('date', $fromDate);
        }

        $query->andWhere($query->expr()->eq('h.code', (int) $code));

        return $hits = $query->getQuery()->getArrayResult();
    }

    /**
     * Get an array of hits via an email clickthrough.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819611"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>119</line>
			<resource><![CDATA[app/bundles/PageBundle/EventListener/CampaignSubscriber.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This children local variable is declared but never used. You should remove it.]]></message>
			<context start-line="114" end-line="124"><![CDATA[
        $pageHit = $eventDetails->getPage();

        // Check Landing Pages
        if ($pageHit instanceof Page) {
            list($parent, $children) = $pageHit->getVariants();
            //use the parent (self or configured parent)
            $pageHitId = $parent->getId();
        } else {
            $pageHitId = 0;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818790"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/PageBundle/Form/Type/PageType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="29" end-line="39"><![CDATA[class PageType extends AbstractType
{
    /**
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * @var bool|mixed
     */
    private $defaultTheme;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819394"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>82</line>
			<resource><![CDATA[app/bundles/PageBundle/Form/Type/VariantType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This options use argument is declared but never used. You should remove it.]]></message>
			<context start-line="77" end-line="87"><![CDATA[                        ['message' => 'mautic.core.ab_test.winner_criteria.not_blank']
                    ),
                ],
            ]);

            $builder->addEventListener(FormEvents::PRE_SET_DATA, function (FormEvent $event) use ($options, $criteria) {
                $form = $event->getForm();
                $data = $event->getData();
                if (isset($data['winnerCriteria'])) {
                    if (!empty($criteria[$data['winnerCriteria']]['formType'])) {
                        $formTypeOptions = []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819551"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/PointActionHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This pageModel local variable is declared but never used. You should remove it.]]></message>
			<context start-line="30" end-line="40"><![CDATA[    {
        $pageHit = $eventDetails->getPage();

        if ($pageHit instanceof Page) {
            /** @var \Mautic\PageBundle\Model\PageModel $pageModel */
            $pageModel               = $factory->getModel('page');
            list($parent, $children) = $pageHit->getVariants();
            //use the parent (self or configured parent)
            $pageHitId = $parent->getId();
        } else {
            $pageHitId = 0;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819142"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>36</line>
			<resource><![CDATA[app/bundles/PageBundle/Helper/PointActionHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This children local variable is declared but never used. You should remove it.]]></message>
			<context start-line="31" end-line="41"><![CDATA[        $pageHit = $eventDetails->getPage();

        if ($pageHit instanceof Page) {
            /** @var \Mautic\PageBundle\Model\PageModel $pageModel */
            $pageModel               = $factory->getModel('page');
            list($parent, $children) = $pageHit->getVariants();
            //use the parent (self or configured parent)
            $pageHitId = $parent->getId();
        } else {
            $pageHitId = 0;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818775"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>184</line>
			<resource><![CDATA[app/bundles/PluginBundle/Controller/AjaxController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This statusData local variable is declared but never used. You should remove it.]]></message>
			<context start-line="179" end-line="189"><![CDATA[            $helper = $this->factory->getHelper('integration');
            /** @var \Mautic\PluginBundle\Integration\AbstractIntegration $object */
            $object = $helper->getIntegrationObject($integration);

            if ($object) {
                $data           = $statusData           = [];
                $objectSettings = $object->getIntegrationSettings();
                $defaults       = $objectSettings->getFeatureSettings();
                if (method_exists($object, 'getCampaigns')) {
                    $campaigns = $object->getCampaigns();
                    if (isset($campaigns['records']) && !empty($campaigns['records'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819380"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>128</line>
			<resource><![CDATA[app/bundles/PluginBundle/Controller/AuthController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This settings local variable is declared but never used. You should remove it.]]></message>
			<context start-line="123" end-line="133"><![CDATA[        /** @var \Mautic\PluginBundle\Helper\IntegrationHelper $integrationHelper */
        $integrationHelper = $this->factory->getHelper('integration');
        $integrationObject = $integrationHelper->getIntegrationObject($integration);

        $settings['method']      = 'GET';
        $settings['integration'] = $integrationObject->getName();

        /** @var \Mautic\PluginBundle\Integration\AbstractIntegration $integrationObject */
        $event = $this->dispatcher->dispatch(
            PluginEvents::PLUGIN_ON_INTEGRATION_AUTH_REDIRECT,
            new PluginIntegrationAuthRedirectEvent(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819077"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>57</line>
			<resource><![CDATA[app/bundles/PluginBundle/Entity/IntegrationEntity.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This internalEntity attribute is declared but never used. You should remove it.]]></message>
			<context start-line="52" end-line="62"><![CDATA[    private $lastSyncDate;

    /**
     * @var string
     */
    private $internalEntity;

    /**
     * @var int
     */
    private $internalEntityId;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818991"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>158</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FeatureSettingsType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This alertType local variable is declared but never used. You should remove it.]]></message>
			<context start-line="153" end-line="163"><![CDATA[                    'error_bubbling'       => false,
                ]
            );

            if (!empty($integrationCompanyFields)) {
                list($specialInstructions, $alertType) = $integrationObject->getFormNotes('leadfield_match');

                $form->add(
                    'companyFields',
                    'integration_company_fields',
                    []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819362"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>158</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FeatureSettingsType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This specialInstructions local variable is declared but never used. You should remove it.]]></message>
			<context start-line="153" end-line="163"><![CDATA[                    'error_bubbling'       => false,
                ]
            );

            if (!empty($integrationCompanyFields)) {
                list($specialInstructions, $alertType) = $integrationObject->getFormNotes('leadfield_match');

                $form->add(
                    'companyFields',
                    'integration_company_fields',
                    []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818697"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>217</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FieldsTypeTrait.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This object use argument is declared but never used. You should remove it.]]></message>
			<context start-line="212" end-line="222"><![CDATA[    {
        $resolver->setRequired(['integration_fields', 'mautic_fields', 'integration', 'integration_object', 'page']);
        $resolver->setDefined([('lead' === $object) ? 'update_mautic' : 'update_mautic_company']);
        $resolver->setDefaults(
            [
                'special_instructions' => function (Options $options) use ($object) {
                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');

                    return $specialInstructions;
                },
                'alert_type' => function (Options $options) use ($object) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818653"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>218</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FieldsTypeTrait.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This alertType local variable is declared but never used. You should remove it.]]></message>
			<context start-line="213" end-line="223"><![CDATA[        $resolver->setRequired(['integration_fields', 'mautic_fields', 'integration', 'integration_object', 'page']);
        $resolver->setDefined([('lead' === $object) ? 'update_mautic' : 'update_mautic_company']);
        $resolver->setDefaults(
            [
                'special_instructions' => function (Options $options) use ($object) {
                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');

                    return $specialInstructions;
                },
                'alert_type' => function (Options $options) use ($object) {
                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818661"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>222</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FieldsTypeTrait.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This object use argument is declared but never used. You should remove it.]]></message>
			<context start-line="217" end-line="227"><![CDATA[                'special_instructions' => function (Options $options) use ($object) {
                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');

                    return $specialInstructions;
                },
                'alert_type' => function (Options $options) use ($object) {
                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');

                    return $alertType;
                },
                'allow_extra_fields'   => true,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819429"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>223</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FieldsTypeTrait.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This specialInstructions local variable is declared but never used. You should remove it.]]></message>
			<context start-line="218" end-line="228"><![CDATA[                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');

                    return $specialInstructions;
                },
                'alert_type' => function (Options $options) use ($object) {
                    list($specialInstructions, $alertType) = $options['integration_object']->getFormNotes('leadfield_match');

                    return $alertType;
                },
                'allow_extra_fields'   => true,
                'enable_data_priority' => false,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818935"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>87</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/IntegrationsListType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This integration local variable is declared but never used. You should remove it.]]></message>
			<context start-line="82" end-line="92"><![CDATA[        $formModifier = function (FormInterface $form, $data) use ($integrationObjects, $integrationHelper) {
            $statusChoices   = [];
            $campaignChoices = [];

            if (isset($data['integration'])) {
                $integration       = $data['integration'];
                $integrationObject = $integrationHelper->getIntegrationObject($data['integration']);
                if (method_exists($integrationObject, 'getCampaigns')) {
                    $campaigns = $integrationObject->getCampaigns();

                    if (isset($campaigns['records']) && !empty($campaigns['records'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819225"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>516</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This postAuthorization argument is declared but never used. You should remove it.]]></message>
			<context start-line="511" end-line="521"><![CDATA[     * @param string $data
     * @param bool   $postAuthorization
     *
     * @return mixed
     */
    public function parseCallbackResponse($data, $postAuthorization = false)
    {
        if (!$parsed = json_decode($data, true)) {
            parse_str($data, $parsed);
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819307"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>959</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This expiryKey local variable is declared but never used. You should remove it.]]></message>
			<context start-line="954" end-line="964"><![CDATA[                if (!empty($settings['use_refresh_token'])) {
                    // Try refresh token
                    $refreshTokenKeys = $this->getRefreshTokenKeys();

                    if (!empty($refreshTokenKeys)) {
                        list($refreshTokenKey, $expiryKey) = $refreshTokenKeys;

                        $settings['refresh_token'] = $refreshTokenKey;
                    }
                }
                break;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818700"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1202</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This identifier argument is declared but never used. You should remove it.]]></message>
			<context start-line="1197" end-line="1207"><![CDATA[     *
     * @deprecated  To be removed 2.0
     *
     * @return mixed
     */
    public function getUserId($identifier, &$socialCache)
    {
        if (!empty($socialCache['id'])) {
            return $socialCache['id'];
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819560"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>121</line>
			<resource><![CDATA[app/bundles/PointBundle/Event/PointBuilderEvent.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This actions local variable is declared but never used. You should remove it.]]></message>
			<context start-line="116" end-line="126"><![CDATA[    }

    public function getActionChoices()
    {
        $choices = [];
        $actions = $this->getActions();
        foreach ($this->actions as $k => $c) {
            $choices[$c['group']][$k] = $c['label'];
        }

        return $choices;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819494"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/PointBundle/Form/Type/PointType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="30" end-line="40"><![CDATA[    private $security;

    /**
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819543"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/PointBundle/Form/Type/TriggerType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="29" end-line="39"><![CDATA[    private $security;

    /**
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819065"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>794</line>
			<resource><![CDATA[app/bundles/ReportBundle/Controller/ReportController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This name use argument is declared but never used. You should remove it.]]></message>
			<context start-line="789" end-line="799"><![CDATA[        $name    = str_replace(' ', '_', $date).'_'.InputHelper::alphanum($entity->getName(), false, '-');
        $options = ['dateFrom' => new \DateTime($fromDate), 'dateTo' => new \DateTime($toDate)];

        if ($format === 'csv') {
            $response = new HttpFoundation\StreamedResponse(
                function () use ($model, $fromDate, $toDate, $entity, $format, $name, $options) {
                    $options['paginate'] = true;
                    $options['ignoreGraphData'] = true;
                    $options['limit'] =
                    $reportData['totalResults'] = 10000;
                    $options['page'] = 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819211"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>794</line>
			<resource><![CDATA[app/bundles/ReportBundle/Controller/ReportController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This toDate use argument is declared but never used. You should remove it.]]></message>
			<context start-line="789" end-line="799"><![CDATA[        $name    = str_replace(' ', '_', $date).'_'.InputHelper::alphanum($entity->getName(), false, '-');
        $options = ['dateFrom' => new \DateTime($fromDate), 'dateTo' => new \DateTime($toDate)];

        if ($format === 'csv') {
            $response = new HttpFoundation\StreamedResponse(
                function () use ($model, $fromDate, $toDate, $entity, $format, $name, $options) {
                    $options['paginate'] = true;
                    $options['ignoreGraphData'] = true;
                    $options['limit'] =
                    $reportData['totalResults'] = 10000;
                    $options['page'] = 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818860"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>794</line>
			<resource><![CDATA[app/bundles/ReportBundle/Controller/ReportController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This fromDate use argument is declared but never used. You should remove it.]]></message>
			<context start-line="789" end-line="799"><![CDATA[        $name    = str_replace(' ', '_', $date).'_'.InputHelper::alphanum($entity->getName(), false, '-');
        $options = ['dateFrom' => new \DateTime($fromDate), 'dateTo' => new \DateTime($toDate)];

        if ($format === 'csv') {
            $response = new HttpFoundation\StreamedResponse(
                function () use ($model, $fromDate, $toDate, $entity, $format, $name, $options) {
                    $options['paginate'] = true;
                    $options['ignoreGraphData'] = true;
                    $options['limit'] =
                    $reportData['totalResults'] = 10000;
                    $options['page'] = 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819161"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>43</line>
			<resource><![CDATA[app/bundles/ReportBundle/Form/Type/ReportType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="38" end-line="48"><![CDATA[    /**
     * Translator object.
     *
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818814"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>127</line>
			<resource><![CDATA[app/bundles/ReportBundle/Form/Type/ReportType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This tableList use argument is declared but never used. You should remove it.]]></message>
			<context start-line="122" end-line="132"><![CDATA[            );

            /** @var \Mautic\ReportBundle\Model\ReportModel $model */
            $model        = $this->factory->getModel('report');
            $tableList    = $options['table_list'];
            $formModifier = function (FormInterface $form, $source, $currentColumns, $currentGraphs, $formData) use ($model, $tables, $tableList) {
                if (empty($source)) {
                    reset($tables);
                    $firstGroup = key($tables);
                    reset($tables[$firstGroup]);
                    $source = key($tables[$firstGroup]);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819554"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>435</line>
			<resource><![CDATA[app/bundles/ReportBundle/Model/ReportModel.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This report use argument is declared but never used. You should remove it.]]></message>
			<context start-line="430" end-line="440"><![CDATA[                return new Response($content);

            case 'xlsx':
                if (class_exists('PHPExcel')) {
                    $response = new StreamedResponse(
                        function () use ($formatter, $reportData, $report, $name) {
                            $objPHPExcel = new \PHPExcel();
                            $objPHPExcel->getProperties()->setTitle($name);

                            $objPHPExcel->createSheet();
                            $header = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818808"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/SmsBundle/Form/Type/SmsType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="21" end-line="31"><![CDATA[/**
 * Class SmsType.
 */
class SmsType extends AbstractType
{
    private $translator;
    private $em;
    private $request;

    /**
     * @param MauticFactory $factory]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819352"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/SmsBundle/Form/Type/SmsType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This em attribute is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[ * Class SmsType.
 */
class SmsType extends AbstractType
{
    private $translator;
    private $em;
    private $request;

    /**
     * @param MauticFactory $factory
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819455"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/SmsBundle/Form/Type/SmsType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This request attribute is declared but never used. You should remove it.]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class SmsType extends AbstractType
{
    private $translator;
    private $em;
    private $request;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819503"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>121</line>
			<resource><![CDATA[app/bundles/StageBundle/Event/StageBuilderEvent.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This actions local variable is declared but never used. You should remove it.]]></message>
			<context start-line="116" end-line="126"><![CDATA[    }

    public function getActionChoices()
    {
        $choices = [];
        $actions = $this->getActions();
        foreach ($this->actions as $k => $c) {
            $choices[$c['group']][$k] = $c['label'];
        }

        return $choices;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818994"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/StageBundle/Form/Type/StageType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="30" end-line="40"><![CDATA[    private $security;

    /**
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * @param MauticFactory $factory
     */
    public function __construct(MauticFactory $factory)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819509"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/StageBundle/Helper/EventHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This action argument is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param Lead  $lead
     * @param array $action
     *
     * @return int
     */
    public static function engageStageAction($lead, $action)
    {
        static $initiated = [];

        $stagesChange = 0;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819185"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/StageBundle/Helper/EventHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This lead argument is declared but never used. You should remove it.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     * @param Lead  $lead
     * @param array $action
     *
     * @return int
     */
    public static function engageStageAction($lead, $action)
    {
        static $initiated = [];

        $stagesChange = 0;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819433"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>156</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/ProfileController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This cancelled local variable is declared but never used. You should remove it.]]></message>
			<context start-line="151" end-line="161"><![CDATA[
            //check to see if the password needs to be rehashed
            $submittedPassword     = $this->request->request->get('user[plainPassword][password]', null, true);
            $encoder               = $this->get('security.encoder_factory')->getEncoder($me);
            $overrides['password'] = $model->checkNewPassword($me, $encoder, $submittedPassword);
            if (!$cancelled = $this->isFormCancelled($form)) {
                if ($this->isFormValid($form)) {
                    foreach ($overrides as $k => $v) {
                        $func = 'set'.ucfirst($k);
                        $me->$func($v);
                    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818786"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>33</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/PublicController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This isValid local variable is declared but never used. You should remove it.]]></message>
			<context start-line="28" end-line="38"><![CDATA[        $action = $this->generateUrl('mautic_user_passwordreset');
        $form   = $this->get('form.factory')->create('passwordreset', $data, ['action' => $action]);

        ///Check for a submitted form and process it
        if ($this->request->getMethod() == 'POST') {
            if ($isValid = $this->isFormValid($form)) {
                //find the user
                $data = $form->getData();
                $user = $model->getRepository()->findByIdentifier($data['identifier']);

                if ($user == null) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819037"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>77</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/PublicController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This isValid local variable is declared but never used. You should remove it.]]></message>
			<context start-line="72" end-line="82"><![CDATA[            $this->request->getSession()->set('resetToken', $token);
        }

        ///Check for a submitted form and process it
        if ($this->request->getMethod() == 'POST') {
            if ($isValid = $this->isFormValid($form)) {
                //find the user
                $data = $form->getData();
                /** @var \Mautic\UserBundle\Entity\User $user */
                $user = $model->getRepository()->findByIdentifier($data['identifier']);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819488"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>460</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/RoleController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This currentUser local variable is declared but never used. You should remove it.]]></message>
			<context start-line="455" end-line="465"><![CDATA[
        if ($this->request->getMethod() == 'POST') {
            $model       = $this->getModel('user.role');
            $ids         = json_decode($this->request->query->get('ids', ''));
            $deleteIds   = [];
            $currentUser = $this->user;

            // Loop over the IDs to perform access checks pre-delete
            foreach ($ids as $objectId) {
                $entity = $model->getEntity($objectId);
                $users  = $this->get('doctrine.orm.entity_manager')->getRepository('MauticUserBundle:User')->findByRole($entity);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819552"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>44</line>
			<resource><![CDATA[app/bundles/UserBundle/Form/Type/UserType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This em attribute is declared but never used. You should remove it.]]></message>
			<context start-line="39" end-line="49"><![CDATA[    private $supportedLanguages;

    /**
     * @var \Doctrine\ORM\EntityManager
     */
    private $em;

    /**
     * @var \Mautic\UserBundle\Model\UserModel
     */
    private $model;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819357"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/UserBundle/Security/Authentication/AuthenticationHandler.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This session attribute is declared but never used. You should remove it.]]></message>
			<context start-line="23" end-line="33"><![CDATA[use Symfony\Component\Security\Http\Authentication\AuthenticationSuccessHandlerInterface;

class AuthenticationHandler implements AuthenticationSuccessHandlerInterface, AuthenticationFailureHandlerInterface
{
    private $router;
    private $session;

    /**
     * Constructor.
     *
     * @author    Joe Sexton <joe@webtipblog.com>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819060"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>81</line>
			<resource><![CDATA[app/bundles/UserBundle/Security/Authenticator/FormAuthenticator.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This authenticationService local variable is declared but never used. You should remove it.]]></message>
			<context start-line="76" end-line="86"><![CDATA[     * @return UsernamePasswordToken
     */
    public function authenticateToken(TokenInterface $token, UserProviderInterface $userProvider, $providerKey)
    {
        $authenticated         = false;
        $authenticationService = null;
        $response              = null;
        $failedAuthMessage     = null;
        $user                  = $token->getUser();
        $authenticatingService = ($token instanceof PluginToken) ? $token->getAuthenticatingService() : null;
        if (!$user instanceof User) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819452"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>200</line>
			<resource><![CDATA[app/bundles/UserBundle/Security/Provider/UserProvider.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This password local variable is declared but never used. You should remove it.]]></message>
			<context start-line="195" end-line="205"><![CDATA[        if ($plainPassword) {
            // Encode plain text
            $user->setPassword(
                $this->encoder->getEncoder($user)->encodePassword($plainPassword, $user->getSalt())
            );
        } elseif (!$password = $user->getPassword()) {
            // Generate and encode a random password
            $user->setPassword(
                $this->encoder->getEncoder($user)->encodePassword(EncryptionHelper::generateKey(), $user->getSalt())
            );
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818973"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/WebhookBundle/Entity/Event.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This queues attribute is declared but never used. You should remove it.]]></message>
			<context start-line="29" end-line="39"><![CDATA[     */
    private $webhook;
    /**
     * @var ArrayCollection
     */
    private $queues;
    /**
     * @var string
     */
    private $event_type;
    public function __construct()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819524"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>71</line>
			<resource><![CDATA[app/bundles/WebhookBundle/Entity/Webhook.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This removedEvents attribute is declared but never used. You should remove it.]]></message>
			<context start-line="66" end-line="76"><![CDATA[    private $logs;

    /**
     * @var array
     */
    private $removedEvents = [];

    /**
     * @var
     */
    private $payload;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819341"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/WebhookBundle/Form/Type/WebhookType.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This translator attribute is declared but never used. You should remove it.]]></message>
			<context start-line="25" end-line="35"><![CDATA[    /**
     * Translator object.
     *
     * @var \Symfony\Bundle\FrameworkBundle\Translation\Translator
     */
    private $translator;

    /**
     * WebhookType constructor.
     *
     * @param TranslatorInterface $translator]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818802"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>62</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/Controller/PublicController.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This header local variable is declared but never used. You should remove it.]]></message>
			<context start-line="57" end-line="67"><![CDATA[            }
            curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
            curl_setopt($ch, CURLOPT_HEADER, true);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_USERAGENT, $request->server->get('HTTP_USER_AGENT', ''));
            list($header, $contents) = preg_split('/([\r\n][\r\n])\\1/', curl_exec($ch), 2);
            $status                  = curl_getinfo($ch);
            curl_close($ch);
        }

        // Set the JSON data object contents, decoding it from JSON if possible.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819484"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>123</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Helper/LookupHelper.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This website local variable is declared but never used. You should remove it.]]></message>
			<context start-line="118" end-line="128"><![CDATA[     * @param bool    $notify
     * @param bool    $checkAuto
     */
    public function lookupCompany(Company $company, $notify = false, $checkAuto = false)
    {
        if (!$website = $company->getFieldValue('companywebsite')) {
            return;
        }

        /* @var Clearbit_Company $clearbit */
        if ($clearbit = $this->getClearbit(false)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819616"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>10</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/HubspotApi.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This module attribute is declared but never used. You should remove it.]]></message>
			<context start-line="5" end-line="15"><![CDATA[use Mautic\EmailBundle\Helper\MailHelper;
use Mautic\PluginBundle\Exception\ApiErrorException;

class HubspotApi extends CrmApi
{
    private $module = 'contacts';

    protected $requestSettings = [
        'encode_parameters' => 'json',
    ];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818829"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>83</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/CrmAbstractIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This LeadData local variable is declared but never used. You should remove it.]]></message>
			<context start-line="78" end-line="88"><![CDATA[            return false;
        }

        try {
            if ($this->isAuthorized()) {
                $LeadData = $this->getApiHelper()->createLead($mappedData, $lead);

                return true;
            }
        } catch (\Exception $e) {
            $this->logIntegrationError($e);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819384"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>452</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/HubspotIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This stages local variable is declared but never used. You should remove it.]]></message>
			<context start-line="447" end-line="457"><![CDATA[            $stage = $this->factory->getEntityManager()->getRepository('MauticStageBundle:Stage')->getStageByName($stageName);

            if (empty($stage)) {
                $stage = new Stage();
                $stage->setName($stageName);
                $stages[$stageName] = $stage;
            }
            if (!$lead->getStage() && $lead->getStage() != $stage) {
                $lead->setStage($stage);

                //add a contact stage change log]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819329"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>475</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/HubspotIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This updateLink local variable is declared but never used. You should remove it.]]></message>
			<context start-line="470" end-line="480"><![CDATA[                $log->setDateAdded(new \DateTime());
                $lead->stageChangeLog($log);
            }
        }
        $pushData['email'] = $lead->getEmail();
        $this->getApiHelper()->createLead($pushData, $lead, $updateLink = true);
        if ($persist) {
            // Only persist if instructed to do so as it could be that calling code needs to manipulate the lead prior to executing event listeners
            try {
                $leadModel->saveEntity($lead, false);
            } catch (\Exception $exception) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819032"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>375</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This params local variable is declared but never used. You should remove it.]]></message>
			<context start-line="370" end-line="380"><![CDATA[     */
    public function amendLeadDataBeforeMauticPopulate($data, $object)
    {
        $settings['feature_settings']['objects'][] = $object;
        $fields                                    = array_keys($this->getAvailableLeadFields($settings));
        $params['fields']                          = implode(',', $fields);

        $count  = 0;
        $entity = null;
        /** @var IntegrationEntityRepository $integrationEntityRepo */
        $integrationEntityRepo = $this->em->getRepository('MauticPluginBundle:IntegrationEntity');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818948"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>637</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This config local variable is declared but never used. You should remove it.]]></message>
			<context start-line="632" end-line="642"><![CDATA[     *
     * @return int|null
     */
    public function getLeads($params = [], $query = null, &$executed = null, $result = [], $object = 'Lead')
    {
        $config = $this->mergeConfigToFeatureSettings([]);

        if (!$query) {
            $query = $this->getFetchQuery($params);
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818810"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1524</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This objectId local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1519" end-line="1529"><![CDATA[    }

    public function pushLeadToCampaign(Lead $lead, $integrationCampaignId, $status)
    {
        $mauticData = $salesforceIdMapping = [];
        $objectId   = null;
        $all        = [];
        $createLead = false;
        $config     = $this->mergeConfigToFeatureSettings([]);
        /** @var IntegrationEntityRepository $integrationEntityRepo */
        $integrationEntityRepo = $this->em->getRepository('MauticPluginBundle:IntegrationEntity');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818730"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1547</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This campaignMemberInternal local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1542" end-line="1552"><![CDATA[        $url    = '/services/data/v38.0/sobjects/'.$object;
        if ($existingCampaignMember) {
            foreach ($existingCampaignMember as $member) {
                $integrationEntity      = $integrationEntityRepo->getEntity($member['id']);
                $referenceId            = $integrationEntity->getId();
                $campaignMemberInternal = $integrationEntity->getInternal();
                $internalLeadId         = $integrationEntity->getInternalEntityId();
            }
        }

        $queryUrl = $this->getQueryUrl();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819469"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>1561</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This sfObject local variable is declared but never used. You should remove it.]]></message>
			<context start-line="1556" end-line="1566"><![CDATA[        $contactIds    = [];
        $leadIds       = [];

        if (!empty($lead->getEmail())) {
            if (isset($config['objects']) && array_search('Contact', $config['objects'])) {
                $sfObject        = 'Contact';
                $findContact     = 'select Id from Contact where email = \''.$lead->getEmail().'\'';
                $sfRecordContact = $this->getApiHelper()->request('query', ['q' => $findContact], 'GET', false, null, $queryUrl);
                if (!empty($sfRecordContact['records'])) {
                    $sfLeadRecords = $sfRecordContact['records'];
                }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819372"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[plugins/MauticEmailMarketingBundle/Api/IcontactApi.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This version attribute is declared but never used. You should remove it.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Mautic\PluginBundle\Exception\ApiErrorException;

class IcontactApi extends EmailMarketingApi
{
    private $version = '2.2';

    protected function request($endpoint, $parameters = [], $method = 'GET')
    {
        $url = sprintf('%s/%s/c/%s/%s', $this->integration->getApiUrl(), $this->keys['accountId'], $this->keys['clientFolderId'], $endpoint);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818927"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>166</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This sourceParser argument is declared but never used. You should remove it.]]></message>
			<context start-line="161" end-line="171"><![CDATA[        $this->compileImportedProps($top, $parentBlock, $out, $parser, $dir);

        return [true, $bottom, $parser, $dir];
    }

    protected function compileImportedProps($props, $block, $out, $sourceParser, $importDir)
    {
        $oldSourceParser = $this->sourceParser;

        $oldImport = $this->importDir;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819419"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>756</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This argval local variable is declared but never used. You should remove it.]]></message>
			<context start-line="751" end-line="761"><![CDATA[                list(, $path, $args, $suffix) = $prop;

                $orderedArgs = [];
                $keywordArgs = [];
                foreach ((array) $args as $arg) {
                    $argval = null;
                    switch ($arg[0]) {
                        case 'arg':
                            if (!isset($arg[2])) {
                                $orderedArgs[] = $this->reduce(['variable', $arg[1]]);
                            } else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818681"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>126</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Integration/SocialIntegration.php]]></resource>
			<title>Unused method, property, variable or parameter</title>
			<message><![CDATA[This settings local variable is declared but never used. You should remove it.]]></message>
			<context start-line="121" end-line="131"><![CDATA[    /**
     * @param array $settings
     */
    public function getFormCompanyFields($settings = [])
    {
        $settings['feature_settings']['objects'] = ['Company'];
    }

    /**
     * {@inheritdoc}
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819609"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/AjaxController.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\Lead is declared but never used. You should remove the use statement.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Mautic\CampaignBundle\Entity\LeadEventLog;
use Mautic\CampaignBundle\Model\EventLogModel;
use Mautic\CoreBundle\Controller\AjaxController as CommonAjaxController;
use Mautic\CoreBundle\Helper\InputHelper;
use Mautic\LeadBundle\Entity\Lead;
use Symfony\Component\HttpFoundation\Request;

/**
 * Class AjaxController.
 */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818836"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/SourceController.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CampaignBundle\Entity\Source is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\CampaignBundle\Controller;

use Mautic\CampaignBundle\Entity\Source;
use Mautic\CoreBundle\Controller\FormController as CommonFormController;
use Symfony\Component\HttpFoundation\JsonResponse;

class SourceController extends CommonFormController
{]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819213"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>16</line>
			<resource><![CDATA[app/bundles/CampaignBundle/EventListener/ReportSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CoreBundle\Helper\Chart\LineChart is declared but never used. You should remove the use statement.]]></message>
			<context start-line="11" end-line="21"><![CDATA[
namespace Mautic\CampaignBundle\EventListener;

use Mautic\CoreBundle\EventListener\CommonSubscriber;
use Mautic\CoreBundle\Helper\Chart\ChartQuery;
use Mautic\CoreBundle\Helper\Chart\LineChart;
use Mautic\ReportBundle\Event\ReportBuilderEvent;
use Mautic\ReportBundle\Event\ReportGeneratorEvent;
use Mautic\ReportBundle\Event\ReportGraphEvent;
use Mautic\ReportBundle\ReportEvents;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818746"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\LeadList is declared but never used. You should remove the use statement.]]></message>
			<context start-line="23" end-line="33"><![CDATA[use Mautic\CoreBundle\Helper\ProgressBarHelper;
use Mautic\CoreBundle\Model\FormModel as CommonFormModel;
use Mautic\FormBundle\Entity\Form;
use Mautic\FormBundle\Model\FormModel;
use Mautic\LeadBundle\Entity\Lead;
use Mautic\LeadBundle\Entity\LeadList;
use Mautic\LeadBundle\Model\LeadModel;
use Mautic\LeadBundle\Model\ListModel;
use Symfony\Component\Console\Output\OutputInterface;
use Symfony\Component\HttpKernel\Exception\MethodNotAllowedHttpException;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819565"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Event/CategoryTypesEvent.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CategoryBundle\Entity\Category is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\CategoryBundle\Event;

use Mautic\CategoryBundle\Entity\Category;
use Mautic\CoreBundle\Event\CommonEvent;

/**
 * Class CategoryTypesEvent.
 */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819398"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/ConfigBundle/EventListener/ConfigSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\ConfigBundle\ConfigEvents is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\ConfigBundle\EventListener;

use Mautic\ConfigBundle\ConfigEvents;
use Mautic\CoreBundle\EventListener\CommonSubscriber;

/**
 * Class ConfigSubscriber.
 */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819079"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>16</line>
			<resource><![CDATA[app/bundles/CoreBundle/EventListener/EnvironmentSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\UserBundle\Entity\User is declared but never used. You should remove the use statement.]]></message>
			<context start-line="11" end-line="21"><![CDATA[
namespace Mautic\CoreBundle\EventListener;

use Mautic\CoreBundle\Helper\CookieHelper;
use Mautic\CoreBundle\Helper\CoreParametersHelper;
use Mautic\UserBundle\Entity\User;
use Symfony\Component\HttpKernel\Event\GetResponseEvent;
use Symfony\Component\HttpKernel\KernelEvents;

/**
 * Class EnvironmentSubscriber.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819039"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>19</line>
			<resource><![CDATA[app/bundles/CoreBundle/Factory/MauticFactory.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CoreBundle\Templating\Helper\ThemeHelper is declared but never used. You should remove the use statement.]]></message>
			<context start-line="14" end-line="24"><![CDATA[use Doctrine\ORM\EntityManager;
use Mautic\CoreBundle\Entity\IpAddress;
use Mautic\CoreBundle\Exception\FileNotFoundException;
use Mautic\CoreBundle\Helper\DateTimeHelper;
use Mautic\CoreBundle\Model\AbstractCommonModel;
use Mautic\CoreBundle\Templating\Helper\ThemeHelper;
use Mautic\EmailBundle\Helper\MailHelper;
use Mautic\UserBundle\Entity\User;
use Symfony\Bundle\FrameworkBundle\Routing\Router;
use Symfony\Component\DependencyInjection\ContainerInterface;
use Symfony\Component\HttpFoundation\Request;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818819"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/BuilderTokenHelper.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Doctrine\ORM\Query\Expr is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace Mautic\CoreBundle\Helper;

use Doctrine\DBAL\Query\Expression\CompositeExpression;
use Doctrine\ORM\Query\Expr;
use Mautic\CoreBundle\Factory\MauticFactory;

/**
 * Class BuilderTokenHelper.
 */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818665"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CacheHelper.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Symfony\Component\HttpKernel\Kernel is declared but never used. You should remove the use statement.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Symfony\Bundle\FrameworkBundle\Console\Application;
use Symfony\Component\Console\Input\ArgvInput;
use Symfony\Component\Console\Output\NullOutput;
use Symfony\Component\Filesystem\Filesystem;
use Symfony\Component\HttpKernel\Kernel;

/**
 * Class CacheHelper.
 */
class CacheHelper]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818708"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Event/WidgetFormEvent.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\DashboardBundle\Entity\Widget is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace Mautic\DashboardBundle\Event;

use Mautic\CoreBundle\Event\CommonEvent;
use Mautic\DashboardBundle\Entity\Widget;

/**
 * Class WidgetFormEvent.
 */
class WidgetFormEvent extends CommonEvent]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818877"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>16</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Event/WidgetTypeListEvent.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\DashboardBundle\Entity\Widget is declared but never used. You should remove the use statement.]]></message>
			<context start-line="11" end-line="21"><![CDATA[
namespace Mautic\DashboardBundle\Event;

use Mautic\CoreBundle\Event\CommonEvent;
use Mautic\CoreBundle\Security\Permissions\CorePermissions;
use Mautic\DashboardBundle\Entity\Widget;
use Symfony\Component\Translation\TranslatorInterface;

/**
 * Class WidgetTypeListEvent.
 */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819499"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Controller/DynamicContentApiController.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\DynamicContentBundle\Entity\DynamicContent is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace Mautic\DynamicContentBundle\Controller;

use Mautic\CoreBundle\Controller\CommonController;
use Mautic\DynamicContentBundle\Entity\DynamicContent;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\HttpKernel\Exception\HttpException;

/**
 * Class DynamicContentApiController.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819073"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/EmailBundle/Swiftmailer/Transport/ElasticemailTransport.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Joomla\Http\Http is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\EmailBundle\Swiftmailer\Transport;

use Joomla\Http\Http;
use Mautic\CoreBundle\Factory\MauticFactory;
use Mautic\LeadBundle\Entity\DoNotContact;
use Symfony\Component\HttpFoundation\Request;

/**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818857"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/FormBundle/EventListener/CalendarSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CalendarBundle\CalendarEvents is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\FormBundle\EventListener;

use Mautic\CalendarBundle\CalendarEvents;
use Mautic\CalendarBundle\Event\CalendarGeneratorEvent;
use Mautic\CoreBundle\EventListener\CommonSubscriber;
use Mautic\CoreBundle\Helper\DateTimeHelper;

/**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819617"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/FormBundle/Model/SubmissionModel.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\FormBundle\Entity\Result is declared but never used. You should remove the use statement.]]></message>
			<context start-line="20" end-line="30"><![CDATA[use Mautic\CoreBundle\Helper\TemplatingHelper;
use Mautic\CoreBundle\Model\FormModel as CommonFormModel;
use Mautic\FormBundle\Entity\Action;
use Mautic\FormBundle\Entity\Field;
use Mautic\FormBundle\Entity\Form;
use Mautic\FormBundle\Entity\Result;
use Mautic\FormBundle\Entity\Submission;
use Mautic\FormBundle\Event\SubmissionEvent;
use Mautic\FormBundle\Event\ValidationEvent;
use Mautic\FormBundle\Exception\ValidationException;
use Mautic\FormBundle\FormEvents;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819553"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/CustomFieldsApiControllerTrait.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\Company is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\LeadBundle\Controller\Api;

use Mautic\LeadBundle\Entity\Company;
use Mautic\LeadBundle\Entity\CustomFieldEntityInterface;
use Mautic\LeadBundle\Entity\Lead;
use Mautic\LeadBundle\Model\FieldModel;

trait CustomFieldsApiControllerTrait]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818695"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>19</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/ListController.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Symfony\Component\HttpFoundation\RedirectResponse is declared but never used. You should remove the use statement.]]></message>
			<context start-line="14" end-line="24"><![CDATA[use Mautic\CoreBundle\Controller\FormController;
use Mautic\LeadBundle\Entity\LeadList;
use Mautic\LeadBundle\Model\LeadModel;
use Mautic\LeadBundle\Model\ListModel;
use Symfony\Component\HttpFoundation\JsonResponse;
use Symfony\Component\HttpFoundation\RedirectResponse;
use Symfony\Component\HttpFoundation\Response;

class ListController extends FormController
{
    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819305"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>20</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/ListController.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Symfony\Component\HttpFoundation\Response is declared but never used. You should remove the use statement.]]></message>
			<context start-line="15" end-line="25"><![CDATA[use Mautic\LeadBundle\Entity\LeadList;
use Mautic\LeadBundle\Model\LeadModel;
use Mautic\LeadBundle\Model\ListModel;
use Symfony\Component\HttpFoundation\JsonResponse;
use Symfony\Component\HttpFoundation\RedirectResponse;
use Symfony\Component\HttpFoundation\Response;

class ListController extends FormController
{
    /**
     * Generate's default list view.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819440"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>19</line>
			<resource><![CDATA[app/bundles/NotificationBundle/EventListener/PageSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Symfony\Component\Routing\Generator\UrlGeneratorInterface is declared but never used. You should remove the use statement.]]></message>
			<context start-line="14" end-line="24"><![CDATA[use Mautic\CoreBundle\EventListener\CommonSubscriber;
use Mautic\CoreBundle\Helper\CoreParametersHelper;
use Mautic\CoreBundle\Templating\Helper\AssetsHelper;
use Mautic\PageBundle\Event\PageDisplayEvent;
use Mautic\PageBundle\PageEvents;
use Symfony\Component\Routing\Generator\UrlGeneratorInterface;

/**
 * Class PageSubscriber.
 */
class PageSubscriber extends CommonSubscriber]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819135"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Helper/NotificationHelper.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\Lead is declared but never used. You should remove the use statement.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Mautic\CoreBundle\Factory\MauticFactory;
use Mautic\CoreBundle\Helper\CoreParametersHelper;
use Mautic\CoreBundle\Templating\Helper\AssetsHelper;
use Mautic\LeadBundle\Entity\DoNotContact;
use Mautic\LeadBundle\Entity\Lead;
use Symfony\Bundle\FrameworkBundle\Routing\Router;
use Symfony\Component\HttpFoundation\RequestStack;
use Symfony\Component\Routing\Generator\UrlGeneratorInterface;

class NotificationHelper]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818779"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/PageBundle/Entity/PageRepository.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Doctrine\ORM\Query\Expr is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\PageBundle\Entity;

use Doctrine\ORM\Query\Expr;
use Mautic\CoreBundle\Entity\CommonRepository;

/**
 * Class PageRepository.
 */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819635"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[app/bundles/PageBundle/Form/Type/PageType.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\PageBundle\Entity\Page is declared but never used. You should remove the use statement.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Mautic\CoreBundle\Factory\MauticFactory;
use Mautic\CoreBundle\Form\DataTransformer\IdToEntityModelTransformer;
use Mautic\CoreBundle\Form\EventListener\CleanFormSubscriber;
use Mautic\CoreBundle\Form\EventListener\FormExitSubscriber;
use Mautic\PageBundle\Entity\Page;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\Form\FormEvent;
use Symfony\Component\Form\FormEvents;
use Symfony\Component\Form\FormInterface;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819199"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[app/bundles/PageBundle/Model/TrackableModel.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\PageBundle\Entity\Redirect is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace Mautic\PageBundle\Model;

use Mautic\CoreBundle\Model\AbstractCommonModel;
use Mautic\PageBundle\Entity\Redirect;
use Mautic\PageBundle\Entity\Trackable;
use Mautic\PageBundle\Event\UntrackableUrlsEvent;
use Mautic\PageBundle\PageEvents;

/**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819344"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>17</line>
			<resource><![CDATA[app/bundles/PluginBundle/Controller/PluginController.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\PluginBundle\Entity\Integration is declared but never used. You should remove the use statement.]]></message>
			<context start-line="12" end-line="22"><![CDATA[namespace Mautic\PluginBundle\Controller;

use Doctrine\DBAL\Schema\Schema;
use Mautic\CoreBundle\Controller\FormController;
use Mautic\CoreBundle\Helper\InputHelper;
use Mautic\PluginBundle\Entity\Integration;
use Mautic\PluginBundle\Entity\Plugin;
use Mautic\PluginBundle\Event\PluginIntegrationAuthRedirectEvent;
use Mautic\PluginBundle\Event\PluginIntegrationEvent;
use Mautic\PluginBundle\Integration\AbstractIntegration;
use Mautic\PluginBundle\Model\PluginModel;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818838"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[app/bundles/PointBundle/EventListener/LeadSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\PointsChangeLog is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace Mautic\PointBundle\EventListener;

use Mautic\CoreBundle\EventListener\CommonSubscriber;
use Mautic\LeadBundle\Entity\PointsChangeLog;
use Mautic\LeadBundle\Event\LeadEvent;
use Mautic\LeadBundle\Event\LeadMergeEvent;
use Mautic\LeadBundle\Event\LeadTimelineEvent;
use Mautic\LeadBundle\Event\PointsChangeEvent;
use Mautic\LeadBundle\LeadEvents;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819189"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>20</line>
			<resource><![CDATA[app/bundles/PointBundle/Model/PointModel.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\PointBundle\Entity\Action is declared but never used. You should remove the use statement.]]></message>
			<context start-line="15" end-line="25"><![CDATA[use Mautic\CoreBundle\Helper\Chart\LineChart;
use Mautic\CoreBundle\Helper\IpLookupHelper;
use Mautic\CoreBundle\Model\FormModel as CommonFormModel;
use Mautic\LeadBundle\Entity\Lead;
use Mautic\LeadBundle\Model\LeadModel;
use Mautic\PointBundle\Entity\Action;
use Mautic\PointBundle\Entity\LeadPointLog;
use Mautic\PointBundle\Entity\Point;
use Mautic\PointBundle\Event\PointActionEvent;
use Mautic\PointBundle\Event\PointBuilderEvent;
use Mautic\PointBundle\Event\PointEvent;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819273"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/ReportBundle/Form/Type/AggregatorType.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CoreBundle\Translation\Translator is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\ReportBundle\Form\Type;

use Mautic\CoreBundle\Translation\Translator;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\Form\FormInterface;
use Symfony\Component\Form\FormView;
use Symfony\Component\OptionsResolver\OptionsResolverInterface;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819212"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>17</line>
			<resource><![CDATA[app/bundles/ReportBundle/Form/Type/ReportType.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\ReportBundle\Entity\Report is declared but never used. You should remove the use statement.]]></message>
			<context start-line="12" end-line="22"><![CDATA[namespace Mautic\ReportBundle\Form\Type;

use Mautic\CoreBundle\Factory\MauticFactory;
use Mautic\CoreBundle\Form\EventListener\CleanFormSubscriber;
use Mautic\CoreBundle\Form\EventListener\FormExitSubscriber;
use Mautic\ReportBundle\Entity\Report;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\ChoiceList\ChoiceList;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\Form\FormEvent;
use Symfony\Component\Form\FormEvents;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818821"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/ReportBundle/Form/Type/ReportWidgetType.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\ReportBundle\Entity\Report is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\ReportBundle\Form\Type;

use Mautic\ReportBundle\Entity\Report;
use Mautic\ReportBundle\Model\ReportModel;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;

/**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818869"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/SmsBundle/Api/AbstractSmsApi.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Joomla\Http\Http is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\SmsBundle\Api;

use Joomla\Http\Http;
use Mautic\CoreBundle\Factory\MauticFactory;
use Mautic\PageBundle\Model\TrackableModel;

abstract class AbstractSmsApi
{]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818978"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[app/bundles/SmsBundle/Helper/SmsHelper.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\Lead is declared but never used. You should remove the use statement.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Doctrine\ORM\EntityManager;
use libphonenumber\PhoneNumberFormat;
use Mautic\CoreBundle\Helper\PhoneNumberHelper;
use Mautic\LeadBundle\Entity\DoNotContact;
use Mautic\LeadBundle\Entity\Lead;
use Mautic\LeadBundle\Model\LeadModel;
use Mautic\SmsBundle\Model\SmsModel;

class SmsHelper
{]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818757"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>18</line>
			<resource><![CDATA[app/bundles/StageBundle/Model/StageModel.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\StageBundle\Entity\Action is declared but never used. You should remove the use statement.]]></message>
			<context start-line="13" end-line="23"><![CDATA[
use Mautic\CoreBundle\Helper\Chart\ChartQuery;
use Mautic\CoreBundle\Helper\Chart\LineChart;
use Mautic\CoreBundle\Model\FormModel as CommonFormModel;
use Mautic\LeadBundle\Model\LeadModel;
use Mautic\StageBundle\Entity\Action;
use Mautic\StageBundle\Entity\Stage;
use Mautic\StageBundle\Event\StageBuilderEvent;
use Mautic\StageBundle\Event\StageEvent;
use Mautic\StageBundle\StageEvents;
use Symfony\Component\EventDispatcher\Event;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819246"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>17</line>
			<resource><![CDATA[app/migrations/Version20151207000000.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class OpenCloud\Queues\Resource\Message is declared but never used. You should remove the use statement.]]></message>
			<context start-line="12" end-line="22"><![CDATA[namespace Mautic\Migrations;

use Doctrine\DBAL\Migrations\SkipMigrationException;
use Doctrine\DBAL\Schema\Schema;
use Mautic\CoreBundle\Doctrine\AbstractMauticMigration;
use OpenCloud\Queues\Resource\Message;

/**
 * Class Version20151207000000.
 */
class Version20151207000000 extends AbstractMauticMigration]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819314"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>17</line>
			<resource><![CDATA[index.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Symfony\Component\ClassLoader\ApcClassLoader is declared but never used. You should remove the use statement.]]></message>
			<context start-line="12" end-line="22"><![CDATA[
// Fix for hosts that do not have date.timezone set, it will be reset based on users settings
date_default_timezone_set('UTC');

use Mautic\Middleware\MiddlewareBuilder;
use Symfony\Component\ClassLoader\ApcClassLoader;

$loader = require_once __DIR__.'/app/autoload.php';

/*
 * Use APC for autoloading to improve performance. Change 'sf2' to a unique prefix]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818910"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/EventListener/LeadSubscriber.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\LeadBundle\Entity\Lead is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace MauticPlugin\MauticCitrixBundle\EventListener;

use Mautic\CoreBundle\EventListener\CommonSubscriber;
use Mautic\LeadBundle\Entity\Lead;
use Mautic\LeadBundle\Event\LeadListFilteringEvent;
use Mautic\LeadBundle\Event\LeadListFiltersChoicesEvent;
use Mautic\LeadBundle\Event\LeadListFiltersOperatorsEvent;
use Mautic\LeadBundle\Event\LeadTimelineEvent;
use Mautic\LeadBundle\LeadEvents;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818942"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/Form/Type/CitrixCampaignEventType.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\CoreBundle\Translation\Translator is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace MauticPlugin\MauticCitrixBundle\Form\Type;

use Mautic\CoreBundle\Translation\Translator;
use MauticPlugin\MauticCitrixBundle\Helper\CitrixHelper;
use MauticPlugin\MauticCitrixBundle\Helper\CitrixProducts;
use MauticPlugin\MauticCitrixBundle\Model\CitrixModel;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819445"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>7</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class MauticPlugin\MauticCrmBundle\Integration\SalesforceIntegration is declared but never used. You should remove the use statement.]]></message>
			<context start-line="2" end-line="12"><![CDATA[
namespace MauticPlugin\MauticCrmBundle\Api;

use Mautic\PluginBundle\Exception\ApiErrorException;
use MauticPlugin\MauticCrmBundle\Integration\CrmAbstractIntegration;
use MauticPlugin\MauticCrmBundle\Integration\SalesforceIntegration;

/**
 * @property SalesforceIntegration $integration
 */
class SalesforceApi extends CrmApi]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818964"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>19</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/CrmAbstractIntegration.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\UserBundle\Entity\User is declared but never used. You should remove the use statement.]]></message>
			<context start-line="14" end-line="24"><![CDATA[use Mautic\LeadBundle\Entity\Company;
use Mautic\LeadBundle\Entity\Lead;
use Mautic\LeadBundle\Helper\IdentifyCompanyHelper;
use Mautic\PluginBundle\Entity\Integration;
use Mautic\PluginBundle\Integration\AbstractIntegration;
use Mautic\UserBundle\Entity\User;

/**
 * Class CrmAbstractIntegration.
 */
abstract class CrmAbstractIntegration extends AbstractIntegration]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819366"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>14</line>
			<resource><![CDATA[plugins/MauticOutlookBundle/Integration/OutlookIntegration.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Mautic\PluginBundle\Entity\Integration is declared but never used. You should remove the use statement.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace MauticPlugin\MauticOutlookBundle\Integration;

use Mautic\PluginBundle\Entity\Integration;
use Mautic\PluginBundle\Integration\AbstractIntegration;

class OutlookIntegration extends AbstractIntegration
{
    public function getName()]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819166"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="deadcode" ignored="false">
			<line>15</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Form/Type/TwitterAbstractType.php]]></resource>
			<title>Unused use statement should be avoided</title>
			<message><![CDATA[The class Symfony\Component\Form\Extension\Core\ChoiceList\ChoiceList is declared but never used. You should remove the use statement.]]></message>
			<context start-line="10" end-line="20"><![CDATA[ */

namespace MauticPlugin\MauticSocialBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\ChoiceList\ChoiceList;
use Symfony\Component\Form\FormBuilderInterface;

class TwitterAbstractType extends AbstractType
{
    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819130"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>228</line>
			<resource><![CDATA[app/bundles/InstallBundle/Configurator/Step/CheckStep.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="223" end-line="233"><![CDATA[        }

        if (extension_loaded('xdebug')) {
            $cfgValue = ini_get('xdebug.max_nesting_level');

            if (!call_user_func(create_function('$cfgValue', 'return $cfgValue > 100;'), $cfgValue)) {
                $messages[] = 'mautic.install.xdebug.nesting';
            }
        }

        if (!extension_loaded('zip')) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818679"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1354</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="1349" end-line="1359"><![CDATA[                        $config    = $session->get('mautic.lead.import.config');
                        $batchSize = $config['batchlimit'];

                        while ($batchSize && !$file->eof()) {
                            $data = $file->fgetcsv($config['delimiter'], $config['enclosure'], $config['escape']);
                            array_walk($data, create_function('&$val', '$val = trim($val);'));

                            if ($lineNumber === 0) {
                                ++$lineNumber;
                                continue;
                            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819378"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>1489</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/LeadController.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="1484" end-line="1494"><![CDATA[                                        // Get the number of lines so we can track progress
                                        $file->seek(PHP_INT_MAX);
                                        $linecount = $file->key();

                                        if (!empty($headers) && is_array($headers)) {
                                            array_walk($headers, create_function('&$val', '$val = trim($val);'));
                                            $session->set('mautic.lead.import.headers', $headers);
                                            sort($headers);
                                            $headers = array_combine($headers, $headers);
                                            $session->set('mautic.lead.import.step', 2);
                                            $session->set('mautic.lead.import.importfields', $headers);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819479"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>61</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/TagRepository.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="56" end-line="66"><![CDATA[    {
        if (empty($tags)) {
            return [];
        }

        array_walk($tags, create_function('&$val', 'if (strpos($val, "-") === 0) $val = substr($val, 1);'));
        $qb = $this->_em->createQueryBuilder()
            ->select('t')
            ->from('MauticLeadBundle:Tag', 't', 't.tag');

        if ($tags) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819155"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>2003</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="1998" end-line="2008"><![CDATA[            $tags = explode(',', $tags);
        }

        $this->logger->debug('CONTACT: Adding '.implode(', ', $tags).' to contact ID# '.$lead->getId());

        array_walk($tags, create_function('&$val', '$val = trim($val); \Mautic\CoreBundle\Helper\InputHelper::clean($val);'));

        // See which tags already exist
        $foundTags = $this->getTagRepository()->getTagsByName($tags);
        foreach ($tags as $tag) {
            if (strpos($tag, '-') === 0) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819592"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>2039</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="2034" end-line="2044"><![CDATA[        }

        if (!empty($removeTags)) {
            $this->logger->debug('CONTACT: Removing '.implode(', ', $removeTags).' for contact ID# '.$lead->getId());

            array_walk($removeTags, create_function('&$val', '$val = trim($val); \Mautic\CoreBundle\Helper\InputHelper::clean($val);'));

            // See which tags really exist
            $foundRemoveTags = $this->getTagRepository()->getTagsByName($removeTags);

            foreach ($removeTags as $tag) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818917"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>76</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/oAuthHelper.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="71" end-line="81"><![CDATA[            $parameters = array_merge($parameters, $this->settings['query']);
        }

        if (!empty($this->settings['double_encode_basestring_parameters'])) {
            // Parameters must be encoded before going through buildBaseString
            array_walk($parameters, create_function('&$val, $key, $oauth', '$val = $oauth->encode($val);'), $this);
        }

        $signature = array_merge($headers, $parameters);

        $base_info                  = $this->buildBaseString($url, $method, $signature);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819311"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>506</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/Helper/CitrixHelper.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="501" end-line="511"><![CDATA[                $result = self::getG2mApi()->request($product.'s/'.$productId.'/attendees');
                break;

            case CitrixProducts::GOTOTRAINING:
                $reports  = self::getG2tApi()->request($product.'s/'.$productId, [], 'GET', 'rest/reports');
                $sessions = array_map(create_function('$o', 'return $o["sessionKey"];'), $reports);
                foreach ($sessions as $session) {
                    $result = self::getG2tApi()->request(
                        'sessions/'.$session.'/attendees',
                        [],
                        'GET',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819521"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>514</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/Helper/CitrixHelper.php]]></resource>
			<title>Avoid using deprecated PHP functions</title>
			<message><![CDATA[create_function() has been deprecated in PHP 7.2 and will be removed from PHP in the next major version.]]></message>
			<context start-line="509" end-line="519"><![CDATA[                        'sessions/'.$session.'/attendees',
                        [],
                        'GET',
                        'rest/reports'
                    );
                    $arr    = array_map(create_function('$o', 'return $o["email"];'), $result);
                    $result = array_merge($result, $arr);
                }

                break;
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819457"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>2</line>
			<resource><![CDATA[offline.php]]></resource>
			<title>exit() and die() functions should be avoided</title>
			<message><![CDATA[This line stops the execution flow, without explanation. If this is for debug, you should remove it. If this is to deal with an error, use exceptions instead.]]></message>
			<context start-line="1" end-line="7"><![CDATA[<?php
defined('MAUTIC_OFFLINE') or die('access denied');

// Get the URLs base path
$inDev = strpos($_SERVER['SCRIPT_NAME'], 'index_dev.php') !== false;
$base  = str_replace(['index.php', 'index_dev.php'], '', $_SERVER['SCRIPT_NAME']);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819204"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>23</line>
			<resource><![CDATA[offline.php]]></resource>
			<title>exit() and die() functions should be avoided</title>
			<message><![CDATA[This line stops the execution flow, without explanation. If this is for debug, you should remove it. If this is to deal with an error, use exceptions instead.]]></message>
			<context start-line="18" end-line="28"><![CDATA[
// Allow a custom error page
if (file_exists(__DIR__.'/custom_offline.php')) {
    include __DIR__.'/custom_offline.php';

    exit;
}

if (empty($inline)): ?>
<!DOCTYPE html>
<html lang="en">]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819306"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>37</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Command/MonitorTwitterMentionsCommand.php]]></resource>
			<title>exit() and die() functions should be avoided</title>
			<message><![CDATA[This line stops the execution flow, without explanation. If this is for debug, you should remove it. If this is to deal with an error, use exceptions instead.]]></message>
			<context start-line="32" end-line="42"><![CDATA[        // stats
        $stats = $monitor->getStats();

        if (!array_key_exists('handle', $params)) {
            $this->output->writeln('no handle was found!');
            exit();
        }

        // build mentions url
        $mentionsUrl = $this->twitter->getApiUrl('search/tweets');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819002"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>387</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Global variable or function should never be used</title>
			<message><![CDATA[$MAUTIC_AJAX_DIRECT_RENDER adds to the global scope. Prefer class properties or methods to let other developers know what this relates to.]]></message>
			<context start-line="382" end-line="392"><![CDATA[                    $passthrough['route']    = false;
                } else {
                    $newContent = $newContentResponse->getContent();
                }
            } else {
                $GLOBALS['MAUTIC_AJAX_DIRECT_RENDER'] = 1; // for error handling
                $newContent                           = $this->renderView($contentTemplate, $parameters);

                unset($GLOBALS['MAUTIC_AJAX_DIRECT_RENDER']);
            }
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818989"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>582</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>Global variable or function should never be used</title>
			<message><![CDATA[debug_it() adds to the global scope. Prefer class properties or methods to let other developers know what this relates to.]]></message>
			<context start-line="577" end-line="587"><![CDATA[namespace {

    use Mautic\CoreBundle\ErrorHandler\ErrorHandler;

    if (!function_exists('debugIt')) {
        function debug_it($log, ...$context)
        {
            if ('dev' === MAUTIC_ENV) {
                // Only allowing dev mode just in case uses accidentally left in code
                if (count($context) === 1 && true === $context[0]) {
                    ErrorHandler::logDebugEntry($log, $context, true);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818655"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/ReportBundle/Views/Report/details_data.html.php]]></resource>
			<title>Global variable or function should never be used</title>
			<message><![CDATA[getTotal() adds to the global scope. Prefer class properties or methods to let other developers know what this relates to.]]></message>
			<context start-line="18" end-line="28"><![CDATA[$aggregatorOrder = $report->getAggregators();
$aggregatorCount = count($aggregatorOrder);
$groupBy         = $report->getGroupBy();
$groupByCount    = count($groupBy);
$startCount      = ($totalResults > $limit) ? ($reportPage * $limit) - $limit + 1 : 1;
function getTotal($a, $f, $t, $allrows, $ac)
{
    switch ($f) {
        case 'COUNT':
        case 'SUM':
            return (int) $t + (int) $a;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819634"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>1202</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/CampaignModel.php]]></resource>
			<title>sleep() should not be used</title>
			<message><![CDATA[sleep() may create timeouts without even protecting your application.]]></message>
			<context start-line="1197" end-line="1207"><![CDATA[        }

        if ($eventSleepTime < 1) {
            usleep($eventSleepTime * 1000000);
        } else {
            sleep($eventSleepTime);
        }
    }

    /**
     * Get line chart data of leads added to campaigns.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819031"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>2167</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Model/EventModel.php]]></resource>
			<title>sleep() should not be used</title>
			<message><![CDATA[sleep() may create timeouts without even protecting your application.]]></message>
			<context start-line="2162" end-line="2171"><![CDATA[        }

        if ($eventSleepTime < 1) {
            usleep($eventSleepTime * 1000000);
        } else {
            sleep($eventSleepTime);
        }
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819500"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>1219</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/ListModel.php]]></resource>
			<title>sleep() should not be used</title>
			<message><![CDATA[sleep() may create timeouts without even protecting your application.]]></message>
			<context start-line="1214" end-line="1224"><![CDATA[        }

        if ($leadSleepTime < 1) {
            usleep($leadSleepTime * 1000000);
        } else {
            sleep($leadSleepTime);
        }
    }

    /**
     * Get a list of top (by leads added) lists.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818666"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>43</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Services/Clearbit_Base.php]]></resource>
			<title>sleep() should not be used</title>
			<message><![CDATA[sleep() may create timeouts without even protecting your application.]]></message>
			<context start-line="38" end-line="48"><![CDATA[    private function _wait_for_rate_limit()
    {
        $now = new \DateTime();
        if ($this->_next_req_time && $this->_next_req_time->getTimestamp() > $now->getTimestamp()) {
            $t = $this->_next_req_time->getTimestamp() - $now->getTimestamp();
            sleep($t);
        }
    }

    /**
     * @param string $hdr]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819253"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>57</line>
			<resource><![CDATA[plugins/MauticFullContactBundle/Services/FullContact_Base.php]]></resource>
			<title>sleep() should not be used</title>
			<message><![CDATA[sleep() may create timeouts without even protecting your application.]]></message>
			<context start-line="52" end-line="62"><![CDATA[    private function _wait_for_rate_limit()
    {
        $now = new \DateTime();
        if ($this->_next_req_time && $this->_next_req_time->getTimestamp() > $now->getTimestamp()) {
            $t = $this->_next_req_time->getTimestamp() - $now->getTimestamp();
            sleep($t);
        }
    }

    /**
     * @param string $hdr]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818815"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="readability" ignored="false">
			<line>0</line>
			<title>Symfony controller action method should not be too long
			</title>
			<message><![CDATA[47% of all actions have more than 20 lines. This violation is raised when more than 10% actions are too long.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819334"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/oAuth1/SecurityController.php]]></resource>
			<title>The response should be redirected after posting data to an
				action</title>
			<message><![CDATA[The loginAction() method allows POST requests, but does not redirect the user. It is a common best practice to call a redirect after a POST action.]]></message>
			<context start-line="22" end-line="32"><![CDATA[    /**
     * @param Request $request
     *
     * @return Response
     */
    public function loginAction(Request $request)
    {
        $session = $request->getSession();

        //get the login error if there is one
        if ($request->attributes->has(SecurityContext::AUTHENTICATION_ERROR)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818887"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>60</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/oAuth1/SecurityController.php]]></resource>
			<title>The response should be redirected after posting data to an
				action</title>
			<message><![CDATA[The loginCheckAction() method allows POST requests, but does not redirect the user. It is a common best practice to call a redirect after a POST action.]]></message>
			<context start-line="55" end-line="65"><![CDATA[    }

    /**
     * @return Response
     */
    public function loginCheckAction()
    {
        return new Response('', 400);
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819179"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>36</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/oAuth2/AuthorizeController.php]]></resource>
			<title>The response should be redirected after posting data to an
				action</title>
			<message><![CDATA[The authorizeAction() method allows POST requests, but does not redirect the user. It is a common best practice to call a redirect after a POST action.]]></message>
			<context start-line="31" end-line="41"><![CDATA[     * @throws \OAuth2\OAuth2RedirectException
     * @throws AccessDeniedException
     *
     * @author Chris Jones <leeked@gmail.com>
     */
    public function authorizeAction(Request $request)
    {
        $user = $this->container->get('security.context')->getToken()->getUser();

        if (!$user instanceof UserInterface) {
            throw new AccessDeniedException('This user does not have access to this section.');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818844"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/oAuth2/SecurityController.php]]></resource>
			<title>The response should be redirected after posting data to an
				action</title>
			<message><![CDATA[The loginAction() method allows POST requests, but does not redirect the user. It is a common best practice to call a redirect after a POST action.]]></message>
			<context start-line="25" end-line="35"><![CDATA[    /**
     * @param Request $request
     *
     * @return \Symfony\Component\HttpFoundation\Response
     */
    public function loginAction(Request $request)
    {
        $session = $request->getSession();

        //get the login error if there is one
        if ($request->attributes->has(SecurityContext::AUTHENTICATION_ERROR)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819150"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>68</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/oAuth2/SecurityController.php]]></resource>
			<title>The response should be redirected after posting data to an
				action</title>
			<message><![CDATA[The loginCheckAction() method allows POST requests, but does not redirect the user. It is a common best practice to call a redirect after a POST action.]]></message>
			<context start-line="63" end-line="73"><![CDATA[    }

    /**
     * @return Response
     */
    public function loginCheckAction()
    {
        return new Response('', 400);
    }
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819125"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>464</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/CommonApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="459" end-line="469"><![CDATA[    /**
     * @param array $formErrors
     *
     * @return string
     */
    public function getFormErrorMessage(array $formErrors)
    {
        $msg = '';

        if ($formErrors) {
            foreach ($formErrors as $key => $error) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819100"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>498</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/CommonApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="493" end-line="503"><![CDATA[    /**
     * @param Form $form
     *
     * @return array
     */
    public function getFormErrorMessages(Form $form)
    {
        $errors = [];

        foreach ($form->getErrors(true) as $error) {
            if (isset($errors[$error->getOrigin()->getName()])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818975"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>518</line>
			<resource><![CDATA[app/bundles/ApiBundle/Controller/CommonApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="513" end-line="523"><![CDATA[    /**
     * Initialize some variables.
     *
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->security = $this->get('mautic.security');

        if ($this->model && !$this->permissionBase && method_exists($this->model, 'getPermissionBase')) {
            $this->permissionBase = $this->model->getPermissionBase();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818675"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/AssetBundle/Controller/Api/AssetApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="18" end-line="28"><![CDATA[/**
 * Class AssetApiController.
 */
class AssetApiController extends CommonApiController
{
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('asset');
        $this->entityClass      = 'Mautic\AssetBundle\Entity\Asset';
        $this->entityNameOne    = 'asset';
        $this->entityNameMulti  = 'assets';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819462"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/AssetBundle/Controller/UploadController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="18" end-line="28"><![CDATA[class UploadController extends DropzoneController
{
    /**
     * @return \Symfony\Component\HttpFoundation\JsonResponse
     */
    public function upload()
    {
        $request  = $this->container->get('request');
        $response = new EmptyResponse();
        $files    = $this->getFiles($request->files);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818893"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>123</line>
			<resource><![CDATA[app/bundles/CalendarBundle/Controller/AjaxController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="118" end-line="128"><![CDATA[    }

    /**
     * @param $events
     */
    public function checkEventPermissions(&$events)
    {
        $security     = $this->get('mautic.security');
        $modelFactory = $this->get('mautic.model.factory');

        foreach ($events as $key => $event) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819530"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/CampaignApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class CampaignApiController extends CommonApiController
{
    use LeadAccessTrait;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('campaign');
        $this->entityClass      = 'Mautic\CampaignBundle\Entity\Campaign';
        $this->entityNameOne    = 'campaign';
        $this->entityNameMulti  = 'campaigns';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819402"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>210</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/CampaignApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="205" end-line="215"><![CDATA[     *
     * @param array $events
     *
     * @return array
     */
    public function modifyCampaignEventArray($events)
    {
        $updatedEvents = [];

        if ($events && is_array($events)) {
            foreach ($events as $event) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818953"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/EventApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="22" end-line="32"><![CDATA[ */
class EventApiController extends CommonApiController
{
    use LeadAccessTrait;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model                    = $this->getModel('campaign.event');
        $this->entityClass              = 'Mautic\CampaignBundle\Entity\Event';
        $this->entityNameOne            = 'event';
        $this->entityNameMulti          = 'events';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818770"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>46</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="41" end-line="51"><![CDATA[    protected $contact;

    /** @var EventLogModel */
    protected $model;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model                    = $this->getModel('campaign.event_log');
        $this->entityClass              = 'Mautic\CampaignBundle\Entity\LeadEventLog';
        $this->entityNameOne            = 'event';
        $this->entityNameMulti          = 'events';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819087"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>23</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Controller/Api/CategoryApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="18" end-line="28"><![CDATA[/**
 * Class CategoryApiController.
 */
class CategoryApiController extends CommonApiController
{
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('category');
        $this->entityClass      = 'Mautic\CategoryBundle\Entity\Category';
        $this->entityNameOne    = 'category';
        $this->entityNameMulti  = 'categories';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819642"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/ChannelBundle/Controller/Api/MessageApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[/**
 * Class MessageController.
 */
class MessageApiController extends CommonApiController
{
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('channel.message');
        $this->entityClass      = Message::class;
        $this->entityNameOne    = 'message';
        $this->entityNameMulti  = 'messages';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819218"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>60</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AbstractModalFormController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="55" end-line="65"><![CDATA[     * @param      $objectId
     * @param bool $ignorePost
     *
     * @return JsonResponse
     */
    public function editStandard($objectId, $ignorePost = false)
    {
        return $this->processModalAction('edit', $objectId);
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818952"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>70</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AbstractModalFormController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="65" end-line="75"><![CDATA[    /**
     * @param int $objectId
     *
     * @return array|JsonResponse|\Symfony\Component\HttpFoundation\JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function deleteStandard($objectId)
    {
        //ajax only for form fields
        if (!$this->request->isXmlHttpRequest() || !$this->checkActionPermission('delete', $objectId, $objectId)) {
            return $this->modalAccessDenied();
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819132"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/Api/FileApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="29" end-line="39"><![CDATA[    protected $allowedExtensions = [];

    /**
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->entityNameOne     = 'file';
        $this->entityNameMulti   = 'files';
        $this->allowedExtensions = $this->get('mautic.helper.core_parameters')->getParameter('allowed_extensions');
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819534"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/Api/ThemeApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="29" end-line="39"><![CDATA[    protected $themeHelper;

    /**
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->themeHelper = $this->container->get('mautic.helper.theme');

        parent::initialize($event);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818872"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>125</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="120" end-line="130"><![CDATA[    }

    /**
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
    }

    /**
     * Check if a security level is granted.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818900"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>174</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="169" end-line="179"><![CDATA[     * @param array  $path       An array of path parameters
     * @param array  $query      An array of query parameters
     *
     * @return Response A Response instance
     */
    public function forwardWithPost($controller, array $request = [], array $path = [], array $query = [])
    {
        $path['_controller'] = $controller;
        $subRequest          = $this->container->get('request_stack')->getCurrentRequest()->duplicate($query, $request, $path);

        return $this->container->get('http_kernel')->handle($subRequest, HttpKernelInterface::SUB_REQUEST);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819589"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>189</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="184" end-line="194"><![CDATA[     *
     * @param array $args
     *
     * @return JsonResponse|Response
     */
    public function delegateView($args)
    {
        // Used for error handling
        defined('MAUTIC_DELEGATE_VIEW') || define('MAUTIC_DELEGATE_VIEW', 1);

        if (!is_array($args)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819369"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>237</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="232" end-line="242"><![CDATA[     *
     * @param $url
     *
     * @return JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function delegateRedirect($url)
    {
        if ($this->request->isXmlHttpRequest()) {
            return new JsonResponse(['redirect' => $url]);
        } else {
            return $this->redirect($url);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818889"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>278</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="273" end-line="283"><![CDATA[     *
     * @param array $args [returnUrl, viewParameters, contentTemplate, passthroughVars, flashes, forwardController]
     *
     * @return JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function postActionRedirect($args = [])
    {
        $returnUrl = array_key_exists('returnUrl', $args) ? $args['returnUrl'] : $this->generateUrl('mautic_dashboard_index');
        $flashes   = array_key_exists('flashes', $args) ? $args['flashes'] : [];

        //forward the controller by default]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819480"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>447</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="442" end-line="452"><![CDATA[     *
     * @param \Exception $e
     *
     * @return Response
     */
    public function renderException(\Exception $e)
    {
        $exception  = FlattenException::create($e, $e->getCode(), $this->request->headers->all());
        $parameters = ['request' => $this->request, 'exception' => $exception];
        $query      = ['ignoreAjax' => true, 'request' => $this->request, 'subrequest' => true];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819258"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>485</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="480" end-line="490"><![CDATA[     *
     * @return JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse|array
     *
     * @throws AccessDeniedHttpException
     */
    public function accessDenied($batch = false, $msg = 'mautic.core.url.error.401')
    {
        $anonymous = $this->get('mautic.security')->isAnonymous();

        if ($anonymous || !$batch) {
            throw new AccessDeniedHttpException(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819255"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>514</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="509" end-line="519"><![CDATA[     *
     * @param string $msg
     *
     * @return Response
     */
    public function notFound($msg = 'mautic.core.url.error.404')
    {
        return $this->renderException(
            new NotFoundHttpException(
                $this->translator->trans($msg,
                    []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819083"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>534</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="529" end-line="539"><![CDATA[     *
     * @param string $msg
     *
     * @return JsonResponse
     */
    public function modalAccessDenied($msg = 'mautic.core.error.accessdenied')
    {
        return new JsonResponse([
            'error' => $this->translator->trans($msg, [], 'flashes'),
        ]);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819588"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>643</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="638" end-line="648"><![CDATA[     * @param bool|true      $isRead
     * @param null           $header
     * @param null           $iconClass
     * @param \DateTime|null $datetime
     */
    public function addNotification($message, $type = null, $isRead = true, $header = null, $iconClass = null, \DateTime $datetime = null)
    {
        /** @var \Mautic\CoreBundle\Model\NotificationModel $notificationModel */
        $notificationModel = $this->getModel('core.notification');
        $notificationModel->addNotification($message, $type, $isRead, $header, $iconClass, $datetime);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819192"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>657</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="652" end-line="662"><![CDATA[     * @param array  $messageVars
     * @param string $type
     * @param string $domain
     * @param bool   $addNotification
     */
    public function addFlash($message, $messageVars = [], $type = 'notice', $domain = 'flashes', $addNotification = false)
    {
        if ($domain == null) {
            $domain = 'flashes';
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819018"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>707</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="702" end-line="712"><![CDATA[     * @param null   $title
     * @param null   $icon
     * @param bool   $addNotification
     * @param string $type
     */
    public function addBrowserNotification($message, $messageVars = [], $domain = 'flashes', $title = null, $icon = null, $addNotification = true, $type = 'notice')
    {
        if ($domain == null) {
            $domain = 'flashes';
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819313"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>780</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="775" end-line="785"><![CDATA[     * @param       $type
     * @param       $filename
     *
     * @return StreamedResponse
     */
    public function exportResultsAs(array $toExport, $type, $filename)
    {
        if (!in_array($type, ['csv', 'xlsx'])) {
            throw new \InvalidArgumentException($this->translator->trans('mautic.error.invalid.export.type', ['%type%' => $type]));
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818853"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>117</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/FileController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="112" end-line="122"><![CDATA[    /**
     * Get the Media directory full file system path.
     *
     * @return string
     */
    public function getMediaAbsolutePath()
    {
        $mediaDir = realpath($this->get('mautic.helper.paths')->getSystemPath('images', true));

        if ($mediaDir === false) {
            $this->response['error'] = 'Media dir does not exist';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818782"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>139</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/FileController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="134" end-line="144"><![CDATA[    /**
     * Get the Media directory full file system path.
     *
     * @return string
     */
    public function getMediaUrl()
    {
        return $this->request->getScheme().'://'
            .$this->request->getHttpHost()
            .$this->request->getBasePath().'/'
            .$this->coreParametersHelper->getParameter('image_path');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819615"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>71</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/FormController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="66" end-line="76"><![CDATA[     * @param array $args
     * @param       $action
     *
     * @return array
     */
    public function getViewArguments(array $args, $action)
    {
        return $this->customizeViewArguments($args, $action);
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819323"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>84</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/FormController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="79" end-line="89"><![CDATA[     *
     * @deprecated 2.6.0 to be removed in 3.0; use getViewArguments instead
     *
     * @return array
     */
    public function customizeViewArguments($args, $action)
    {
        return $args;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818865"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>87</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/SubscribedEvents/BuilderTokenController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="82" end-line="92"><![CDATA[    }

    /**
     * @return string
     */
    public function getPermissionBase()
    {
        return $this->getViewPermissionBase();
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819393"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>220</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/ThemeController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="215" end-line="225"><![CDATA[    /**
     * Deletes a theme.
     *
     * @return array
     */
    public function deleteTheme($themeName)
    {
        $flashes     = [];
        $themeHelper = $this->container->get('mautic.helper.theme');

        if (!$themeHelper->exists($themeName)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819335"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>269</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/ThemeController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="264" end-line="274"><![CDATA[    /**
     * A helper method to keep the code DRY.
     *
     * @return array
     */
    public function getIndexPostActionVars()
    {
        return [
            'returnUrl'       => $this->generateUrl('mautic_themes_index'),
            'contentTemplate' => 'MauticCoreBundle:theme:index',
            'passthroughVars' => []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818792"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/Api/WidgetApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="22" end-line="32"><![CDATA[/**
 * Class WidgetApiController.
 */
class WidgetApiController extends CommonApiController
{
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('dashboard');
        $this->entityClass      = 'Mautic\DashboardBundle\Entity\Widget';
        $this->entityNameOne    = 'widget';
        $this->entityNameMulti  = 'widgets';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819526"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/DynamicContentBundle/Controller/Api/DynamicContentApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="20" end-line="30"><![CDATA[class DynamicContentApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model           = $this->getModel('dynamicContent');
        $this->entityClass     = 'Mautic\DynamicContentBundle\Entity\DynamicContent';
        $this->entityNameOne   = 'dynamicContent';
        $this->entityNameMulti = 'dynamicContents';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819522"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/Api/EmailApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class EmailApiController extends CommonApiController
{
    use LeadAccessTrait;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('email');
        $this->entityClass      = 'Mautic\EmailBundle\Entity\Email';
        $this->entityNameOne    = 'email';
        $this->entityNameMulti  = 'emails';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818751"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>484</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/PublicController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="479" end-line="489"><![CDATA[
    /**
     * @param $slots
     * @param Email $entity
     */
    public function processSlots($slots, $entity)
    {
        /** @var \Mautic\CoreBundle\Templating\Helper\SlotsHelper $slotsHelper */
        $slotsHelper = $this->factory->getHelper('template.slots');

        $content = $entity->getContent();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819152"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/FormBundle/Controller/Api/FormApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[class FormApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('form');
        $this->entityClass      = 'Mautic\FormBundle\Entity\Form';
        $this->entityNameOne    = 'form';
        $this->entityNameMulti  = 'forms';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818883"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>1097</line>
			<resource><![CDATA[app/bundles/FormBundle/Controller/FormController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="1092" end-line="1102"><![CDATA[    }

    /**
     * Clear field and actions from the session.
     */
    public function clearSessionComponents($sessionId)
    {
        $session = $this->get('session');
        $session->remove('mautic.form.'.$sessionId.'.fields.modified');
        $session->remove('mautic.form.'.$sessionId.'.fields.deleted');
        $session->remove('mautic.form.'.$sessionId.'.fields.leadfields');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818690"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>366</line>
			<resource><![CDATA[app/bundles/FormBundle/Controller/ResultController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="361" end-line="371"><![CDATA[
    /**
     * @param array $args
     * @param       $action
     */
    public function getPostActionRedirectArguments(array $args, $action)
    {
        switch ($action) {
            case 'batchDelete':
                $formId                             = $this->getFormIdFromRequest();
                $args['viewParameters']['objectId'] = $formId;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819275"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>47</line>
			<resource><![CDATA[app/bundles/InstallBundle/Controller/InstallController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="42" end-line="52"><![CDATA[    private $configurator;

    /**
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->configurator = $this->container->get('mautic.configurator');
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819400"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>32</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/CompanyApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="27" end-line="37"><![CDATA[    use CustomFieldsApiControllerTrait, LeadAccessTrait;

    /**
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model              = $this->getModel('lead.company');
        $this->entityClass        = Company::class;
        $this->entityNameOne      = 'company';
        $this->entityNameMulti    = 'companies';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819057"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/DeviceApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class DeviceApiController extends CommonApiController
{
    use LeadAccessTrait;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model           = $this->getModel('lead.device');
        $this->entityClass     = LeadDevice::class;
        $this->entityNameOne   = 'device';
        $this->entityNameMulti = 'devices';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819149"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/FieldApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[ */
class FieldApiController extends CommonApiController
{
    protected $fieldObject;

    public function initialize(FilterControllerEvent $event)
    {
        $this->fieldObject     = $this->request->get('object');
        $this->model           = $this->getModel('lead.field');
        $this->entityClass     = LeadField::class;
        $this->entityNameOne   = 'field';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819072"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/LeadApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="30" end-line="40"><![CDATA[    use FrequencyRuleTrait;

    /**
     * @param FilterControllerEvent $event
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('lead.lead');
        $this->entityClass      = 'Mautic\LeadBundle\Entity\Lead';
        $this->entityNameOne    = 'contact';
        $this->entityNameMulti  = 'contacts';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819026"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/ListApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class ListApiController extends CommonApiController
{
    use LeadAccessTrait;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('lead.list');
        $this->entityClass      = 'Mautic\LeadBundle\Entity\LeadList';
        $this->entityNameOne    = 'list';
        $this->entityNameMulti  = 'lists';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818688"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/LeadBundle/Controller/Api/NoteApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[ */
class NoteApiController extends CommonApiController
{
    use LeadAccessTrait;

    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('lead.note');
        $this->entityClass      = LeadNote::class;
        $this->entityNameOne    = 'note';
        $this->entityNameMulti  = 'notes';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819485"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Controller/Api/NotificationApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[class NotificationApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model           = $this->getModel('notification');
        $this->entityClass     = 'Mautic\NotificationBundle\Entity\Notification';
        $this->entityNameOne   = 'notification';
        $this->entityNameMulti = 'notifications';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819318"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/Api/PageApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="20" end-line="30"><![CDATA[class PageApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('page');
        $this->entityClass      = 'Mautic\PageBundle\Entity\Page';
        $this->entityNameOne    = 'page';
        $this->entityNameMulti  = 'pages';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819638"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>37</line>
			<resource><![CDATA[app/bundles/PointBundle/Controller/Api/PointApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="32" end-line="42"><![CDATA[    protected $leadModel;

    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('point');
        $this->leadModel        = $this->getModel('lead');
        $this->entityClass      = 'Mautic\PointBundle\Entity\Point';
        $this->entityNameOne    = 'point';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819403"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/PointBundle/Controller/Api/TriggerApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[class TriggerApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('point.trigger');
        $this->entityClass      = 'Mautic\PointBundle\Entity\Trigger';
        $this->entityNameOne    = 'trigger';
        $this->entityNameMulti  = 'triggers';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819123"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>611</line>
			<resource><![CDATA[app/bundles/PointBundle/Controller/TriggerController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="606" end-line="616"><![CDATA[    }

    /**
     * Clear field and events from the session.
     */
    public function clearSessionComponents($sessionId)
    {
        $session = $this->get('session');
        $session->remove('mautic.point.'.$sessionId.'.triggerevents.modified');
        $session->remove('mautic.point.'.$sessionId.'.triggerevents.deleted');
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819030"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/ReportBundle/Controller/Api/ReportApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[class ReportApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('report');
        $this->entityClass      = 'Mautic\ReportBundle\Entity\Report';
        $this->entityNameOne    = 'report';
        $this->entityNameMulti  = 'reports';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819251"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>26</line>
			<resource><![CDATA[app/bundles/SmsBundle/Controller/Api/SmsApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="21" end-line="31"><![CDATA[class SmsApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model           = $this->getModel('sms');
        $this->entityClass     = 'Mautic\SmsBundle\Entity\Sms';
        $this->entityNameOne   = 'sms';
        $this->entityNameMulti = 'smses';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819041"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>30</line>
			<resource><![CDATA[app/bundles/StageBundle/Controller/Api/StageApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="25" end-line="35"><![CDATA[    use LeadAccessTrait;

    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('stage');
        $this->entityClass      = 'Mautic\StageBundle\Entity\Stage';
        $this->entityNameOne    = 'stage';
        $this->entityNameMulti  = 'stages';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819257"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>25</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/Api/RoleApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="20" end-line="30"><![CDATA[class RoleApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('user.role');
        $this->entityClass      = 'Mautic\UserBundle\Entity\Role';
        $this->entityNameOne    = 'role';
        $this->entityNameMulti  = 'roles';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818908"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/Api/UserApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[class UserApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model            = $this->getModel('user.user');
        $this->entityClass      = 'Mautic\UserBundle\Entity\User';
        $this->entityNameOne    = 'user';
        $this->entityNameMulti  = 'users';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819203"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>136</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/Api/UserApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="131" end-line="141"><![CDATA[        }

        return $this->processForm($entity, $parameters, $method);
    }

    public function preSaveEntity(&$entity, $form, $parameters, $action = 'edit')
    {
        switch ($action) {
            case 'new':
                $submittedPassword = null;
                if (isset($parameters['plainPassword'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818890"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>28</line>
			<resource><![CDATA[app/bundles/UserBundle/Controller/SecurityController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="23" end-line="33"><![CDATA[class SecurityController extends CommonController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        /** @var \Symfony\Component\Security\Core\Authorization\AuthorizationChecker $authChecker */
        $authChecker = $this->get('security.authorization_checker');

        //redirect user if they are already authenticated]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819581"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>82</line>
			<resource><![CDATA[app/bundles/WebhookBundle/Controller/AjaxController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="77" end-line="87"><![CDATA[     * Get an array of all the payload paths we need to load
     *
     * @param $types array
     * @return array
     */
    public function getPayloadPaths($types)
    {
        $payloadPaths = [];

        foreach ($types as $type) {
            // takes an input like mautic.lead_on_something]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819303"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>127</line>
			<resource><![CDATA[app/bundles/WebhookBundle/Controller/AjaxController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="122" end-line="132"><![CDATA[     * Iterate through the paths and get the json payloads
     *
     * @param  $paths array
     * @return $payload array
     */
    public function loadPayloads($paths)
    {
        $payloads = [];

        foreach ($paths as $key => $path) {
            if (file_exists($path)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818788"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>31</line>
			<resource><![CDATA[plugins/MauticClearbitBundle/Controller/PublicController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="26" end-line="36"><![CDATA[     * @param string    $message   Message of the notification
     * @param string    $header    Header for message
     * @param string    $iconClass Font Awesome CSS class for the icon (e.g. fa-eye)
     * @param User|null $user      User object; defaults to current user
     */
    public function addNewNotification($message, $header, $iconClass, User $user)
    {
        /** @var \Mautic\CoreBundle\Model\NotificationModel $notificationModel */
        $notificationModel = $this->getModel('core.notification');
        $notificationModel->addNotification($message, 'FullContact', false, $header, $iconClass, null, $user);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818988"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>119</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Controller/FocusController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="114" end-line="124"><![CDATA[
    /**
     * @param $args
     * @param $view
     */
    public function customizeViewArguments($args, $view)
    {
        if ($view == 'view') {
            /** @var \MauticPlugin\MauticFocusBundle\Entity\Focus $item */
            $item = $args['viewParameters']['item'];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818726"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>31</line>
			<resource><![CDATA[plugins/MauticFullContactBundle/Controller/PublicController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="26" end-line="36"><![CDATA[     * @param string    $message   Message of the notification
     * @param string    $header    Header for message
     * @param string    $iconClass Font Awesome CSS class for the icon (e.g. fa-eye)
     * @param User|null $user      User object; defaults to current user
     */
    public function addNewNotification($message, $header, $iconClass, User $user)
    {
        /** @var \Mautic\CoreBundle\Model\NotificationModel $notificationModel */
        $notificationModel = $this->getModel('core.notification');
        $notificationModel->addNotification($message, 'FullContact', false, $header, $iconClass, null, $user);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819358"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>25</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Controller/Api/TweetApiController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="20" end-line="30"><![CDATA[class TweetApiController extends CommonApiController
{
    /**
     * {@inheritdoc}
     */
    public function initialize(FilterControllerEvent $event)
    {
        $this->model           = $this->getModel('social.tweet');
        $this->entityClass     = 'MauticPlugin\MauticSocialBundle\Entity\Tweet';
        $this->entityNameOne   = 'tweet';
        $this->entityNameMulti = 'tweets';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819639"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>659</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Controller/MonitoringController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="654" end-line="664"><![CDATA[    }

    /*
     * Update the audit log
     */
    public function updateAuditLog(Monitoring $monitoring, $action)
    {
        $log = [
            'bundle'    => 'plugin.mauticSocial',
            'object'    => 'monitoring',
            'objectId'  => $monitoring->getId(),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819049"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>106</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Controller/TweetController.php]]></resource>
			<title>Public methods in controller classes should only be actions
			</title>
			<message><![CDATA[Non-action public method found in controller class]]></message>
			<context start-line="101" end-line="111"><![CDATA[    /**
     * Get updateSelect value from request.
     *
     * @return string|bool
     */
    public function getUpdateSelect()
    {
        return ($this->request->getMethod() == 'POST')
            ? $this->request->request->get('twitter_tweet[updateSelect]', false, true)
            : $this->request->get('updateSelect', false);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818837"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>84</line>
			<resource><![CDATA[app/bundles/CoreBundle/Doctrine/AbstractMauticMigration.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="79" end-line="89"><![CDATA[    }

    /**
     * {@inheritdoc}
     */
    public function setContainer(ContainerInterface $container = null)
    {
        $this->container = $container;
        $this->prefix    = $container->getParameter('mautic.db_table_prefix');
        $this->platform  = $this->connection->getDatabasePlatform()->getName();
        $this->factory   = $container->get('mautic.factory');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819229"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>52</line>
			<resource><![CDATA[app/bundles/CoreBundle/Factory/MauticFactory.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="47" end-line="57"><![CDATA[    private $entityManager = null;

    /**
     * @param ContainerInterface $container
     */
    public function __construct(ContainerInterface $container)
    {
        $this->container = $container;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818895"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CoreBundle/Factory/ModelFactory.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="22" end-line="32"><![CDATA[    /**
     * ModelFactory constructor.
     *
     * @param ContainerInterface $container
     */
    public function __construct(ContainerInterface $container)
    {
        $this->container = $container;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819116"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>82</line>
			<resource><![CDATA[app/bundles/CoreBundle/Templating/Engine/PhpEngine.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="77" end-line="87"><![CDATA[     * @param Stopwatch|GlobalVariables   $delegateStopWatch
     * @param GlobalVariables|null        $globals
     */
    public function __construct(
        TemplateNameParserInterface $parser,
        ContainerInterface $container,
        LoaderInterface $loader,
        $delegateStopWatch,
        GlobalVariables $globals = null
    ) {
        if ($delegateStopWatch instanceof Stopwatch) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819304"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>38</line>
			<resource><![CDATA[app/bundles/InstallBundle/InstallFixtures/ORM/LeadFieldData.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="33" end-line="43"><![CDATA[    private $container;

    /**
     * {@inheritdoc}
     */
    public function setContainer(ContainerInterface $container = null)
    {
        $this->container = $container;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818764"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>35</line>
			<resource><![CDATA[app/bundles/InstallBundle/InstallFixtures/ORM/LoadReportData.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="30" end-line="40"><![CDATA[    private $container;

    /**
     * {@inheritdoc}
     */
    public function setContainer(ContainerInterface $container = null)
    {
        $this->container = $container;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818934"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>34</line>
			<resource><![CDATA[app/bundles/InstallBundle/InstallFixtures/ORM/RoleData.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="29" end-line="39"><![CDATA[    private $container;

    /**
     * {@inheritdoc}
     */
    public function setContainer(ContainerInterface $container = null)
    {
        $this->container = $container;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819200"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>41</line>
			<resource><![CDATA[app/migrations/Version20170323111702.php]]></resource>
			<title>The Symfony Dependency Injection Container should not be
				passed as an argument</title>
			<message><![CDATA[A Symfony dependency injection container has been found as an argument.]]></message>
			<context start-line="36" end-line="46"><![CDATA[    protected $tweetCache = [];

    /**
     * {@inheritdoc}
     */
    public function setContainer(ContainerInterface $container = null)
    {
        parent::setContainer($container);

        $this->tableName = sprintf('%s%s', $this->prefix, 'tweets');
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818714"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>169</line>
			<resource><![CDATA[app/bundles/CoreBundle/EventListener/CommonSubscriber.php]]></resource>
			<title>The Doctrine Entity Manager should not be passed as an
				argument</title>
			<message><![CDATA[A Doctrine entity manager has been found as an argument.]]></message>
			<context start-line="164" end-line="174"><![CDATA[    }

    /**
     * @param EntityManager $entityManager
     */
    public function setEntityManager(EntityManager $entityManager)
    {
        $this->em = $entityManager;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819578"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>123</line>
			<resource><![CDATA[app/bundles/CoreBundle/EventListener/StatsSubscriber.php]]></resource>
			<title>The Doctrine Entity Manager should not be passed as an
				argument</title>
			<message><![CDATA[A Doctrine entity manager has been found as an argument.]]></message>
			<context start-line="118" end-line="128"><![CDATA[     * @param EntityManager $em
     * @param               $repoNames
     *
     * @return $this
     */
    protected function addContactRestrictedRepositories(EntityManager $em, $repoNames)
    {
        return $this->addRestrictedRepostories($em, $repoNames, ['lead' => 'lead:leads']);
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818667"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>133</line>
			<resource><![CDATA[app/bundles/CoreBundle/EventListener/StatsSubscriber.php]]></resource>
			<title>The Doctrine Entity Manager should not be passed as an
				argument</title>
			<message><![CDATA[A Doctrine entity manager has been found as an argument.]]></message>
			<context start-line="128" end-line="138"><![CDATA[    /**
     * @param EntityManager $em
     * @param               $repoNames
     * @param array         $permissions
     */
    protected function addRestrictedRepostories(EntityManager $em, $repoNames, array $permissions)
    {
        if (!is_array($repoNames)) {
            $repoNames = [$repoNames];
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818940"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>126</line>
			<resource><![CDATA[app/bundles/CoreBundle/Factory/MauticFactory.php]]></resource>
			<title>The Doctrine Entity Manager should not be passed as an
				argument</title>
			<message><![CDATA[A Doctrine entity manager has been found as an argument.]]></message>
			<context start-line="121" end-line="131"><![CDATA[    }

    /**
     * @param EntityManager $em
     */
    public function setEntityManager(EntityManager $em)
    {
        $this->entityManager = $em;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818898"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>88</line>
			<resource><![CDATA[app/bundles/CoreBundle/Model/AbstractCommonModel.php]]></resource>
			<title>The Doctrine Entity Manager should not be passed as an
				argument</title>
			<message><![CDATA[A Doctrine entity manager has been found as an argument.]]></message>
			<context start-line="83" end-line="93"><![CDATA[    protected $logger;

    /**
     * @param EntityManager $em
     */
    public function setEntityManager(EntityManager $em)
    {
        $this->em = $em;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818884"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>75</line>
			<resource><![CDATA[app/bundles/InstallBundle/Helper/SchemaHelper.php]]></resource>
			<title>The Doctrine Entity Manager should not be passed as an
				argument</title>
			<message><![CDATA[A Doctrine entity manager has been found as an argument.]]></message>
			<context start-line="70" end-line="80"><![CDATA[    }

    /**
     * @param EntityManager $em
     */
    public function setEntityManager(EntityManager $em)
    {
        $this->em = $em;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818833"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>64</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="59" end-line="69"><![CDATA[        /**
         * ErrorHandler constructor.
         */
        public function __construct()
        {
            self::$root = realpath(__DIR__.'/../../../../');
        }

        /**
         * @param        $log
         * @param string $context]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819209"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>95</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="90" end-line="100"><![CDATA[                $debug = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS);
                if (true === $backtrace) {
                    $context['trace'] = array_slice($debug, 1, 5);
                }

                if ($debug[0]['file'] === __FILE__) {
                    $file             = $debug[1];
                    $file['function'] = $debug[2]['function'];
                } else {
                    $file             = $debug[1];
                    $file['function'] = $debug[1]['function'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818843"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>530</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="525" end-line="535"><![CDATA[
            defined('MAUTIC_OFFLINE') or define('MAUTIC_OFFLINE', 1);

            try {
                ob_start();
                include __DIR__.'/../../../../offline.php';
                $content = ob_get_clean();
            } catch (\Exception $exception) {
                return $exception->getMessage();
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819320"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>351</line>
			<resource><![CDATA[app/bundles/InstallBundle/Controller/InstallController.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="346" end-line="356"><![CDATA[     * @return array|bool Array containing the flash message data on a failure, boolean true on success
     */
    private function installDatabaseFixtures()
    {
        $entityManager = $this->get('doctrine.orm.entity_manager');
        $paths         = [dirname(__DIR__).'/InstallFixtures/ORM'];
        $loader        = new ContainerAwareLoader($this->container);

        foreach ($paths as $path) {
            if (is_dir($path)) {
                $loader->loadFromDirectory($path);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819046"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>45</line>
			<resource><![CDATA[app/bundles/InstallBundle/InstallFixtures/ORM/LoadReportData.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="40" end-line="50"><![CDATA[    /**
     * @param ObjectManager $manager
     */
    public function load(ObjectManager $manager)
    {
        $reports = CsvHelper::csv_to_array(__DIR__.'/fakereportdata.csv');
        foreach ($reports as $count => $rows) {
            $report = new Report();
            $key    = $count + 1;
            foreach ($rows as $col => $val) {
                if ($val != 'NULL') {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819095"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>164</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormFieldHelper.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="159" end-line="169"><![CDATA[    /**
     * @return array
     */
    public static function getCountryChoices()
    {
        $countryJson = file_get_contents(__DIR__.'/../../CoreBundle/Assets/json/countries.json');
        $countries   = json_decode($countryJson);

        $choices = array_combine($countries, $countries);

        return $choices;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818909"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>177</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/FormFieldHelper.php]]></resource>
			<title>Absolute path constants __DIR__ and __FILE__ should not be
				used</title>
			<message><![CDATA[__DIR__ and __FILE__ constants may conflict with the Symfony resource overriding system]]></message>
			<context start-line="172" end-line="182"><![CDATA[    /**
     * @return array
     */
    public static function getRegionChoices()
    {
        $regionJson = file_get_contents(__DIR__.'/../../CoreBundle/Assets/json/regions.json');
        $regions    = json_decode($regionJson);

        $choices = [];
        foreach ($regions as $country => &$regionGroup) {
            $choices[$country] = array_combine($regionGroup, $regionGroup);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818830"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>0</line>
			<resource><![CDATA[app/bundles/InstallBundle/Configurator/Form]]></resource>
			<title>Form types should be in Form/Type folders</title>
			<message><![CDATA[A form type has been found outside Form/Type folder]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819163"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>0</line>
			<resource><![CDATA[app/bundles/InstallBundle/Configurator/Form]]></resource>
			<title>Form types should be in Form/Type folders</title>
			<message><![CDATA[A form type has been found outside Form/Type folder]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818778"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>0</line>
			<resource><![CDATA[app/bundles/InstallBundle/Configurator/Form]]></resource>
			<title>Form types should be in Form/Type folders</title>
			<message><![CDATA[A form type has been found outside Form/Type folder]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819622"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>0</line>
			<resource><![CDATA[app/bundles/InstallBundle/Configurator/Form]]></resource>
			<title>Form types should be in Form/Type folders</title>
			<message><![CDATA[A form type has been found outside Form/Type folder]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819139"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>312</line>
			<resource><![CDATA[app/bundles/CoreBundle/Configurator/Configurator.php]]></resource>
			<title>Include statements should not be used</title>
			<message><![CDATA[Using include() or require() bypasses lazy-loading of third-party classes. Prefer using autoloading.]]></message>
			<context start-line="307" end-line="317"><![CDATA[    {
        if (!file_exists($this->filename)) {
            return [];
        }

        include $this->filename;

        // Return the $parameters array defined in the file
        return isset($parameters) ? $parameters : [];
    }
}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818897"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="true">
			<line>223</line>
			<resource><![CDATA[app/bundles/CoreBundle/Factory/MauticFactory.php]]></resource>
			<title>Method Request::createFromGlobals should not be used</title>
			<message><![CDATA[Request::createFromGlobals() shouldn't be used outside of the front controller]]></message>
			<context start-line="218" end-line="228"><![CDATA[    public function getRequest()
    {
        $request = $this->container->get('request_stack')->getCurrentRequest();
        if (empty($request)) {
            //likely in a test as the request is not populated for outside the container
            $request      = Request::createFromGlobals();
            $requestStack = new RequestStack();
            $requestStack->push($request);
            $this->requestStack = $requestStack;
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=ignored#516818744"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>204</line>
			<resource><![CDATA[app/bundles/CoreBundle/Test/MauticWebTestCase.php]]></resource>
			<title>Method Request::createFromGlobals should not be used</title>
			<message><![CDATA[Request::createFromGlobals() shouldn't be used outside of the front controller]]></message>
			<context start-line="199" end-line="209"><![CDATA[        static::$kernel = static::createKernel();
        static::$kernel->boot();
        $this->container = static::$kernel->getContainer();

        //setup the request stack
        $request      = Request::createFromGlobals();
        $requestStack = new RequestStack();
        $requestStack->push($request);
        $this->container->set('request_stack', $requestStack);

        $command = new \Mautic\CoreBundle\Command\InstallDataCommand();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818831"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_api_dynamicContent_action" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819408"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_email_tracker" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819235"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_secure_root_slash" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819555"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_js" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819443"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_email_webview" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819593"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_base_index" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819577"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_email_unsubscribe" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819640"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_form_preview" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819436"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_secure_root" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818947"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_plugin_tracker" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818945"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_mailer_transport_callback" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818685"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_form_postmessage" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819536"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_email_resubscribe" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819396"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_email_preview" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818747"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_form_postresults_ajax" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=new#516819573"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_api_dynamicContent_index" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818886"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_form_generateform" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819439"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_installer_home" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=new#516818827"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_form_embed" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818749"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_asset_download" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818722"
				rel="self" type="text/html" />
		</violation>
		<violation severity="info" category="security" ignored="false">
			<line>0</line>
			<title>A route should always have a valid HTTP method</title>
			<message><![CDATA[The route "mautic_form_postresults" should have a routing method (GET/POST/PUT). It is mandatory.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818715"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="deadcode" ignored="false">
			<line>0</line>
			<title>Routes should reference existing actions</title>
			<message><![CDATA[The route mautic_integration_companies references a controller MauticPlugin\MauticCrmBundle\Controller\PublicController::companyDataAction that doesn't exist (the controller method does not exist).]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819482"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>490</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/CommonController.php]]></resource>
			<title>Symfony applications should not throw
				AccessDeniedHttpException</title>
			<message><![CDATA[The AccessDeniedHttpException bypasses the Symfony Security component and always results in a 403 response. You should throw AccessDeniedException (without Http) instead, so that the Security Component displays a login form.]]></message>
			<context start-line="485" end-line="495"><![CDATA[    public function accessDenied($batch = false, $msg = 'mautic.core.url.error.401')
    {
        $anonymous = $this->get('mautic.security')->isAnonymous();

        if ($anonymous || !$batch) {
            throw new AccessDeniedHttpException(
                $this->translator->trans($msg,
                    [
                        '%url%' => $this->request->getRequestUri(),
                    ]
                )]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818930"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>214</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>PHP response functions should not be used</title>
			<message><![CDATA[Using PHP response functions (like header() here) is discouraged, as it bypasses the Symfony event system. Use the HttpFoundation Response class instead.]]></message>
			<context start-line="209" end-line="219"><![CDATA[            if ($returnContent) {
                return $content;
            }

            if (!empty($GLOBALS['MAUTIC_AJAX_DIRECT_RENDER'])) {
                header('Content-Type: application/json');
                $content = json_encode(['newContent' => $content]);
            }

            echo $content;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819214"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>507</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>PHP response functions should not be used</title>
			<message><![CDATA[Using PHP response functions (like header() here) is discouraged, as it bypasses the Symfony event system. Use the HttpFoundation Response class instead.]]></message>
			<context start-line="502" end-line="512"><![CDATA[                    foreach ($dataArray['trace'] as &$trace) {
                        unset($trace['args']);
                    }
                }

                header('Content-Type: application/json');

                return json_encode($dataArray);
            }

            if (self::$environment == 'dev' || $this->displayErrors) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819288"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>64</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/CookieHelper.php]]></resource>
			<title>PHP response functions should not be used</title>
			<message><![CDATA[Using PHP response functions (like setcookie() here) is discouraged, as it bypasses the Symfony event system. Use the HttpFoundation Response class instead.]]></message>
			<context start-line="59" end-line="69"><![CDATA[    {
        if ($this->request == null) {
            return true;
        }

        setcookie(
            $name,
            $value,
            ($expire) ? time() + $expire : null,
            ($path == null) ? $this->path : $path,
            ($domain == null) ? $this->domain : $domain,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819527"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>73</line>
			<resource><![CDATA[app/bundles/CoreBundle/EventListener/EnvironmentSubscriber.php]]></resource>
			<title>PHP session functions should not be used</title>
			<message><![CDATA[Using PHP session functions (like session_name() here) is discouraged, as it breaks many Symfony features (like security, flash messages, and CSRF protection).]]></message>
			<context start-line="68" end-line="78"><![CDATA[        // Set date/time
        date_default_timezone_set($request->getSession()->get('_timezone', $this->params['default_timezone']));

        // Set a cookie with session name for filemanager
        $sessionName = $request->cookies->get('mautic_session_name');
        if ($sessionName != session_name()) {
            $this->cookieHelper->setCookie('mautic_session_name', session_name(), null);
        }
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818892"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>74</line>
			<resource><![CDATA[app/bundles/CoreBundle/EventListener/EnvironmentSubscriber.php]]></resource>
			<title>PHP session functions should not be used</title>
			<message><![CDATA[Using PHP session functions (like session_name() here) is discouraged, as it breaks many Symfony features (like security, flash messages, and CSRF protection).]]></message>
			<context start-line="69" end-line="79"><![CDATA[        date_default_timezone_set($request->getSession()->get('_timezone', $this->params['default_timezone']));

        // Set a cookie with session name for filemanager
        $sessionName = $request->cookies->get('mautic_session_name');
        if ($sessionName != session_name()) {
            $this->cookieHelper->setCookie('mautic_session_name', session_name(), null);
        }
    }

    /**
     * Set default locale.]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818742"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>94</line>
			<resource><![CDATA[app/AppKernel.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="89" end-line="99"><![CDATA[        if (defined('MAUTIC_INSTALLER')) {
            $uri = $request->getRequestUri();
            if (strpos($uri, 'installer') === false) {
                $base = $request->getBaseUrl();
                //check to see if the .htaccess file exists or if not running under apache
                if ((strpos(strtolower($_SERVER['SERVER_SOFTWARE']), 'apache') === false
                    || !file_exists(__DIR__.'../.htaccess')
                    && strpos(
                        $base,
                        'index'
                    ) === false)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818929"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>473</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="468" end-line="478"><![CDATA[                        $error['trace']
                    );
                }
            }

            $isAjax = (isset($_SERVER['HTTP_X_REQUESTED_WITH']) && 'XMLHttpRequest' == $_SERVER['HTTP_X_REQUESTED_WITH'])
                || (isset($_SERVER['HTTP_ACCEPT']) && 'application/json' === $_SERVER['HTTP_ACCEPT']);

            if (!$inTemplate && !defined('MAUTIC_RENDERING_TEMPLATE') && $isAjax) {
                $dataArray = [];
                if (!$this->displayErrors && empty($error['showExceptionMessage'])) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819208"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>474</line>
			<resource><![CDATA[app/bundles/CoreBundle/ErrorHandler/ErrorHandler.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="469" end-line="479"><![CDATA[                    );
                }
            }

            $isAjax = (isset($_SERVER['HTTP_X_REQUESTED_WITH']) && 'XMLHttpRequest' == $_SERVER['HTTP_X_REQUESTED_WITH'])
                || (isset($_SERVER['HTTP_ACCEPT']) && 'application/json' === $_SERVER['HTTP_ACCEPT']);

            if (!$inTemplate && !defined('MAUTIC_RENDERING_TEMPLATE') && $isAjax) {
                $dataArray = [];
                if (!$this->displayErrors && empty($error['showExceptionMessage'])) {
                    $error['message'] = 'The site is currently offline due to encountering an error. If the problem persists, please contact the system administrator. System administrators, check server logs for errors.';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818913"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>93</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/UrlHelper.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="88" end-line="98"><![CDATA[    public static function rel2abs($rel)
    {
        $path = $host = $scheme = '';

        $base = 'http';
        if (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') {
            $base .= 's';
        }
        $base .= '://';
        if ($_SERVER['SERVER_PORT'] != '80') {
            $base .= $_SERVER['SERVER_NAME'].':'.$_SERVER['SERVER_PORT'].$_SERVER['REQUEST_URI'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818769"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>97</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/UrlHelper.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="92" end-line="102"><![CDATA[        $base = 'http';
        if (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') {
            $base .= 's';
        }
        $base .= '://';
        if ($_SERVER['SERVER_PORT'] != '80') {
            $base .= $_SERVER['SERVER_NAME'].':'.$_SERVER['SERVER_PORT'].$_SERVER['REQUEST_URI'];
        } else {
            $base .= $_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818918"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>98</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/UrlHelper.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="93" end-line="103"><![CDATA[        if (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') {
            $base .= 's';
        }
        $base .= '://';
        if ($_SERVER['SERVER_PORT'] != '80') {
            $base .= $_SERVER['SERVER_NAME'].':'.$_SERVER['SERVER_PORT'].$_SERVER['REQUEST_URI'];
        } else {
            $base .= $_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];
        }

        $base = str_replace('/index_dev.php', '', $base);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818728"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>100</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/UrlHelper.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="95" end-line="105"><![CDATA[        }
        $base .= '://';
        if ($_SERVER['SERVER_PORT'] != '80') {
            $base .= $_SERVER['SERVER_NAME'].':'.$_SERVER['SERVER_PORT'].$_SERVER['REQUEST_URI'];
        } else {
            $base .= $_SERVER['SERVER_NAME'].$_SERVER['REQUEST_URI'];
        }

        $base = str_replace('/index_dev.php', '', $base);
        $base = str_replace('/index.php', '', $base);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819602"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>101</line>
			<resource><![CDATA[app/bundles/LeadBundle/Helper/EventHelper.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="96" end-line="106"><![CDATA[        $utmValues->setLead($lead);
        $utmValues->setQuery($query);
        $utmValues->setReferer($refererURL);
        $utmValues->setRemoteHost($refererParsedUrl['host']);
        $utmValues->setUrl($pageURI);
        $utmValues->setUserAgent($_SERVER['HTTP_USER_AGENT']);
        $em   = $factory->getEntityManager();
        $repo = $em->getRepository('MauticLeadBundle:UtmTag');
        $repo->saveEntity($utmValues);
        $leadModel->setUtmTags($lead, $utmValues);
    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819330"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>97</line>
			<resource><![CDATA[app/bundles/PluginBundle/Form/Type/FeatureSettingsType.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="92" end-line="102"><![CDATA[            $companyPage = $session->get('mautic.plugin.'.$integrationName.'.company.page', 1);

            $settings = [
                'silence_exceptions' => false,
                'feature_settings'   => $data,
                'ignore_field_cache' => ($page == 1 && 'POST' !== $_SERVER['REQUEST_METHOD']) ? true : false,
            ];

            try {
                if (empty($fields)) {
                    $fields = $integrationObject->getFormLeadFields($settings);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818867"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>157</line>
			<resource><![CDATA[app/config/config.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_COOKIE super global should not be used.]]></message>
			<context start-line="152" end-line="162"><![CDATA[
// Set template engines
$engines = ['php', 'twig'];

// Generate session name
if (isset($_COOKIE['mautic_session_name'])) {
    // Attempt to keep from losing sessions if cache is cleared through UI
    $sessionName = $_COOKIE['mautic_session_name'];
} else {
    $key         = $container->hasParameter('mautic.secret_key') ? $container->getParameter('mautic.secret_key') : uniqid();
    $sessionName = md5(md5($paths['local_config']).$key);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818673"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>159</line>
			<resource><![CDATA[app/config/config.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_COOKIE super global should not be used.]]></message>
			<context start-line="154" end-line="164"><![CDATA[$engines = ['php', 'twig'];

// Generate session name
if (isset($_COOKIE['mautic_session_name'])) {
    // Attempt to keep from losing sessions if cache is cleared through UI
    $sessionName = $_COOKIE['mautic_session_name'];
} else {
    $key         = $container->hasParameter('mautic.secret_key') ? $container->getParameter('mautic.secret_key') : uniqid();
    $sessionName = md5(md5($paths['local_config']).$key);
}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819012"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>51</line>
			<resource><![CDATA[app/middlewares/Dev/IpRestrictMiddleware.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="46" end-line="56"><![CDATA[        $parameters = $this->getConfig();
        if (array_key_exists('dev_hosts', $parameters) && is_array($parameters['dev_hosts'])) {
            $this->allowedIps = array_merge($this->allowedIps, $parameters['dev_hosts']);
        }

        if (isset($_SERVER['MAUTIC_DEV_HOSTS'])) {
            $localIps         = explode(' ', $_SERVER['MAUTIC_DEV_HOSTS']);
            $this->allowedIps = array_merge($this->allowedIps, $localIps);
        }
    }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818805"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>52</line>
			<resource><![CDATA[app/middlewares/Dev/IpRestrictMiddleware.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="47" end-line="57"><![CDATA[        if (array_key_exists('dev_hosts', $parameters) && is_array($parameters['dev_hosts'])) {
            $this->allowedIps = array_merge($this->allowedIps, $parameters['dev_hosts']);
        }

        if (isset($_SERVER['MAUTIC_DEV_HOSTS'])) {
            $localIps         = explode(' ', $_SERVER['MAUTIC_DEV_HOSTS']);
            $this->allowedIps = array_merge($this->allowedIps, $localIps);
        }
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819549"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>5</line>
			<resource><![CDATA[offline.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="1" end-line="10"><![CDATA[<?php
defined('MAUTIC_OFFLINE') or die('access denied');

// Get the URLs base path
$inDev = strpos($_SERVER['SCRIPT_NAME'], 'index_dev.php') !== false;
$base  = str_replace(['index.php', 'index_dev.php'], '', $_SERVER['SCRIPT_NAME']);

// Determine if there is an asset prefix
$root = __DIR__;
include $root.'/app/config/paths.php';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819513"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>6</line>
			<resource><![CDATA[offline.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$_SERVER super global should not be used.]]></message>
			<context start-line="1" end-line="11"><![CDATA[<?php
defined('MAUTIC_OFFLINE') or die('access denied');

// Get the URLs base path
$inDev = strpos($_SERVER['SCRIPT_NAME'], 'index_dev.php') !== false;
$base  = str_replace(['index.php', 'index_dev.php'], '', $_SERVER['SCRIPT_NAME']);

// Determine if there is an asset prefix
$root = __DIR__;
include $root.'/app/config/paths.php';
$assetPrefix = $paths['asset_prefix'];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819399"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>2890</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$argv super global should not be used.]]></message>
			<context start-line="2885" end-line="2895"><![CDATA[            return true;
        }

        // mixin
        if ($this->mixinTags($tags)
            && ($this->argumentDef($argv, $isVararg) || true)
            && ($this->keyword($suffix) || true)
            && $this->end()
        ) {
            $tags = $this->fixTags($tags);
            $this->append(['mixin', $tags, $argv, $suffix], $s);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819124"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>2895</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>PHP super globals should never be used</title>
			<message><![CDATA[$argv super global should not be used.]]></message>
			<context start-line="2890" end-line="2900"><![CDATA[            && ($this->argumentDef($argv, $isVararg) || true)
            && ($this->keyword($suffix) || true)
            && $this->end()
        ) {
            $tags = $this->fixTags($tags);
            $this->append(['mixin', $tags, $argv, $suffix], $s);

            return true;
        } else {
            $this->seek($s);
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819048"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="performance"
			ignored="false">
			<line>0</line>
			<title>Logging should not be verbose in production</title>
			<message><![CDATA[The log level (notice) of the mautic Monolog handler is too low]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819598"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="bugrisk" ignored="false">
			<line>0</line>
			<title>The Symfony version should be the latest stable one</title>
			<message><![CDATA[This project uses Symfony v2.8.15, which is not stable and therefore not suited for production.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818920"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>1691</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4j.codemirror.js]]></resource>
			<title>Source code should not contain FIXME comments</title>
			<message><![CDATA[FIXME comments are left in the code when a bug has been noticed but not fixed. You should fix the bug and remove the comment.]]></message>
			<context start-line="1686" end-line="1696"><![CDATA[
      var view = this.cm.display.view;
      var old = sel.rangeCount && sel.getRangeAt(0);
      if (!start) {
        start = {node: view[0].measure.map[2], offset: 0};
      } else if (!end) { // FIXME dangerously hacky
        var measure = view[view.length - 1].measure;
        var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;
        end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};
      }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819067"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>1951</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4j.codemirror.js]]></resource>
			<title>Source code should not contain FIXME comments</title>
			<message><![CDATA[FIXME comments are left in the code when a bug has been noticed but not fixed. You should fix the bug and remove the comment.]]></message>
			<context start-line="1946" end-line="1956"><![CDATA[      }
    }
    var found = find(textNode, topNode, offset);
    if (found) return badPos(found, bad);

    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems
    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {
      found = find(after, after.firstChild, 0);
      if (found)
        return badPos(Pos(found.line, found.ch - dist), bad);
      else]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819167"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="bugrisk" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4k.codemirror.uti.formatting.js]]></resource>
			<title>Source code should not contain FIXME comments</title>
			<message><![CDATA[FIXME comments are left in the code when a bug has been noticed but not fixed. You should fix the bug and remove the comment.]]></message>
			<context start-line="9" end-line="19"><![CDATA[  });

  CodeMirror.extendMode("javascript", {
    commentStart: "/*",
    commentEnd: "*/",
    // FIXME semicolons inside of for
    newlineAfterToken: function(type, content, textAfter, state) {
      if (this.jsonMode) {
        return /^[\[,{]$/.test(content) || /^}/.test(textAfter);
      } else {
        if (content == ";" && state.lexical && state.lexical.type == ")") return false;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818856"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>31</line>
			<resource><![CDATA[app/bundles/AssetBundle/Assets/js/asset.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="26" end-line="36"><![CDATA[            if (response.success) {
                mQuery('div#remoteFileBrowser').html(response.output);

                mQuery('.remote-file-search').quicksearch('#remoteFileBrowser .remote-file-list a');
            } else {
                // TODO - Add error handler
            }
        },
        error: function (request, textStatus, errorThrown) {
            Mautic.processAjaxError(request, textStatus, errorThrown);
        },]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819133"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>74</line>
			<resource><![CDATA[app/bundles/CampaignBundle/Controller/Api/EventLogApiController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="69" end-line="79"><![CDATA[    {
        $this->serializerGroups['log'] = 'campaignEventStandaloneLogDetails';
        $this->serializerGroups[]      = 'campaignEventStandaloneList';
        $this->serializerGroups[]      = 'leadBasicList';

        return parent::getEntitiesAction(); // TODO: Change the autogenerated stub
    }

    /**
     * Get a list of events.
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819104"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>31</line>
			<resource><![CDATA[app/bundles/CategoryBundle/Views/Category/index.html.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="26" end-line="36"><![CDATA[    ],
]));
?>

<div class="panel panel-default bdr-t-wdh-0 mb-0">
    <?php //TODO - Restore these buttons to the listactions when custom content is supported
    /*<div class="btn-group">
        <button type="button" class="btn btn-default"><i class="fa fa-upload"></i></button>
        <button type="button" class="btn btn-default"><i class="fa fa-archive"></i></button>
    </div>*/ ?>
    <?php echo $view->render('MauticCoreBundle:Helper:list_toolbar.html.php', []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818961"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>180</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/css/libraries/bootstrap/less/dropdowns.less]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="175" end-line="185"><![CDATA[}

// Allow for dropdowns to go bottom up (aka, dropup-menu)
//
// Just add .dropup after the standard .dropdown class and you're set, bro.
// TODO: abstract this so that the navbar fixed styles are not placed here?

.dropup,
.navbar-fixed-bottom .dropdown {
  // Reverse the caret
  .caret {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819165"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>115</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/10.entity.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="110" end-line="120"><![CDATA[            el.typeahead('val', '');
            value = '';
        }

        //make the request
        //@TODO reevaluate search caching as it seems to cause issues
        if (false && value && value in MauticVars[liveCacheVar]) {
            var response = {"newContent": MauticVars[liveCacheVar][value]};
            response.target = target;
            response.overlayEnabled = overlayEnabled;
            response.overlayTarget = overlayTarget;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819122"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1123</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/4.builder.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1118" end-line="1128"><![CDATA[                    toolbarButtons: buttons,
                    toolbarButtonsMD: buttons,
                    toolbarButtonsSM: buttons,
                    toolbarButtonsXS: buttons,
                    toolbarSticky: false,
                    linkList: [], // TODO push here the list of tokens from Mautic.getPredefinedLinks
                    imageEditButtons: ['imageReplace', 'imageAlign', 'imageRemove', 'imageAlt', 'imageSize', '|', 'imageLink', 'linkOpen', 'linkEdit', 'linkRemove']
                };

                // prevent overriding variant content in editor
                if (focusType !== 'dynamicContent') {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819249"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1166</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/4.builder.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1161" end-line="1171"><![CDATA[                slot.closest('[data-slot]').trigger('click');
            });

            // Init Froala editor
            var froalaOptions = mQuery.extend({}, Mautic.basicFroalaOptions, {
                    linkList: [], // TODO push here the list of tokens from Mautic.getPredefinedLinks
                    imageEditButtons: ['imageReplace', 'imageAlign', 'imageAlt', 'imageSize', '|', 'imageLink', 'linkOpen', 'linkEdit', 'linkRemove'],
                    useClasses: false
                }
            );
            image.froalaEditor(froalaOptions);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819196"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>363</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/1a.mousetrap.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="358" end-line="368"><![CDATA[
                // when you bind a combination or sequence a second time it
                // should overwrite the first one.  if a sequenceName or
                // combination is specified in this call it does just that
                //
                // @todo make deleting its own method?
                var deleteCombo = !sequenceName && callback.combo == combination;
                var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;
                if (deleteCombo || deleteSequence) {
                    _callbacks[character].splice(i, 1);
                }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819625"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>881</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/1a.mousetrap.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="876" end-line="886"><![CDATA[         *
         * the unbinding sets the callback function of the specified key combo
         * to an empty function and deletes the corresponding key in the
         * _directMap dict.
         *
         * TODO: actually remove this from the _callbacks dictionary instead
         * of binding an empty function
         *
         * the keycombo+action has to be exactly the same as
         * it was defined in the bind method
         *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819276"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3745</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/2.jquery.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3740" end-line="3750"><![CDATA[
        removeData: function (elem, name) {
            data_user.remove(elem, name);
        },

        // TODO: Now that all calls to _data and _removeData have been replaced
        // with direct calls to data_priv methods, these can be deprecated.
        _data: function (elem, name, data) {
            return data_priv.access(elem, name, data);
        },
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819198"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/3c.bootstrap-overflow-tabs.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="22" end-line="32"><![CDATA[     *		more - translated "more" text
     *		offset - dimension that needs to be subtracted from the parent div dimension
     */
    $.fn.overflowNavs = function(options) {
        // Create a handle to our ul menu
        // @todo Implement some kind of check to make sure there is only one?  If we accidentally get more than one
        // then strange things happen
        var ul = $(this);

        // This should work with all navs, not just the navbar, so you should be able to pass a parent in
        var parent     = $(this).closest(options.parent);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819112"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>107</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/3c.bootstrap-overflow-tabs.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="102" end-line="112"><![CDATA[                        // Remember the original dimension so that we can restore as the window grows
                        $(this).attr('data-original-dimension', (isVertical) ? $(this).outerHeight(true) : $(this).outerWidth(true));
                        // Move the rightmost item to top of dropdown menu if we are running out of space
                        dropdown.children('ul.dropdown-menu').prepend(this);
                    }
                    // @todo on shrinking resize some menu items are still in drop down when bootstrap mobile navigation is displaying
                });
            }

            // Window is growing
            else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819354"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>425</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4.jquery-ui.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="420" end-line="430"><![CDATA[                return returnValue;
            };
        })();
    });
    constructor.prototype = $.widget.extend( basePrototype, {
        // TODO: remove support for widgetEventPrefix
        // always use the name + a colon as the prefix, e.g., draggable:start
        // don't prefix for widgets that aren't DOM-based
        widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
    }, proxiedPrototype, {
        constructor: constructor,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819220"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>901</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4.jquery-ui.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="896" end-line="906"><![CDATA[            });

        this.started = false;
    },

    // TODO: make sure destroying one instance of mouse doesn't mess with
    // other instances of mouse
    _mouseDestroy: function() {
        this.element.unbind("." + this.widgetName);
        if ( this._mouseMoveDelegate ) {
            this.document]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819266"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3543</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4.jquery-ui.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3538" end-line="3548"><![CDATA[            parent: this._getParentOffset(),
            relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
        });

        // Only after we got the offset, we can change the helper's position to absolute
        // TODO: Still need to figure out a way to make relative sorting possible
        this.helper.css("position", "absolute");
        this.cssPosition = this.helper.css("position");

        //Generate the original position
        this.originalPosition = this._generatePosition(event);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818752"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/4k.codemirror.mode.javascript.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1" end-line="9"><![CDATA[// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// TODO actually recognize syntax of TypeScript constructs

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819580"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2568</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2563" end-line="2573"><![CDATA[                this._monthsParse = [];
                this._longMonthsParse = [];
                this._shortMonthsParse = [];
            }

            // TODO: add sorting
            // Sorting makes sure if one month (or abbr) is a prefix of another
            // see sorting in computeMonthsParse
            for (i = 0; i < 12; i++) {
                // make the regex if we don't have it already
                mom = create_utc__createUTC([2000, i]);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819392"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2608</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2603" end-line="2613"><![CDATA[            if (typeof value === 'string') {
                if (/^\d+$/.test(value)) {
                    value = toInt(value);
                } else {
                    value = mom.localeData().monthsParse(value);
                    // TODO: Another silent failure?
                    if (typeof value !== 'number') {
                        return mom;
                    }
                }
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819594"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3454</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3449" end-line="3459"><![CDATA[            return null;
        }

        function loadLocale(name) {
            var oldLocale = null;
            // TODO: Find a better way to register and load all the locales in Node
            if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
                try {
                    oldLocale = globalLocale._abbr;
                    require('./locale/' + name);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819023"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3818</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3813" end-line="3823"><![CDATA[            w = config._w;
            if (w.GG != null || w.W != null || w.E != null) {
                dow = 1;
                doy = 4;

                // TODO: We need to take the current isoWeekYear, but that depends on
                // how we interpret now (local, utc, fixed offset). So create
                // a now version of current config (take local/utc/offset flags, and
                // create now).
                weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);
                week = defaults(w.W, 1);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819487"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3868</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3863" end-line="3873"><![CDATA[        // constant that refers to the ISO standard
        utils_hooks__hooks.ISO_8601 = function () {};

        // date from string and format string
        function configFromStringAndFormat(config) {
            // TODO: Move this to another part of the creation flow to prevent circular deps
            if (config._f === utils_hooks__hooks.ISO_8601) {
                configFromISO(config);
                return;
            }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819379"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4160</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4155" end-line="4165"><![CDATA[                }
            }
            return res;
        }

        // TODO: Use [].sort instead?
        function min () {
            var args = [].slice.call(arguments, 0);

            return pickBy('isBefore', args);
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818674"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4546</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4541" end-line="4551"><![CDATA[            }

            return res;
        }

        // TODO: remove 'name' arg after deprecation is removed
        function createAdder(direction, name) {
            return function (val, period) {
                var dur, tmp;
                //invert the arguments, but complain about it
                if (period !== null && !isNaN(+period)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819426"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5628</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5623" end-line="5633"><![CDATA[                    default: throw new Error('Unknown unit ' + units);
                }
            }
        }

        // TODO: Use this.as('ms')?
        function duration_as__valueOf () {
            return (
                this._milliseconds +
                this._days * 864e5 +
                (this._months % 12) * 2592e6 +]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819223"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11114</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11109" end-line="11119"><![CDATA[
        /**
         * Provided for backward compatibility, use Chart.plugins instead
         * @namespace Chart.pluginService
         * @deprecated since version 2.1.5
         * @todo remove me at version 3
         */
        Chart.pluginService = Chart.plugins;
    };

},{}],31:[function(require,module,exports){]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819015"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11450</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11445" end-line="11455"><![CDATA[
                    if (isHorizontal) {
                        // A horizontal axis is more constrained by the height.
                        me.longestLabelWidth = largestTextWidth;

                        // TODO - improve this calculation
                        var labelHeight = (Math.sin(helpers.toRadians(me.labelRotation)) * me.longestLabelWidth) + (tickFontSize * tallestLabelHeightInLines) + (lineSpace * tallestLabelHeightInLines);

                        minSize.height = Math.min(me.maxHeight, minSize.height + labelHeight);
                        me.ctx.font = tickLabelFont;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818906"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>13933</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="13928" end-line="13938"><![CDATA[                var paddingLeft = me.paddingLeft;
                var opts = me.options;
                var tickOpts = opts.ticks;

                if (me.isHorizontal()) {
                    range = helpers.log10(me.end) - helpers.log10(start); // todo: if start === 0
                    if (newVal === 0) {
                        pixel = me.left + paddingLeft;
                    } else {
                        innerDimension = me.width - (paddingLeft + me.paddingRight);
                        pixel = me.left + (innerDimension / range * (helpers.log10(newVal) - helpers.log10(start)));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819340"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>13978</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/51.Chart.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="13973" end-line="13983"><![CDATA[                var value, innerDimension;

                if (me.isHorizontal()) {
                    innerDimension = me.width - (me.paddingLeft + me.paddingRight);
                    value = me.start * Math.pow(10, (pixel - me.left - me.paddingLeft) * range / innerDimension);
                } else {  // todo: if start === 0
                    innerDimension = me.height - (me.paddingTop + me.paddingBottom);
                    value = Math.pow(10, (me.bottom - me.paddingBottom - pixel) * range / innerDimension) / me.start;
                }
                return value;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819259"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>965</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="960" end-line="970"><![CDATA[            if (obj.addEventListener)
                obj.addEventListener(type, fn, false);
            else if (obj.attachEvent) {
                var key = type + fn.__tauid;
                obj["e" + key] = fn;
                // TODO look at replacing with .call(..)
                obj[key] = function () {
                    obj["e" + key] && obj["e" + key](window.event);
                };
                obj.attachEvent("on" + type, obj[key]);
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819584"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2660</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2655" end-line="2665"><![CDATA[        remove: function (l, v) {
            var idx = l.indexOf(v);
            if (idx > -1) l.splice(idx, 1);
            return idx != -1;
        },
        // TODO support insert index
        addWithFunction: function (list, item, hashFunction) {
            if (root.jsPlumbUtil.findWithFunction(list, hashFunction) == -1) list.push(item);
        },
        addToList: function (map, key, value, insertAtStart) {
            var l = map[key];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819626"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3138</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3133" end-line="3143"><![CDATA[                for (i in params.events)
                    self.bind(i, params.events[i]);
            }

            // all components get this clone function.
            // TODO issue 116 showed a problem with this - it seems 'a' that is in
            // the clone function's scope is shared by all invocations of it, the classic
            // JS closure problem.  for now, jsPlumb does a version of this inline where
            // it used to call clone.  but it would be nice to find some time to look
            // further at this.
            this.clone = function () {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819495"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3346</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3341" end-line="3351"><![CDATA[            }
            this._jsPlumb.paintStyleInUse = this.getPaintStyle();
        },
        setPaintStyle: function (style, doNotRepaint) {
//		    	this._jsPlumb.paintStyle = jsPlumb.extend({}, style);
// TODO figure out if we want components to clone paintStyle so as not to share it.
            this._jsPlumb.paintStyle = style;
            this._jsPlumb.paintStyleInUse = this._jsPlumb.paintStyle;
            _updateHoverStyle(this);
            if (!doNotRepaint) this.repaint();
        },]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819510"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3357</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3352" end-line="3362"><![CDATA[        getPaintStyle: function () {
            return this._jsPlumb.paintStyle;
        },
        setHoverPaintStyle: function (style, doNotRepaint) {
            //this._jsPlumb.hoverPaintStyle = jsPlumb.extend({}, style);
// TODO figure out if we want components to clone paintStyle so as not to share it.
            this._jsPlumb.hoverPaintStyle = style;
            _updateHoverStyle(this);
            if (!doNotRepaint) this.repaint();
        },
        getHoverPaintStyle: function () {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818911"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3565</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3560" end-line="3570"><![CDATA[            return _currentInstance;
        };

        var log = null,
            initialized = false,
            // TODO remove from window scope
            connections = [],
            // map of element id -> endpoint lists. an element can have an arbitrary
            // number of endpoints on it, and not all of them have to be connected
            // to anything.
            endpointsByElement = {},]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819605"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3659</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3654" end-line="3664"><![CDATA[                return endpointsByUUID[uuid];
            },

            /**
             * inits a draggable if it's not already initialised.
             * TODO: somehow abstract this to the adapter, because the concept of "draggable" has no
             * place on the server.
             */
            _initDraggableIfNecessary = function (element, isDraggable, dragOptions, id, fireEvent) {
                // move to DragManager?
                if (!jsPlumb.headless) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818822"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3687</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3682" end-line="3692"><![CDATA[                                    _currentInstance.setConnectionBeingDragged(true);
                                    if (options.canDrag) return dragOptions.canDrag();
                                }, false);

                                options[dragEvent] = _ju.wrap(options[dragEvent], function () {
                                    // TODO: here we could actually use getDragObject, and then compute it ourselves,
                                    // since every adapter does the same thing. but i'm not sure why YUI's getDragObject
                                    // differs from getUIPosition so much
                                    var ui = _currentInstance.getUIPosition(arguments, _currentInstance.getZoom());
                                    if (ui != null) {
                                        _draw(element, ui, null, true);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819585"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4048</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4043" end-line="4053"><![CDATA[                    var state = jpc.isVisible();
                    jpc.setVisible(!state);
                }, endpointFunc);
            },

            // TODO comparison performance
            _getCachedData = function (elId) {
                var o = offsets[elId];
                if (!o)
                    return _updateOffset({elId: elId});
                else]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819240"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4224</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4219" end-line="4229"><![CDATA[        };

        this.connect = function (params, referenceParams) {
            // prepare a final set of parameters to create connection with
            var _p = _prepareConnectionParams(params, referenceParams), jpc;
            // TODO probably a nicer return value if the connection was not made.  _prepareConnectionParams
            // will return null (and log something) if either endpoint was full.  what would be nicer is to
            // create a dedicated 'error' object.
            if (_p) {
                if (_p.source == null && _p.sourceEndpoint == null) {
                    _ju.log("Cannot establish connection - source does not exist");]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819619"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4263</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4258" end-line="4268"><![CDATA[                originalTargetId: idx == 1 ? cId : c.targetId,
                newTargetId: c.targetId,
                connection: c
            };

            if (el.constructor == jsPlumb.Endpoint) { // TODO here match the current endpoint class; users can change it {
                ep = el;
                ep.addConnection(c);
                el = ep.element;
            }
            else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819114"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4377</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4372" end-line="4382"><![CDATA[
        this.unregisterEndpoint = function (endpoint) {
            //if (endpoint._jsPlumb == null) return;
            if (endpoint._jsPlumb.uuid) endpointsByUUID[endpoint._jsPlumb.uuid] = null;
            _currentInstance.anchorManager.deleteEndpoint(endpoint);
            // TODO at least replace this with a removeWithFunction call.
            for (var e in endpointsByElement) {
                var endpoints = endpointsByElement[e];
                if (endpoints) {
                    var newEndpoints = [];
                    for (var i = 0, j = endpoints.length; i < j; i++)]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819507"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4968</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4963" end-line="4973"><![CDATA[                    throw { msg: "jsPlumb: unknown anchor type '" + t + "'" };
            };
            if (arguments.length === 0) return null;
            var specimen = arguments[0], elementId = arguments[1], jsPlumbInstance = arguments[2], newAnchor = null;
            // if it appears to be an anchor already...
            if (specimen.compute && specimen.getOrientation) return specimen;  //TODO hazy here about whether it should be added or is already added somehow.
            // is it the name of an anchor type?
            else if (typeof specimen == "string") {
                newAnchor = _a(arguments[0], {elementId: elementId, jsPlumbInstance: _currentInstance});
            }
            // is it an array? it will be one of:]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818800"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5062</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5057" end-line="5067"><![CDATA[             ep.endpoint = ep.endpoint ||
             _instance.Defaults.Endpoints[epIndex] ||
             _instance.Defaults.Endpoint;*/
        };

        // TODO put all the source stuff inside one parent, keyed by id.
        this.sourceEndpointDefinitions = {};

        var selectorFilter = function (evt, _el, selector, _instance, negate) {
            var t = evt.target || evt.srcElement, ok = false,
                sel = _instance.getSelector(_el, selector);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819351"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5133</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5128" end-line="5138"><![CDATA[                        newEndpoint = _currentInstance.addEndpoint(elInfo.el, pp);
                        newEndpoint._mtNew = true;
                    }

                    if (p.uniqueEndpoint) elInfo.def.endpoint = newEndpoint;  // may of course just store what it just pulled out. that's ok.
                    // TODO test options to makeTarget to see if we should do this?
                    newEndpoint._doNotDeleteOnDetach = false; // reset.
                    newEndpoint._deleteOnDetach = true;

                    // if connection is detachable, init the new endpoint to be draggable, to support that happening.
                    if (jpc.isDetachable())]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819475"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5349</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5344" end-line="5354"><![CDATA[                    // when the user presses the mouse, add an Endpoint, if we are enabled.
                    var mouseDownListener = function (e) {
                        // on right mouse button, abort.
                        if (e.which === 3 || e.button === 2) return;

                        // TODO store def on element.
                        var def = this.sourceEndpointDefinitions[elid][type];

                        // if disabled, return.
                        if (!def.enabled) return;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818863"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5397</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5392" end-line="5402"><![CDATA[                        ep._doNotDeleteOnDetach = false; // reset.
                        ep._deleteOnDetach = true;

                        // if unique endpoint and it's already been created, push it onto the endpoint we create. at the end
                        // of a successful connection we'll switch to that endpoint.
                        // TODO this is the same code as the programmatic endpoints create on line 1050 ish
                        if (def.uniqueEndpoint) {
                            if (!def.endpoint) {
                                def.endpoint = ep;
                                ep._deleteOnDetach = false;
                                ep._doNotDeleteOnDetach = true;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818954"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5675</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5670" end-line="5680"><![CDATA[            });
        };

        // repaint every endpoint and connection.
        this.repaintEverything = function () {
            // TODO this timestamp causes continuous anchors to not repaint properly.
            // fix this. do not just take out the timestamp. it runs a lot faster with
            // the timestamp included.
            var timestamp = _timestamp(), elId;

            for (elId in endpointsByElement) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819078"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>5940</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="5935" end-line="5945"><![CDATA[        this.show = function (el, changeEndpoints) {
            _setVisible(el, "block", changeEndpoints);
            return _currentInstance;
        };

        // TODO: update this method to return the current state.
        this.toggleVisible = _toggleVisible;
        this.toggleDraggable = _toggleDraggable;
        this.addListener = this.bind;
    };
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818698"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>6667</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="6662" end-line="6672"><![CDATA[            var _params = {
                    cssClass: params.cssClass,
                    labelStyle: component.labelStyle,
                    id: _internalLabelOverlayId,
                    component: component,
                    _jsPlumb: component._jsPlumb.instance  // TODO not necessary, since the instance can be accessed through the component.
                },
                mergedParams = _jp.extend(_params, params);

            return new _jp.Overlays[component._jsPlumb.instance.getRenderMode()].Label(mergedParams);
        },]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818758"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>7133</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="7128" end-line="7138"><![CDATA[            // and the clone is left in its place while the original one goes off on a magical journey.
            // the copy is to get around a closure problem, in which endpointArgs ends up getting shared by
            // the whole world.
            //var argsForClone = jsPlumb.extend({}, endpointArgs);
            endpoint.clone = function () {
                // TODO this, and the code above, can be refactored to be more dry.
                if (_ju.isString(ep))
                    return _e(ep, endpointArgs);
                else if (_ju.isArray(ep)) {
                    endpointArgs = _ju.merge(ep[1], endpointArgs);
                    return _e(ep[0], endpointArgs);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819076"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>7243</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="7238" end-line="7248"><![CDATA[        };

        this.detachAll = function (fireEvent, forceDetach) {
            var unaffectedConns = [];
            while (this.connections.length > 0) {
                // TODO this could pass the index in to the detach method to save some time (index will always be zero in this while loop)
                var actuallyDetached = this.detach({
                    connection:this.connections[0],
                    ignoreTarget:false,
                    forceDetach:forceDetach === true,
                    fireEvent:fireEvent !== false,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818993"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>7611</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="7606" end-line="7616"><![CDATA[                        // get the actual drop event (decode from library args to stop function)
                        var originalEvent = _jsPlumb.getDropEvent(arguments);
                        // unlock the other endpoint (if it is dynamic, it would have been locked at drag start)
                        var idx = _jsPlumb.getFloatingAnchorIndex(jpc);
                        jpc.endpoints[idx === 0 ? 1 : 0].anchor.locked = false;
                        // TODO: Dont want to know about css classes inside jsplumb, ideally.
                        jpc.removeClass(_jsPlumb.draggingClass);

                        // if we have the floating endpoint then the connection has not been dropped
                        // on another endpoint.  If it is a new connection we throw it away. If it is an
                        // existing connection we check to see if we should reattach it, throwing it away]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819324"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>7654</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="7649" end-line="7659"><![CDATA[                                    jpc._forceDetach = null;
                                    jpc._forceReattach = null;
                                    this._jsPlumb.floatingEndpoint.detachFromConnection(jpc);
                                    jpc.suspendedEndpoint.addConnection(jpc);

                                    // TODO this code is duplicated in lots of places...and there is nothing external
                                    // in the code; it all refers to the connection itself. we could add a
                                    // `checkSanity(connection)` method to anchorManager that did this.
                                    if (idx == 1) {
                                        _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);
                                    }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819327"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>8131</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="8126" end-line="8136"><![CDATA[                            jpc.target = jpc.suspendedEndpoint.element;
                            jpc.targetId = jpc.suspendedEndpoint.elementId;
                        }
                        jpc.suspendedEndpoint.addConnection(jpc);

                        // TODO checkSanity
                        if (idx == 1) {
                            _jsPlumb.anchorManager.updateOtherEndpoint(jpc.sourceId, jpc.floatingId, jpc.targetId, jpc);
                        }
                        else {
                            _jsPlumb.anchorManager.sourceChanged(jpc.floatingId, jpc.sourceId, jpc, jpc.source);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819321"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>9132</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="9127" end-line="9137"><![CDATA[                    connectionsByElementId[connection.targetId][tIdx][2] = connection.endpoints[0].anchor.constructor == _jp.DynamicAnchor;
                }
                // add entry for new source
                _ju.addToList(connectionsByElementId, newId, [connection, connection.endpoints[1], connection.endpoints[1].anchor.constructor == _jp.DynamicAnchor]);

                // TODO SP not final on this yet. when a user drags an existing connection and it turns into a self
                // loop, then this code hides the target endpoint (by removing it from the DOM) But I think this should
                // occur only if the anchor is Continuous
                if (connection.endpoints[1].anchor.isContinuous) {
                    if (connection.source === connection.target) {
                        connection._jsPlumb.instance.removeElement(connection.endpoints[1].canvas);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818812"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>9296</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="9291" end-line="9301"><![CDATA[                for (i = 0; i < anchorsToUpdate.length; i++) {
                    placeAnchors(anchorsToUpdate[i], anchorLists[anchorsToUpdate[i]]);
                }

                // now that continuous anchors have been placed, paint all the endpoints for this element
                // TODO performance: add the endpoint ids to a temp array, and then when iterating in the next
                // loop, check that we didn't just paint that endpoint. we can probably shave off a few more milliseconds this way.
                for (i = 0; i < ep.length; i++) {
                    ep[i].paint({ timestamp: timestamp, offset: myOffset, dimensions: myOffset.s, recalc: doNotRecalcEndpoint !== true });
                }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819284"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>9311</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="9306" end-line="9316"><![CDATA[                }

                // paint all the standard and "dynamic connections", which are connections whose other anchor is
                // static and therefore does need to be recomputed; we make sure that happens only one time.

                // TODO we could have compiled a list of these in the first pass through connections; might save some time.
                for (i = 0; i < endpointConnections.length; i++) {
                    var otherEndpoint = endpointConnections[i][1];
                    if (otherEndpoint.anchor.constructor == _jp.DynamicAnchor) {
                        otherEndpoint.paint({ elementWithPrecedence: elementId, timestamp: timestamp });
                        _ju.addWithFunction(connectionsToPaint, endpointConnections[i][0], function (c) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819090"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>9488</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="9483" end-line="9493"><![CDATA[    /**
     * An Anchor that floats. its orientation is computed dynamically from
     * its position relative to the anchor it is floating relative to.  It is used when creating
     * a connection through drag and drop.
     *
     * TODO FloatingAnchor could totally be refactored to extend Anchor just slightly.
     */
    _jp.FloatingAnchor = function (params) {

        _jp.Anchor.apply(this, arguments);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819464"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>10439</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="10434" end-line="10444"><![CDATA[                }
                var idx = segmentProportions.length - 1, inSegmentProportion = 1;
                for (var i = 0; i < segmentProportions.length; i++) {
                    if (segmentProportions[i][1] >= location) {
                        idx = i;
                        // todo is this correct for all connector path types?
                        inSegmentProportion = location == 1 ? 1 : location === 0 ? 0 : (location - segmentProportions[i][0]) / segmentProportionalLengths[i];
                        break;
                    }
                }
                return { segment: segments[idx], proportion: inSegmentProportion, index: idx };]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818882"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>10557</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="10552" end-line="10562"><![CDATA[            return seg.segment && seg.segment.gradientAtPoint(seg.proportion, false) || 0;
        };

        this.pointAlongPathFrom = function (location, distance, absolute) {
            var seg = _findSegmentForLocation(location, absolute);
            // TODO what happens if this crosses to the next segment?
            return seg.segment && seg.segment.pointAlongPathFrom(seg.proportion, distance, false) || [0, 0];
        };

        this.compute = function (params) {
            paintInfo = _prepareCompute.call(this, params);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818797"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11418</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11413" end-line="11423"><![CDATA[    _jp.extend(root.jsPlumbInstance.prototype, {
        getEventManager:function() {
            return _getEventManager(this);
        },
        on : function(el, event, callback) {
            // TODO: here we would like to map the tap event if we know its
            // an internal bind to a click. we have to know its internal because only
            // then can we be sure that the UP event wont be consumed (tap is a synthesized
            // event from a mousedown followed by a mouseup).
            //event = { "click":"tap", "dblclick":"dbltap"}[event] || event;
            this.getEventManager().on.apply(this, arguments);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818899"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11653</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11648" end-line="11658"><![CDATA[            // for this index, stash proxy info: the new EP, the original EP.
            c.proxies[index] = { ep:proxyEp, originalEp: c.endpoints[index] };

            // and advise the anchor manager
            if (index === 0) {
                // TODO why are there two differently named methods? Why is there not one method that says "some end of this
                // connection changed (you give the index), and here's the new element and element id."
                _jsPlumb.anchorManager.sourceChanged(originalElementId, groupElId, c, groupEl);
            }
            else {
                _jsPlumb.anchorManager.updateOtherEndpoint(c.endpoints[0].elementId, originalElementId, groupElId, c);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819411"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11679</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11674" end-line="11684"><![CDATA[        this.collapseGroup = function(group) {
            group = this.getGroup(group);
            if (group == null || group.collapsed) return;
            var groupEl = group.getEl();

            // todo remove old proxy endpoints first, just in case?
            //group.proxies.length = 0;

            // hide all connections
            _setVisible(group, false);
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818826"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11718</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11713" end-line="11723"><![CDATA[                originalElementId = c.proxies[index].originalEp.elementId;

            c.endpoints[index] = c.proxies[index].originalEp;
            // and advise the anchor manager
            if (index === 0) {
                // TODO why are there two differently named methods? Why is there not one method that says "some end of this
                // connection changed (you give the index), and here's the new element and element id."
                _jsPlumb.anchorManager.sourceChanged(groupElId, originalElementId, c, originalElement);
            }
            else {
                _jsPlumb.anchorManager.updateOtherEndpoint(c.endpoints[0].elementId, groupElId, originalElementId, c);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819603"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>11779</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11774" end-line="11784"><![CDATA[            for (var i = 0; i < m.length; i++) {
                _jsPlumb.revalidate(m[i]);
            }
        };

        // TODO refactor this with the code that responds to `connection` events.
        function _updateConnectionsForGroup(group) {
            var members = group.getMembers();
            var c1 = _jsPlumb.getConnections({source:members}, true);
            var c2 = _jsPlumb.getConnections({target:members}, true);
            var processed = {};]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819395"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>12275</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="12270" end-line="12280"><![CDATA[            midpoint = params.midpoint == null ? 0.5 : params.midpoint,
            alwaysRespectStubs = params.alwaysRespectStubs === true,
            lastx = null, lasty = null, lastOrientation,
            cornerRadius = params.cornerRadius != null ? params.cornerRadius : 0,

            // TODO now common between this and AbstractBezierEditor; refactor into superclass?
            loopbackRadius = params.loopbackRadius || 25,
            isLoopbackCurrently = false,

            sgn = function (n) {
                return n < 0 ? -1 : n === 0 ? 0 : 1;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818710"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>12802</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/6.jsplumb.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="12797" end-line="12807"><![CDATA[        // 1 - absolute y
        // 2 - proportional x in element (0 is left edge, 1 is right edge)
        // 3 - proportional y in element (0 is top edge, 1 is bottom edge)
        //
        _findControlPoint = function (midx, midy, segment, sourceEdge, targetEdge, dx, dy, distance, proximityLimit) {
            // TODO (maybe)
            // - if anchor pos is 0.5, make the control point take into account the relative position of the elements.
            if (distance <= proximityLimit) return [midx, midy];

            if (segment === 1) {
                if (sourceEdge[3] <= 0 && targetEdge[3] >= 1) return [ midx + (sourceEdge[2] < 0.5 ? -1 * dx : dx), midy ];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819036"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>308</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/8a.adminre.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="303" end-line="313"><![CDATA[                });
            })();

            // @PLUGIN: WayPoints
            // Self invoking
            // TODO: add custom event
            // ================================
            (function () {
                var toggler     = "[data-toggle~=waypoints]";

                $(toggler).each(function () {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819349"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>654</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/8a.adminre.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="649" end-line="659"><![CDATA[            })();

            // @PLUGIN: SidebarMenu
            // Self invoking
            // utilize bootstrap collapse
            // TODO: add function custom event
            // ================================
            (function () {
                // define variable
                var menuHandler     = "[data-toggle~=menu]",
                    submenuHandler  = "[data-toggle~=submenu]";]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818875"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1839</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/froala/plugins/code_beautifier.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1834" end-line="1844"><![CDATA[            }

            if (flags.last_text === ';' || last_type === 'TK_START_BLOCK') {
                print_newline();
            } else if (last_type === 'TK_END_EXPR' || last_type === 'TK_START_EXPR' || last_type === 'TK_END_BLOCK' || flags.last_text === '.') {
                // TODO: Consider whether forcing this is required.  Review failing tests when removed.
                allow_wrap_or_preserved_newline(current_token.wanted_newline);
                // do nothing on (( and )( and ][ and ]( and .(
            } else if (!(last_type === 'TK_RESERVED' && current_token.text === '(') && last_type !== 'TK_WORD' && last_type !== 'TK_OPERATOR') {
                output.space_before_token = true;
            } else if ((last_type === 'TK_RESERVED' && (flags.last_word === 'function' || flags.last_word === 'typeof')) ||]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819108"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2127</line>
			<resource><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/froala/plugins/code_beautifier.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2122" end-line="2132"><![CDATA[                        prefix = 'SPACE';
                        output.space_before_token = true;
                    }
                }
            } else if (last_type === 'TK_SEMICOLON' && flags.mode === MODE.BlockStatement) {
                // TODO: Should this be for STATEMENT as well?
                prefix = 'NEWLINE';
            } else if (last_type === 'TK_SEMICOLON' && is_expression(flags.mode)) {
                prefix = 'SPACE';
            } else if (last_type === 'TK_STRING') {
                prefix = 'NEWLINE';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819434"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>79</line>
			<resource><![CDATA[app/bundles/CoreBundle/Command/InstallDataCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="74" end-line="84"><![CDATA[            }
        }

        $env = $options['env'];

        // TODO - This should respect the --quiet flag
        $verbosity = $output->getVerbosity();
        $output->setVerbosity(OutputInterface::VERBOSITY_QUIET);

        //due to foreign restraint and truncate issues with doctrine, the whole schema must be dropped and recreated
        $command = $this->getApplication()->find('doctrine:schema:drop');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818971"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>78</line>
			<resource><![CDATA[app/bundles/CoreBundle/Command/LanguageConfigCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="73" end-line="83"><![CDATA[            $lang = $dir->getBasename();

            // Fetch the language data from Transifex
            $langInfo = $transifex->languageinfo->getLanguage($lang);

            // TODO - Don't hardcode the author data
            $configData = $this->render(['name' => $langInfo->name, 'locale' => $langInfo->code, 'author' => 'Mautic Translators']);

            if (!@file_put_contents($configFile, $configData)) {
                $output->writeln($translator->trans('mautic.core.command.language_config.could_not_create', ['%file%' => $configFile]));
            } else {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819418"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>204</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="199" end-line="209"><![CDATA[        $allCommands = $event->getCommands();
        $translator  = $this->get('translator');
        $dataArray   = [];
        $dupChecker  = [];
        foreach ($allCommands as $header => $commands) {
            //@todo if/when figure out a way for typeahead dynamic headers
            //$header = $translator->trans($header);
            //$dataArray[$header] = array();
            foreach ($commands as $k => $c) {
                if (is_array($c)) {
                    $command = $translator->trans($k);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819450"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>548</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="543" end-line="553"><![CDATA[
                    // Update time
                    $extractResult = $languageHelper->extractLanguagePackage($locale);

                    if ($extractResult['error']) {
                        // TODO - Need to look at adding messages during update...
                    }
                }
            }
        }
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818979"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>634</line>
			<resource><![CDATA[app/bundles/CoreBundle/Controller/AjaxController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="629" end-line="639"><![CDATA[        // Check for a post install message
        if ($postMessage = $this->container->get('session')->get('post_upgrade_message', false)) {
            $this->container->get('session')->remove('post_upgrade_message');
            $postMessage = sprintf('<h4 class="mt-lg">%s</h4><p>%s</p>', $this->container->get('translator')->trans('mautic.core.update.post_message'), $postMessage);
            if ('1.2.3' == $this->container->get('kernel')->getVersion()) {
                // @TODO - remove in 2.0
                $dataArray['message'] .= $postMessage;
                $dataArray['postmessage'] = false;
            } else {
                $dataArray['postmessage'] = $postMessage;
            }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818965"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>110</line>
			<resource><![CDATA[app/bundles/CoreBundle/Form/Type/GatedVideoType.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="105" end-line="115"><![CDATA[        $resolver->setDefaults([
            'width'  => 640,
            'height' => 320,
        ]);

        parent::setDefaultOptions($resolver); // TODO: Change the autogenerated stub
    }

    /**
     * @return mixed
     */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818680"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>145</line>
			<resource><![CDATA[app/bundles/CoreBundle/Helper/PathsHelper.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="140" end-line="150"><![CDATA[                    $userPath = $globalPath;
                }

                $userPath .= '/'.$this->user->getId();

                // @todo check is_writable
                if (!is_dir($userPath) && !file_exists($userPath)) {
                    mkdir($userPath, 0755);
                }

                return $userPath;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818823"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>14</line>
			<resource><![CDATA[app/bundles/CoreBundle/Test/MauticWebTestCase.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="9" end-line="19"><![CDATA[ * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

namespace Mautic\CoreBundle\Test;

//@TODO - fix entity detachment issue that is leading to failed tests

use Liip\FunctionalTestBundle\Test\WebTestCase;
//use Symfony\Bundle\FrameworkBundle\Test\WebTestCase;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\RequestStack;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819186"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>161</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Assets/js/dashboard.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="156" end-line="166"><![CDATA[    widgets.each(function(index, value) {
        ordering.push(mQuery(this).attr('data-widget-id'));
    });

    Mautic.ajaxActionRequest('dashboard:updateWidgetOrdering', {'ordering': ordering}, function(response) {
        // @todo handle errors
    });
}

Mautic.updateWidgetForm = function (element) {
    Mautic.activateLabelLoadingIndicator('widget_type');]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819438"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>101</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/AjaxController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="96" end-line="106"><![CDATA[    public function deleteAction(Request $request)
    {
        $objectId  = $request->request->get('widget');
        $dataArray = ['success' => 0];

        // @todo: build permissions
        // if (!$this->get('mautic.security')->isGranted('dashobard:widgets:delete')) {
        //     return $this->accessDenied();
        // }

        /** @var \Mautic\DashboardBundle\Model\DashboardModel $model */]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819119"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>492</line>
			<resource><![CDATA[app/bundles/DashboardBundle/Controller/DashboardController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="487" end-line="497"><![CDATA[                $tempDashboard
            );
        }

        if ($preview && isset($dashboards[$preview])) {
            // @todo check is_writable
            $widgets = $dashboards[$preview]['widgets'];
            $filter  = $model->getDefaultFilter();
            $model->populateWidgetsContent($widgets, $filter);
        } else {
            $widgets = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818937"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>6</line>
			<resource><![CDATA[app/bundles/EmailBundle/Assets/js/email.js]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1" end-line="11"><![CDATA[/** EmailBundle **/
Mautic.emailOnLoad = function (container, response) {
    var plaintext = mQuery('#emailform_plainText');

    if (mQuery('#emailform_plainText').length) {
        // @todo initiate the token dropdown
    } else if (mQuery(container + ' #list-search').length) {
        Mautic.activateSearchAutocomplete('list-search', 'email');
    }

    Mautic.initAtWho(plaintext, plaintext.attr('data-token-callback'));]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819173"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1049</line>
			<resource><![CDATA[app/bundles/EmailBundle/Controller/EmailController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1044" end-line="1054"><![CDATA[     *
     * @return array|\Symfony\Component\HttpFoundation\JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function winnerAction($objectId)
    {
        //todo - add confirmation to button click
        $page      = $this->get('session')->get('mautic.email', 1);
        $returnUrl = $this->generateUrl('mautic_email_index', ['page' => $page]);
        $flashes   = [];

        $postActionVars = []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819210"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>287</line>
			<resource><![CDATA[app/bundles/EmailBundle/Helper/MailHelper.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="282" end-line="292"><![CDATA[    {
        $queueMode = $this->factory->getParameter('mailer_spool_type');
        if ($queueMode != 'file') {
            return $this->getMailer($cleanSlate);
        }
        // @todo - need a creative way to pass this service to this helper when factory use is removed
        // the service is only available when queue mode is enabled so likely we'll need to use a cache compiler
        // pass to ensure it is set regardless
        $transport  = $this->factory->get('swiftmailer.transport.real');
        $mailer     = new \Swift_Mailer($transport);
        $mailHelper = new self($this->factory, $mailer, $this->from);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818946"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>188</line>
			<resource><![CDATA[app/bundles/FormBundle/Views/Form/details.html.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="183" end-line="193"><![CDATA[                            <?php /** @var \Mautic\FormBundle\Entity\Action $action */ ?>
                            <?php foreach ($groupActions as $action) : ?>
                                <li class="list-group-item bg-auto bg-light-xs">
                                    <div class="box-layout">
                                        <?php switch ($group) {
                                            // TODO - Better way of doing this
                                            case 'lead':
                                                $icon = 'fa-user';
                                                break;
                                            case 'asset':
                                                $icon = 'fa-cloud-download';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818848"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>78</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/OperatorListTrait.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="73" end-line="83"><![CDATA[            ],
            'between' => [
                'label'       => 'mautic.lead.list.form.operator.between',
                'expr'        => 'between', //special case
                'negate_expr' => 'notBetween',
                // @todo implement in list UI
                'hide' => true,
            ],
            '!between' => [
                'label'       => 'mautic.lead.list.form.operator.notbetween',
                'expr'        => 'notBetween', //special case]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819227"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>85</line>
			<resource><![CDATA[app/bundles/LeadBundle/Entity/OperatorListTrait.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="80" end-line="90"><![CDATA[            ],
            '!between' => [
                'label'       => 'mautic.lead.list.form.operator.notbetween',
                'expr'        => 'notBetween', //special case
                'negate_expr' => 'between',
                // @todo implement in list UI
                'hide' => true,
            ],
            'in' => [
                'label'       => 'mautic.lead.list.form.operator.in',
                'expr'        => 'in',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818969"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>245</line>
			<resource><![CDATA[app/bundles/LeadBundle/Form/Type/FilterTrait.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="240" end-line="250"><![CDATA[                    ]
                ),
            ];
        }

        // @todo implement in UI
        if (in_array($data['operator'], ['between', '!between'])) {
            $form->add(
                'filter',
                'collection',
                []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819138"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>461</line>
			<resource><![CDATA[app/bundles/LeadBundle/Model/LeadModel.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="456" end-line="466"><![CDATA[     * @return array
     */
    public function setFieldValues(Lead &$lead, array $data, $overwriteWithBlank = false, $fetchSocialProfiles = true, $bindWithForm = false)
    {
        if ($fetchSocialProfiles) {
            //@todo - add a catch to NOT do social gleaning if a lead is created via a form, etc as we do not want the user to experience the wait
            //generate the social cache
            list($socialCache, $socialFeatureSettings) = $this->integrationHelper->getUserProfiles(
                $lead,
                $data,
                true,]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818901"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>155</line>
			<resource><![CDATA[app/bundles/NotificationBundle/Views/Popup/index.html.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="150" end-line="160"><![CDATA[    else if (browser != "Chrome") {
        if (os == "Android")
            showError("not-chrome-Android");
        else
            showError("not-chrome-desktop");
    } // TODO: Show generic error if SDK reports push notifications not supported.
    else { // They are on Chrome
        if (parseInt(browser_version.substring(0, 2)) < 42) // Check Chrome version
            showError(detectmob() ? "outdated-chrome-mobile" : "outdated-chrome-desktop");
        else if (isHttpsPrompt) {
            if (!isPushEnabled) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819242"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>857</line>
			<resource><![CDATA[app/bundles/PageBundle/Controller/PageController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="852" end-line="862"><![CDATA[     *
     * @return JsonResponse|\Symfony\Component\HttpFoundation\RedirectResponse
     */
    public function winnerAction($objectId)
    {
        //todo - add confirmation to button click
        $page      = $this->get('session')->get('mautic.page.page', 1);
        $returnUrl = $this->generateUrl('mautic_page_index', ['page' => $page]);
        $flashes   = [];

        $postActionVars = []]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819252"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>57</line>
			<resource><![CDATA[app/bundles/PageBundle/EventListener/CalendarSubscriber.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="52" end-line="62"><![CDATA[    /**
     * Adds events to the calendar.
     *
     * @param CalendarGeneratorEvent $event
     *
     * @todo   This method is only a model and should be removed when actual data is being populated
     */
    public function onCalendarGenerate(CalendarGeneratorEvent $event)
    {
        $dates = $event->getDates();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819574"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>13</line>
			<resource><![CDATA[app/bundles/PageBundle/Views/Page/details.html.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="8" end-line="18"><![CDATA[ *
 * @license     GNU/GPLv3 http://www.gnu.org/licenses/gpl-3.0.html
 */

/** @var \Mautic\PageBundle\Entity\Page $activePage */
//@todo - add landing page stats/analytics
$view->extend('MauticCoreBundle:Default:content.html.php');
$view['slots']->set('mauticContent', 'page');
$view['slots']->set('headerTitle', $activePage->getTitle());

$variantContent = $view->render(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818999"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>286</line>
			<resource><![CDATA[app/bundles/PluginBundle/Helper/IntegrationHelper.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="281" end-line="291"><![CDATA[     * @param bool $find If true, array of regexes to find a handle will be returned;
     *                   If false, array of URLs with a placeholder of %handle% will be returned
     *
     * @return array
     *
     * @todo Extend this method to allow plugins to add URLs to these arrays
     */
    public function getSocialProfileUrlRegex($find = true)
    {
        if ($find) {
            //regex to find a match]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819567"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>66</line>
			<resource><![CDATA[app/bundles/PluginBundle/Integration/AbstractIntegration.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="61" end-line="71"><![CDATA[    protected $em;

    /**
     * @param MauticFactory $factory
     *
     * @todo divorce from MauticFactory
     */
    public function __construct(MauticFactory $factory)
    {
        $this->factory    = $factory;
        $this->dispatcher = $factory->getDispatcher();]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819504"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>27</line>
			<resource><![CDATA[app/bundles/PointBundle/Views/Trigger/details.html.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="22" end-line="28"><![CDATA[    'langVar'   => 'point.trigger',
]));
?>

<div class="scrollable trigger-details">
    <?php //@todo - output trigger details/actions?>
</div>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819449"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>80</line>
			<resource><![CDATA[app/config/config.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="75" end-line="85"><![CDATA[                }
            }
        }

        // Build permission object lists
        // @todo - convert to tagged services
        $permissionClasses = [];
        if (file_exists($directory.'/Security/Permissions')) {
            $finder = \Symfony\Component\Finder\Finder::create()->files('*Permissions.php')->in($directory.'/Security/Permissions');

            foreach ($finder as $file) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818732"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>65</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/EventListener/LeadSubscriber.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="60" end-line="70"><![CDATA[    /**
     * @param LeadListFiltersOperatorsEvent $event
     */
    public function onListOperatorsGenerate(LeadListFiltersOperatorsEvent $event)
    {
        // TODO: add custom operators
    }

    /**
     * @param LeadTimelineEvent $event
     *]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818963"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>171</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/Helper/CitrixHelper.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="166" end-line="176"><![CDATA[            // Check if integration is enabled
            if (!self::isAuthorized(self::listToIntegration($listType))) {
                throw new \AuthenticationException('You are not authorized to view '.$listType);
            }
            $currentYear = date('Y');
            // TODO: the date range can be configured elsewhere
            $fromTime = ($currentYear - 10).'-01-01T00:00:00Z';
            $toTime   = ($currentYear + 10).'-01-01T00:00:00Z';
            if ('webinar' === $listType) {
                $url    = 'upcomingWebinars';
                $params = [];]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819052"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>385</line>
			<resource><![CDATA[plugins/MauticCitrixBundle/Helper/CitrixHelper.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="380" end-line="390"><![CDATA[                    );

                    return (is_array($response) && array_key_exists('hostURL', $response)) ? $response['hostURL'] : '';
                } else {
                    if ($product === CitrixProducts::GOTOASSIST) {
                        // TODO: use the sessioncallback to update attendance status
                        /** @var Router $router */
                        $router = self::getContainer()->get('router');
                        $params = [
                            'sessionStatusCallbackUrl' => $router
                                ->generate(]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819416"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>148</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="143" end-line="153"><![CDATA[
        if ($createLead && isset($data['Lead']['Email'])) {
            $createdLeadData = $this->request('', $data['Lead'], 'POST', false, 'Lead');
        }

        //todo: check if push activities is selected in config

        return $createdLeadData;
    }

    /**]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819107"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>202</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Api/SalesforceApi.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="197" end-line="207"><![CDATA[                    }
                }
            }

            if (!empty($activityData)) {
                //todo: log posted activities so that they don't get sent over again
                $queryUrl = $this->integration->getQueryUrl();
                $results  = $this->request(
                    'composite/tree/'.$mActivityObjectName,
                    $activityData,
                    'POST',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819407"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1057</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1052" end-line="1062"><![CDATA[                                'Contact',
                                $checkEmailsInSF[$key],
                                $sfContactRecord['Id']
                            );
                        } else {
                            // @todo - Salesforce doesn't seem to be returning deleted contacts by default
                            $deletedSFLeads[] = $sfContactRecord['Id'];
                        }
                        unset($checkEmailsInSF[$key]);
                    } // Otherwise a duplicate in Salesforce and has already been processed
                }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818847"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>1096</line>
			<resource><![CDATA[plugins/MauticCrmBundle/Integration/SalesforceIntegration.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="1091" end-line="1101"><![CDATA[                                    $sfLeadRecord['Id']
                                );
                                unset($checkEmailsInSF[$key]);
                            }
                        } else {
                            // @todo - Salesforce doesn't seem to be returning deleted contacts by default
                            $deletedSFLeads[] = $sfLeadRecord['Id'];
                            if (!empty($sfLeadRecord['ConvertedContactId'])) {
                                $deletedSFLeads[] = $sfLeadRecord['ConvertedContactId'];
                            }
                            unset($checkEmailsInSF[$key]);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819586"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>145</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="140" end-line="150"><![CDATA[            }
        }

        // copy mixins into scope, set their parents
        // bring blocks from import into current block
        // TODO: need to mark the source parser	these came from this file
        foreach ($root->children as $childName => $child) {
            if (isset($parentBlock->children[$childName])) {
                $parentBlock->children[$childName] = array_merge(
                    $parentBlock->children[$childName],
                    $child]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819190"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>172</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="167" end-line="177"><![CDATA[    {
        $oldSourceParser = $this->sourceParser;

        $oldImport = $this->importDir;

        // TODO: this is because the importDir api is stupid
        $this->importDir = (array) $this->importDir;
        array_unshift($this->importDir, $importDir);

        foreach ($props as $prop) {
            $this->compileProp($prop, $block, $out);]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819474"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2281</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2276" end-line="2286"><![CDATA[                        break;
                    }
                }
            }
        } else {
            // TODO: Throw an exception? We got neither a string nor something
            // that looks like a compatible lessphp cache structure.
            return null;
        }

        if ($root !== null) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818813"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2692</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2687" end-line="2697"><![CDATA[
        if ($this->count != strlen($this->buffer)) {
            $this->throwError();
        }

        // TODO report where the block was opened
        if (!property_exists($this->env, 'parent') || !is_null($this->env->parent)) {
            throw new exception('parse error: unclosed block');
        }

        return $this->env;]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818791"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>2912</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="2907" end-line="2917"><![CDATA[        return false; // got nothing, throw error
    }

    protected function isDirective($dirname, $directives)
    {
        // TODO: cache pattern in parser
        $pattern = implode(
            '|',
            array_map(['lessc', 'preg_quote'], $directives)
        );
        $pattern = '/^(-[a-z-]+-)?('.$pattern.')$/i';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819158"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>3876</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="3871" end-line="3881"><![CDATA[
        return true;
    }

    // a bunch of guards that are and'd together
    // TODO rename to guardGroup
    protected function guardGroup(&$guardGroup)
    {
        $s          = $this->seek();
        $guardGroup = [];
        while ($this->guard($guard)) {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819489"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4076</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4071" end-line="4081"><![CDATA[            $loc = "$this->sourceName on line $line";
        } else {
            $loc = "line: $line";
        }

        // TODO this depends on $this->count
        if ($this->peek("(.*?)(\n|$)", $m, $count)) {
            throw new exception("$msg: failed at `$m[1]` $loc");
        } else {
            throw new exception("$msg: $loc");
        }]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819042"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4092</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4087" end-line="4097"><![CDATA[        $b->parent = $this->env;

        $b->type = $type;
        $b->id   = self::$nextBlockId++;

        $b->isVararg = false; // TODO: kill me from here
        $b->tags     = $selectors;

        $b->props    = [];
        $b->children = [];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818784"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>4128</line>
			<resource><![CDATA[plugins/MauticFocusBundle/Include/lessc.inc.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="4123" end-line="4133"><![CDATA[
        return $old;
    }

    // remove comments from $text
    // todo: make it work for all functions, not just url
    protected function removeComments($text)
    {
        $look = [
            'url(',
            '//',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819129"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>149</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Command/MauticSocialMonitoringCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="144" end-line="154"><![CDATA[     *
     * @throws \Exception
     */
    protected function processMonitorListItem($listItem)
    {
        // @todo set this up to use the command type per-monitor record.
        $networkType = $listItem->getNetworkType();

        $commandName = '';

        // hashtag command]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819128"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>136</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Command/MonitorTwitterBaseCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="131" end-line="141"><![CDATA[            $this->output->writeln('No new tweets');
        }

        $this->setMonitorStats($monitor, $results['search_metadata']);

        // @todo set this up to only print on verbose
        $this->printInformation($monitor, $results);

        // get stats after being updated
        $stats = $monitor->getStats();
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818825"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>145</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Command/MonitorTwitterBaseCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="140" end-line="150"><![CDATA[        $stats = $monitor->getStats();

        ++$this->runCount;

        // if we have stats and a next results request, process it here
        // @todo add a check for max iterations
        if (is_array($stats) && array_key_exists('max_id_str', $stats)
            && ($this->runCount < $this->maxRuns)
            && count($results['statuses'])
        ) {
            // recursive]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819181"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>55</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Command/MonitorTwitterHashtagsCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="50" end-line="60"><![CDATA[            [
                '#'.$params['hashtag'],
            ]
        );

        // @todo set up count to be configurable
        $requestQuery = [
            'q'     => $query,
            'count' => $this->queryCount,
        ];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818766"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>49</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Command/MonitorTwitterMentionsCommand.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="44" end-line="54"><![CDATA[            [
                '@'.$params['handle'],
            ]
        );

        // @todo set up count to be configurable
        $requestQuery = [
            'q'     => $query,
            'count' => $this->queryCount,
        ];
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819182"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>651</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Controller/MonitoringController.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="646" end-line="656"><![CDATA[            $objectId,
            $page,
            'plugin:mauticSocial:monitoring:view',
            'social',
            'monitoring_leads',
            null, // @todo - implement when individual social channels are supported by the plugin
            'monitor_id'
        );
    }

    /*]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819371"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>93</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Form/Type/TweetSendType.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="88" end-line="98"><![CDATA[            );

            // $tweet = $options['data']['channelId'];

            // create button edit tweet
            // @todo: this button requires a JS to be injected to the campaign builder
            // $windowUrlEdit = $this->router->generate(
            //     'mautic_tweet_action',
            //     [
            //         'objectAction' => 'edit',
            //         'objectId'     => 'tweetId',]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818854"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>67</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Integration/GooglePlusIntegration.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="62" end-line="72"><![CDATA[    }

    /**
     * {@inheritdoc}
     *
     * @todo remove key support in 2.0
     */
    public function getUserData($identifier, &$socialCache)
    {
        $this->persistNewLead = false;
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818903"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>266</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Integration/GooglePlusIntegration.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="261" end-line="271"><![CDATA[            'client_secret' => 'mautic.integration.keyfield.clientsecret',
        ];
    }

    /**
     * @todo Remove key support in 2.0
     */
    public function getAuthenticationType()
    {
        if (empty($this->keys['client_id']) && !empty($this->keys['key'])) {
            return 'key';]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818880"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>278</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Integration/GooglePlusIntegration.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="273" end-line="283"><![CDATA[
        return 'oauth2';
    }

    /**
     * @todo Remove key support in 2.0
     *
     * @return string
     */
    public function getAuthTokenKey()
    {]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819250"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="architecture" ignored="false">
			<line>16</line>
			<resource><![CDATA[plugins/MauticSocialBundle/Views/Monitoring/details.html.php]]></resource>
			<title>Source code should not contain TODO comments</title>
			<message><![CDATA[TODO comments are left in the code when a feature (or a bug) isn't completely developed (or fixed). You should complete the implementation and remove the comment.]]></message>
			<context start-line="11" end-line="21"><![CDATA[if (!$isEmbedded) {
    $view->extend('MauticCoreBundle:Default:content.html.php');

    $view['slots']->set('mauticContent', 'monitoring');
    $view['slots']->set('headerTitle', $activeMonitoring->getTitle());
// @todo finish ACL here
    $view['slots']->set('actions', $view->render('MauticCoreBundle:Helper:page_actions.html.php', [
        'item'            => $activeMonitoring,
        'templateButtons' => [
            'edit'   => $view['security']->isGranted('plugin:mauticSocial:monitoring:edit'),
            'delete' => $view['security']->isGranted('plugin:mauticSocial:monitoring:delete'),]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818699"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>0</line>
			<title>Twig should not use auto reload</title>
			<message><![CDATA[You have enabled the auto_reload Twig setting in the production configuration. The template rendering performance is better when this setting is turned off.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819568"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>0</line>
			<resource><![CDATA[themes/coffee/html/page.html.twig]]></resource>
			<title>Twig templates should not contain business logic</title>
			<message><![CDATA[Template too complex, depth of 16 is reached but only 5 is allowed.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819019"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>0</line>
			<resource><![CDATA[themes/Mauve/html/page.html.twig]]></resource>
			<title>Twig templates should not contain business logic</title>
			<message><![CDATA[Template too complex, depth of 27 is reached but only 5 is allowed.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818811"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="architecture" ignored="false">
			<line>0</line>
			<resource><![CDATA[themes/nature/html/page.html.twig]]></resource>
			<title>Twig templates should not contain business logic</title>
			<message><![CDATA[Template too complex, depth of 19 is reached but only 5 is allowed.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818817"
				rel="self" type="text/html" />
		</violation>
		<violation severity="minor" category="codestyle" ignored="false">
			<line>0</line>
			<title>Templates should not be too long</title>
			<message><![CDATA[8% of all your templates have more than 200 lines, the threshold is 5%.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819544"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/blank/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div>
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div>
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818835"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/blank/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="16"><![CDATA[
    <div>
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818861"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/blank/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="12"><![CDATA[{% block stylesheets %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" />
{% endblock %}
{% block content %}
    <div>
        {{ message|raw }}
        {% if content is defined %}
        <div>{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819476"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>9</line>
			<resource><![CDATA[themes/blank/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="4" end-line="12"><![CDATA[{% endblock %}
{% block content %}
    <div>
        {{ message|raw }}
        {% if content is defined %}
        <div>{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819363"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/coffee/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":coffee:base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819121"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/coffee/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="17"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819596"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/coffee/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":coffee:base.html.twig" %}

{% block content %}
    <div class="well text-center">
        <h2>{{ message|raw }}</h2>
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819170"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/coffee/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="11"><![CDATA[
{% block content %}
    <div class="well text-center">
        <h2>{{ message|raw }}</h2>
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818828"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/goldstar/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818990"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/goldstar/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="17"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819381"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/goldstar/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819463"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/goldstar/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="11"><![CDATA[
{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819028"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/Mauve/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":Mauve:base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819285"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/Mauve/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="17"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818996"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/Mauve/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":Mauve:base.html.twig" %}

{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819325"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/Mauve/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="11"><![CDATA[
{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819346"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/nature/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":nature:base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819294"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/nature/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="17"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819375"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/nature/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":nature:base.html.twig" %}

{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819172"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/nature/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="11"><![CDATA[
{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818858"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/neopolitan/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819404"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/neopolitan/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="16"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819205"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/neopolitan/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818794"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/neopolitan/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="10"><![CDATA[
{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818888"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/oxygen/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819532"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/oxygen/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="16"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819069"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/oxygen/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818731"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/oxygen/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="10"><![CDATA[
{% block content %}
    <div class="well text-center">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819556"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/skyline/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819013"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/skyline/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="16"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819269"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/skyline/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="12"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    <div class="container">
        <div class="well text-center">
            {{ message|raw }}
            {% if content is defined %}
            <div class="text-left">{{ content|raw }}</div>
            {% endif %}
        </div>
    </div>]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818921"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>9</line>
			<resource><![CDATA[themes/skyline/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="4" end-line="13"><![CDATA[{% block content %}
    <div class="container">
        <div class="well text-center">
            {{ message|raw }}
            {% if content is defined %}
            <div class="text-left">{{ content|raw }}</div>
            {% endif %}
        </div>
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819277"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>6</line>
			<resource><![CDATA[themes/sunday/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="11"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    {% if message is defined %}
        <div class="well text-center">
            <h2>{{ message|raw }}</h2>
        </div>
    {% endif %}

    <div class="form-container">
        {% if header is defined %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818976"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>14</line>
			<resource><![CDATA[themes/sunday/html/form.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="9" end-line="16"><![CDATA[
    <div class="form-container">
        {% if header is defined %}
        <h4>{{ header }}</h4>
        {% endif %}
        {{ content|raw }}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819413"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>5</line>
			<resource><![CDATA[themes/sunday/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="1" end-line="10"><![CDATA[{% extends ":"~template~":base.html.twig" %}

{% block content %}
    <div style="width: 800px; margin: 40px auto">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818985"
				rel="self" type="text/html" />
		</violation>
		<violation severity="critical" category="security" ignored="false">
			<line>7</line>
			<resource><![CDATA[themes/sunday/html/message.html.twig]]></resource>
			<title>Website should be protected against XSSVulnerability</title>
			<message><![CDATA[Using the |raw filter or the {% autoescape false %} block in a Twig template exposes users to Cross-Site Scripting (XSS) attacks]]></message>
			<context start-line="2" end-line="11"><![CDATA[
{% block content %}
    <div style="width: 800px; margin: 40px auto">
        {{ message|raw }}
        {% if content is defined %}
        <div class="text-left">{{ content|raw }}</div>
        {% endif %}
    </div>
{% endblock %}
]]></context>
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819388"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>0</line>
			<resource><![CDATA[../]]></resource>
			<title>Web applications should contain a favicon</title>
			<message><![CDATA[No favicon found in the web root directory]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516818894"
				rel="self" type="text/html" />
		</violation>
		<violation severity="major" category="performance" ignored="false">
			<line>0</line>
			<resource><![CDATA[../]]></resource>
			<title>Web applications should contain a robots.txt file</title>
			<message><![CDATA[The web root doesn't contain a robots.txt file. Search engines will ask for it, so not providing it will affect Search Engine ranking, and add load to the server needlessly.]]></message>
			<context />
			<link
				href="https://insight.sensiolabs.com/projects/6cd0e10b-8f44-42c3-a18f-b8708709f1b7/analyses/7?status=existing#516819241"
				rel="self" type="text/html" />
		</violation>
	</violations>
	<grades>
		<entry><![CDATA[none]]></entry>
		<entry><![CDATA[bronze]]></entry>
		<entry><![CDATA[silver]]></entry>
		<entry><![CDATA[gold]]></entry>
		<entry><![CDATA[platinum]]></entry>
	</grades>
	<failed>false</failed>
	<grade><![CDATA[none]]></grade>
	<next-grade><![CDATA[bronze]]></next-grade>
	<begin-at><![CDATA[2017-04-23T18:37:07+0200]]></begin-at>
	<end-at><![CDATA[2017-04-23T18:40:08+0200]]></end-at>
	<duration>124</duration>
	<number>7</number>
	<altered>false</altered>
	<remediation-cost>2038.6</remediation-cost>
	<nb-violations>1499</nb-violations>
	<reference><![CDATA[4364c1318665d3368179a1f84dd063272bc4dd9e]]></reference>
	<configuration>
		<ignored-branches>
			<branch><![CDATA[gh-pages]]></branch>
		</ignored-branches>
		<pre-composer-script />
		<post-composer-script />
		<working-directory />
		<php-version>5</php-version>
		<php-ini />
		<commit-failure-conditions>
			<branch><![CDATA[project.severity.critical > 0]]></branch>
			<branch><![CDATA[project.severity.major > 0]]></branch>
		</commit-failure-conditions>
		<global-excluded-dirs>
			<dir><![CDATA[vendor]]></dir>
			<dir><![CDATA[vendors]]></dir>
			<dir><![CDATA[test]]></dir>
			<dir><![CDATA[tests]]></dir>
			<dir><![CDATA[Tests]]></dir>
			<dir><![CDATA[spec]]></dir>
			<dir><![CDATA[features]]></dir>
			<dir><![CDATA[Fixtures]]></dir>
			<dir><![CDATA[DataFixtures]]></dir>
			<dir><![CDATA[var]]></dir>
		</global-excluded-dirs>
		<excluded-patterns>
			<pattern><![CDATA[app/check.php]]></pattern>
			<pattern><![CDATA[app/SymfonyRequirements.php]]></pattern>
			<pattern><![CDATA[web/config.php]]></pattern>
			<pattern><![CDATA[web/app_*.php]]></pattern>
			<pattern><![CDATA[upgrade.php]]></pattern>
			<pattern><![CDATA[app/bundles/CoreBundle/Assets/js/libraries/ckeditor/*]]></pattern>
		</excluded-patterns>
		<patterns>
			<file>
				<pattern><![CDATA[*.php]]></pattern>
				<pattern><![CDATA[*.twig]]></pattern>
				<pattern><![CDATA[*.xml]]></pattern>
				<pattern><![CDATA[*.yml]]></pattern>
				<pattern><![CDATA[*.yaml]]></pattern>
				<pattern><![CDATA[*.ini]]></pattern>
				<pattern><![CDATA[*.dist]]></pattern>
				<pattern><![CDATA[*.sql]]></pattern>
				<pattern><![CDATA[*.md]]></pattern>
				<pattern><![CDATA[*.rst]]></pattern>
				<pattern><![CDATA[composer.*]]></pattern>
				<pattern><![CDATA[.gitignore]]></pattern>
				<pattern><![CDATA[LICENSE]]></pattern>
				<pattern><![CDATA[README]]></pattern>
				<pattern><![CDATA[Makefile]]></pattern>
				<pattern><![CDATA[.htaccess]]></pattern>
			</file>
			<php>
				<pattern><![CDATA[*.php]]></pattern>
			</php>
			<twig>
				<pattern><![CDATA[*.twig]]></pattern>
			</twig>
		</patterns>
		<rules />
		<parameters>
			<parameter name="project_type">10</parameter>
		</parameters>
		<env />
	</configuration>
	<previous-analyses-references>
		<analysis-reference number="7">4364c1318665d3368179a1f84dd063272bc4dd9e
		</analysis-reference>
		<analysis-reference number="6">5846979018ba327f26a977a6dbf63e678fe33a7d
		</analysis-reference>
		<analysis-reference number="5">c46a9eae6f588f083dad771c091a268acf17f8d8
		</analysis-reference>
		<analysis-reference number="4">c055aabe476418218deaef9a68cec91119e4cbbd
		</analysis-reference>
		<analysis-reference number="3">dfb507c5c9afa22b2941e33616687bbb318043ba
		</analysis-reference>
		<analysis-reference number="2">0506f606be8bf3bdcfba5c57c8b5d832d66528c1
		</analysis-reference>
		<analysis-reference number="1">df868f8930b611148b21450c5a9659cc28d05f67
		</analysis-reference>
	</previous-analyses-references>
	<nb-violations-new>2</nb-violations-new>
	<nb-violations-existing>990</nb-violations-existing>
	<nb-violations-fixed>2</nb-violations-fixed>
	<nb-violations-ignored>2</nb-violations-ignored>
</analysis>